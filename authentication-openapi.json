{"openapi":"3.0.0","info":{"title":"Authing Authentication API","description":"\n\n[Authing](https://authing.co/) 是一款国内领先的、基于云原生架构的 IDaaS 产品，兼容 OAuth 2.0, OIDC, SAML, AD/LDAP, WS-Fed 等所有主流认证 / 授权协议，可以帮助你快速实现任何 Web、App 和企业软件的身份认证和用户管理，为你的客户和员工提供安全且完善的登录解决方案。\n\n<img src=\"https://files.authing.co/api-explorer/what-is-authing.png\" alt=\"drawing\"/>  \n","version":"3.0","contact":{},"x-logo":{"url":"https://files.authing.co/authing-logo.png","href":"https://authing.co","altText":"Authing Website"},"x-servers":[{"url":"https://your_domain.authing.cn","description":"你的应用域名"}],"x-meta":{"title":"Authing Authentication API (v3)","description":"Authing 是一款国内领先的、基于云原生架构的 IDaaS 产品，兼容 OAuth 2.0、OIDC、SAML、AD/LDAP、WS-Fed 等所有主流认证 / 授权协议，可以帮助你快速实现任何 Web、App 和企业软件的身份认证和用户管理，为你的客户和员工提供安全且完善的登录解决方案。","keywords":"Documentation, Authing, IDaaS, OIDC, OAuth, 微信, 社会化登录","image":"https://authing.co/favicon.ico"}},"tags":[{"name":"开发准备/介绍","description":"此文档为 Authing 认证 API 文档，适用版本为 Authing Authentication API (v3)。Authing 认证 API 全部以终端用户（End User）的身份进行请求。Authing 认证 API 提供了登录、注册、登出、MFA、检查登录态、OIDC 标准协议等所有与认证相关的接口。Authing 认证 API 通常适用于在浏览器环境或者后端服务器环境调用。\n","x-displayName":"介绍"},{"name":"开发准备/基本概念","description":"在你正式进入开发前，需要先了解一下 Authing 几个最核心的概念。\n\n## 用户池\n\n**用户池**是 Authing 租户与租户之间的隔离单位，你拥有的所有用户数据、应用、资源等，都在一个**用户池**下。如果你还没有注册 Authing 账号，或者还未创建**用户池**，请先前往 [https://authing.co/](https://authing.co/) 创建你的第一个**用户池**。\n\n## 应用\n\nAuthing 中的**应用**对应了你实际开发的应用，比如当你要基于 Authing 开发一个商城 APP 的时候，你在 Authing 的用户池中也会创建一个对应的应用。**每个应用有自己的应用 ID、应用密钥和二级域名**，当你需要调用此部分的 API 时，你会需要用到他们。\n\n## 外部身份源\n\n**外部身份源**（又称身份提供商，英文全称为 Identity Provider，简称 IdP）指的是一个负责收集、存储用户身份信息，如用户名、密码等，在用户登录时负责认证用户的第三方，比如我们经常使用**微信社会化登录**、**Google 社会化登录**等。使用外部身份源可以降低开发者等维护成本以及终端用户的使用成本。\n\n在 Authing 中，我们将身份提供商分为以下几种：\n\n- [社会化身份源](https://docs.authing.cn/v2/guides/connections/social.html)：如微信、支付宝、GitHub、Apple 这类面向所有公众开放的第三方应用。\n- [企业身份源](https://docs.authing.cn/v2/guides/connections/enterprise.html)：企业微信、钉钉、飞书、WeLink 这类一般面向于单个公司内部开放的应用，以及其他以 Windows AD、OIDC、SAML、LDAP、CAS、OAuth2.0 等标准协议对外提供服务的第三方应用。\n- [自定义数据库](https://docs.authing.cn/v2/guides/database-connection/overview.html)：采用配置自定义数据库连接和脚本的方式，将用户数据存储到你自己的数据库，Authing 将不再存储你的用户数据。\n\n## 外部身份源连接\n\n一个外部身份源，对外可能会暴露多种**连接方式**。就像微信，作为一个外部身份源，它会有微信 PC 扫码登录、PC 小程序扫码登录、小程序登录、移动端微信登录、公众号关注登录、微信网页授权等多种登录方式；再比如 Apple，也分为 Apple 移动端登录和 Apple Web 端登录。\n\n对于终端用户而言，不同的连接方式对应了在不同场景下的不同登录手段。但是对于一个终端用户，不同登录方式背后的身份是同一个。就好比用户使用微信登录你开发的 Web 应用时，可以采用微信 PC 扫码登录这种登录方式，而当要使用微信 APP 登录你的移动应用时，可以采用微信移动端登录这种登录方式，但是他们本质上都是使用一个身份进行登录。\n\n对于开发者而言，只需要关心在什么场景下需要给用户呈现哪种登录方式，至于如何将使用不同连接方式登录的终端用户识别为同一个账号，Authing 的认证引擎会为你省去这些繁琐的工作。\n\n根据连接方式的不同，不同类型的身份源连接方式在用户使用形式、接入方式上也存在差异。大致上可以分为三类：\n\n- [**Web 端浏览器跳转类**](#tag/登录/跳转登录)：需要浏览器跳转到第三方身份源的登录页，用户完成授权之后，再回到当前页面。此类可以通过直接替换当前页面地址和弹出 Popup 窗口实现。例如微信 PC 扫码登录、Google 社会化登录等。\n- [**Web 端内嵌二维码扫码登录类**](#tag/登录/扫码登录)：和「Web 端浏览器跳转类」不同，此类连接方式不需要浏览器跳转，而是让用户在移动端 APP 上扫码，浏览器采用二维码轮询的方式监听登录态。例如微信公众号关注登录和 Authing 自创的小程序扫码登录。\n- [**移动端拉起第三方应用类**](#tag/登录/移动端社会化登录)：在移动 APP 中，跳转到第三方身份源的 APP，用户完成授权之后，再回到当前 APP。例如在移动 APP 中使用微信、支付宝登录。\n\n针对以上这三种场景，我们都提供了对应的 API，帮助你实现快速接入你想要的外部身份源登录。\n","x-displayName":"基本概念"},{"name":"开发准备/HTTP 请求","description":"## API 端点\n\nAuthing Authentication API (v3) Root 端点为：[https://\\<YOUR_DOMAIN\\>.authing.cn](#) （需要将 `YOUR_DOMAIN` 替换为你自己的应用域名，[应用域名获取方式请见此](#section/应用)）。\n\n所有接口均通过 HTTPS 加密传输，如非特殊标记，请求参数和返回数据均通过 `application.json` 格式传递。\n\n> 如果是私有化部署的 Authing 服务，API 端点信息请联系你的客户经理获取。\n\n## HTTP 请求动词\n\nAuthing Authentication API (v3) 目前使用到了两种 HTTP 动词：\n\n| HTTP 请求动词 | 描述                       |\n| ------------- | -------------------------- |\n| GET           | 用于获取资源。             |\n| POST          | 用于创建、修改、删除资源。 |\n\n## HTTP 路径\n\nAuthing Authentication API (v3) 接口一般遵循 `/api/v3/verb` 的接口命名规范，`verb` 如果包含多个单词，使用 `-` 隔开，如：\n\n- 使用用户凭证登录：`/api/v3/signin`\n- 绑定邮箱：`/api/v3/bind-email`\n\n## HTTP 请求头\n\n**调用 Authing Authentication API (v3) 时必须携带以下请求头**：\n\n| 请求头 | 是否必填 | 含义 ​ |\n| content-type | 是 | 如接口未特殊说明，请填 `application/json` |\n| ---------------- | -------- | ------------------------------------------------------------------------------------- |\n| x-authing-app-id | 是 | Authing 应用 ID，[应用 ID 获取方式请见此](#section/应用)。 |\n| authorization | 否 | 用户的 `access_token`，当用户登录之后可以获取。要求具备用户登录态才能访问的接口必填。 |\n\n## HTTP 重定向\n\n在某些情况下，Authing Authentication API (v3) 接口会返回一个 **HTTP 重定向** 的响应，重定向的内容将会放在 **Response Header** 的 `Location` 字段上。\n\n## HTTP 响应结构\n\n如非接口特殊声明，Authing Authentication API (v3) 的响应体格式如下：\n\n```json\n{\n  \"statusCode\": <STATUS_CODE>,\n  \"apiCode\": <API_CODE>,\n  \"message\": <ERROR_MESSAGE>, // 错误描述信息\n  \"data\": <RESPONSE_DATA>, // 具体响应数据\n}\n```\n\n`statusCode` 和 `apiCode` 的具体描述和错误处理方式见[错误处理](#tag/开发准备/错误处理)。\n","x-displayName":"HTTP 请求"},{"name":"开发准备/分页请求","description":"默认情况下，分页接口默认一页会返回 10 个元素，并且如果无特殊说明，每页最大值为 50 个，你可以通过 `page` 和 `limit` 参数指定对应的页码和每页包含的元素个数。示例：\n\n```bash\ncurl 'https://<YOUR_DOMAIN>.authing.cn/api/v3/get-login-history?page=2&limit=50'\n```\n","x-displayName":"分页请求"},{"name":"开发准备/配置安全域","description":"默认情况下，Authing 不会校验 API 请求来源，你可以在 Authing 控制台中的**安全设置 - 基础安全 - 配置安全域（CORS）**，如果有多个域名，可以通过换行符（`\\n`）进行分割。配置之后，只有在你安全域配置白名单中的域，才能调用相关 API。\n\n<img src=\"https://files.authing.co/api-explorer/9d0b6685-dfdb-4c38-9812-1e732a5c1b82.png\" alt=\"drawing\"/>\n","x-displayName":"配置安全域"},{"name":"开发准备/密码安全传输","description":"## HTTPS 加密传输\n\nAuthing 所有 API 均通过 HTTPS 协议对密码进行安全传输，可以在一定程度上保证安全性。如果你还需要更高级别的安全性，我们还支持 `RSA256` 和[国密 SM2](https://baike.baidu.com/item/SM2/15081831) 两种方式对密码进行加密。\n\n## RSA256\n\nAuthing 支持使用 RSA256 非对称加密方式对密码进行安全传输，你需要使用 Authing 的 RSA 公钥对密码进行加密，发送到 Authing 服务器后端之后，Authing 服务器会使用私钥进行解密。\n\nAuthing 的 RSA 公钥如下，你也可以通过此[端点](#tag/其他/公开信息端点/operation/PublicAPIV3Controller_getSystemInfo)拉取：\n\n```\n-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC4xKeUgQ+Aoz7TLfAfs9+paePb\n5KIofVthEopwrXFkp8OCeocaTHt9ICjTT2QeJh6cZaDaArfZ873GPUn00eOIZ7Ae\n+TiA2BKHbCvloW3w5Lnqm70iSsUi5Fmu9/2+68GZRH9L7Mlh8cFksCicW2Y2W2uM\nGKl64GDcIq3au+aqJQIDAQAB\n-----END PUBLIC KEY-----\n\n```\n\n> 如果是私有化部署的 Authing 服务，RSA 256 公钥端点信息请联系你的客户经理获取。\n\n你可以参考此 Demo，其包含了使用 RSA256 加密密码的示例：[https://github.com/Authing/password-encryption](https://github.com/Authing/password-encryption)。\n\n如果你只是简单调试，可以使用[此在线调试工具](http://www.metools.info/code/c81.html)使用上面的公钥对密码进行加密。\n\n## 国密 SM2\n\nAuthing 支持使用国密 SM2 密方式对密码进行安全传输，你需要使用 Authing 的 SM2 公钥对密码进行加密，发送到 Authing 服务器后端之后，Authing 服务器会使用私钥进行解密。\n\nAuthing 的 SM2 公钥如下，你也可以通过此[端点](#tag/其他/公开信息端点/operation/PublicAPIV3Controller_getSystemInfo)拉取：\n\n```\n0467b5e059de9770174620de26ef79fcb74cfedd7b5fab5135da53ab89080fc8fc0ec90d737cf0b2fc30d01aef5c454bbab992f9ccf7707b6394139ee9ff342f34\n```\n\n> 如果是私有化部署的 Authing 服务，SM2 公钥端点信息请联系你的客户经理获取。\n\n你可以参考此 Demo，其包含了使用 SM2 加密密码的示例：[https://github.com/Authing/password-encryption](https://github.com/Authing/password-encryption)。\n\n如果你只是简单调试，可以使用[此在线调试工具](http://www.lzltool.com/SM2)使用上面的公钥对密码进行加密。\n","x-displayName":"密码安全传输"},{"name":"开发准备/接口限流","description":"针对免费账户，Authing 默认的接口限流频率为 300 QPS / 用户池。如果触发了我们的 QPS 限制，你将收到以下错误提示：HTTP code 为 `429`，响应体为：\n\n```json\n{\n  \"statusCode\": 429,\n  \"message\": \"您的请求已超过最大数量限制，请稍后重试\"\n}\n```\n\n> 如果你触发了接口限流阈值，请升级套餐并联系 Authing 客服申请更大的 QPS 限制。\n","x-displayName":"接口限流"},{"name":"开发准备/服务对外 IP","description":"当你进行配置自定义数据库、接收 Webhook 通知等操作时，你可能需要获取 Authing 服务的对外 IP，并修改防火墙配置。Authing 服务的对外 IP 可以通过[此端点](#tag/其他/公开信息端点/operation/PublicAPIV3Controller_getSystemInfo)获取。\n","x-displayName":"服务对外 IP"},{"name":"开发准备/错误处理","description":"Authing Authentication API (v3) 采取了和标准 RESTFul API 不完全一致的错误处理方案，如果没有特殊说明，\n所有接口返回的 HTTP 状态码均为 `200`。一个 HTTP 状态码为 `200` 的响应，不能视为操作成功，你需要通过相应体的具体内容进行判断。\n\nAuthing Authentication API (v3) 接口响应体中，包含了两个状态码：`statusCode` 和 `apiCode`：\n\n- `statusCode`: `statusCode` 为请求状态码，不包含具体的业务错误信息。**当且仅当 `statusCode` 为 `200` 时，表示接口请求成功**，此时不会带有 `apiCode`。`statusCode` 不为 `200` 的情况下，\n  表示接口请求失败或者需要进行额外操作（比如登录接口需要进行 MFA 二次验证），你需要对此进行关注，进行必要的错误处理。每个 `statusCode` 对应一个类型的错误，\n  具体的错误分类请见下文。在大多数情况下，除非你需要对某些特定的异常做出响应，否则你只需要关注 `statusCode`，不需要关注 `apiCode`。\n- `apiCode`: `apiCode` 为业务状态码，每个 `apiCode` 具备特定的错误含义，具体的 `apiCode` 列表见下文。`apiCode` 只会在 `statusCode` 非 200 且错误原因具备业务含义时才会返回。\n\n## statusCode\n\n- [200] OK\n- [4xx] 客户端异常\n  - [400]InvalidArgumentError：请求参数格式错误\n  - [401]UnauthorizedError：用户未登录\n  - [402]PaymentNeededError：此接口需要升级套餐之后使用\n  - [403]ForbiddenError：没有权限执行某操作\n  - [404]NotFoundError：找不到资源\n  - [409]ConflictError：要创建的资源和已有资源存在字段冲突\n  - [413]PayloadTooLargeError：请求体过大\n  - [422]InvalidOperationError：非法操作（参数格式正确，但不符合业务限制）\n  - [429]ThrottleError：触发限流机制\n  - [499]ClientError：通用客户端异常\n- [5xx] 服务器端异常\n  - [500]ServerError：通用服务端异常\n  - [501]UnsupportedOperationError：服务器不支持的操作\n  - [502]BadGatewayError：微服务调用出错\n  - [503]ServiceUnavailableError：维护中\n- [6xx] 第三方服务调用异常\n  - [601]EndpointRequestError：请求第三方端点失败\n  - [602]EndpointResponseError：第三方端点返回了错误\n  - [603]CustomCodeError：自定义代码出错，例如 pipeline 或自定义数据库\n\n## apiCode\n\n| apiCode | 描述                                                       |\n| :------ | :--------------------------------------------------------- |\n| 1300    | AK/SK 签名不合法                                           |\n| 1301    | AK/SK 签名方式和服务端不匹配                               |\n| 1302    | AK/SK 签名版本和服务端不匹配                               |\n| 1303    | AK/SK 签名时间戳格式不正确，应该是单位为毫秒的 Unix 时间戳 |\n| 1304    | 使用 AK/SK 签名机制时，请求头中没有 date 请求头            |\n| 1305    | AK/SK 签名时间戳和服务器时间戳相差较大，此次请求不被允许   |\n| 1306    | AK/SK 签名已经被消费过，此次请求不被允许                   |\n| 1600    | 认证后流程成功完成，登录态已设置                           |\n| 1635    | 个人（个人中心绑定）MFA                                    |\n| 1636    | 企业（应用下配置的） MFA                                   |\n| 1639    | 首次登录重置密码（不需要验证旧密码）                       |\n| 1640    | 触发联邦认证询问身份绑定，只允许绑定现有账号               |\n| 1641    | 触发联邦认证询问身份绑定，允许绑定现有账号和创建新账号     |\n| 1642    | 登录信息补全                                               |\n| 1643    | 用户自主解锁                                               |\n| 1699    | 提前终止认证后流程，返回登录界面                           |\n| 1700    | 未上传人脸识别的照片                                       |\n| 1701    | 人脸对比时，未上传需要对比的图片                           |\n| 1702    | 人脸校验错误                                               |\n| 1703    | 未绑定邮箱或手机号，无法绑定人脸                           |\n| 1704    | 绑定人脸时，手机验证失败                                   |\n| 1705    | 绑定人脸时，邮箱验证失败                                   |\n| 1706    | 人脸已被绑定                                               |\n| 1707    | 绑定人脸失败                                               |\n| 2004    | 用户未找到                                                 |\n| 2005    | 用户已锁定                                                 |\n| 2006    | 密码错误                                                   |\n| 2011    | 应用不存在                                                 |\n| 2020    | 尚未登录，无权限访问此请求                                 |\n| 2031    | 应用已禁止注册用户                                         |\n| 2039    | 应用域名已被占用                                           |\n| 2040    | 用户池域名已被占用                                         |\n| 2058    | 强制重置密码（需要验证旧密码）                             |\n| 2224    | 用户池不存在                                               |\n| 2333    | 用户名或密码错误                                           |\n| 4021    | 计量计费错误                                               |\n| 6001    | Totp 码错误                                                |\n| 6002    | Totp 恢复码错误                                            |\n| 6003    | 未输入 Totp 安全码                                         |\n| 6004    | 未输入 Totp 恢复码                                         |\n| 2120008 | 用户已停用或不是此租户成员                                 |\n| 2130010 | 用户无权限登录此租户                                       |\n| 2820002 | 无效的 LDAP 链接                                           |\n\n## 响应数据示例\n\n一个成功的请求响应数据示例如下：\n\n```json\n{\n  // 此响应表示请求成功，所以不会返回 apiCode\n  \"statusCode\": 200,\n  \"message\": \"\",\n  \"data\": {\n    // ... 省略具体数据\n  }\n}\n```\n\n一个失败的请求响应数据示例如下：\n\n```json\n{\n  // 此类型错误不具备具体的业务含义，所以不会返回 apiCode\n  \"statusCode\": 429,\n  \"message\": \"您的请求已超过最大数量限制，请稍后重试\"\n}\n```\n\n以及：\n\n```json\n{\n  // 账号不存在或密码错误具备业务含义，所以返回了对应的 apiCode: 2333\n  \"statusCode\": 403,\n  \"apiCode\": 2333,\n  \"message\": \"Account not exists or password is incorrect.\"\n}\n```\n\n## 我该如何处理 statusCode 和 apiCode\n\n在大多数情况下，除非你需要对某些特定的异常做出响应，否则你只需要关注 `statusCode`，不需要关注 `apiCode`。\n比如登录接口，如果你只需要在用户登录失败的时候给出错误提示，可以不用关心 `apiCode`；但是如果你需要对某一种\n特定的业务错误进行额外处理，就需要根据 `apiCode` 进行判断。\n","x-displayName":"错误处理"},{"name":"开发准备/使用管理 API","description":"此部分为 Authing Authentication API (v3)，所有的 API 均为以终端用户视角发起。如果你需要进行用户管理、组织机构管理、应用管理等管理操作，[点此查看 Authing Management API (v3)](#TODO) （管理 API）。\n","x-displayName":"使用管理 API"},{"name":"登录/概述","description":"此部分会介绍 Authing 支持的所有登录方式、你该如何选择使用哪种登录方式，以及每种登录方式对应的 API。\n","x-displayName":"概述"},{"name":"登录/Authing 支持的登录方式","description":"Authing 提供以下四种形式的登录方式，你可以根据自己的具体情况进行选择。\n\n## 使用托管登录页登录\n\n终端用户会跳转到你在 Authing 托管的在线登录页进行认证，认证完成之后回调到你的应用系统。**此端点支持 Authing 现在所有的认证能力，包含密码认证、社会化登录认证、扫码登录等，这也是我们推荐的认证方式**。我们也提供了嵌入式的登录组件 —— Guard，包含[Web 端](https://docs.authing.cn/v2/reference/guard/v2/)、[iOS](https://docs.authing.cn/v2/reference/sdk-for-ios/)、[Android](https://docs.authing.cn/v2/reference/sdk-for-android/)。\n\n<details>\n<summary>点击展开演示示例</summary>\n\n[Authing Browser SDK]() 为开发者封装了两种形式：\n\n- `Redirect` 模式：当用户在你的业务系统时，点击登录，浏览器通过 `302` 跳转，替换当前浏览器页面地址，当用户在 Authing 认证完成之后再跳转回来，并携带临时 `code` 用户换取用户凭证。\n\n<iframe width=\"560\" height=\"315\" src=\"https://files.authing.co/api-explorer/authing-ext-idp-conn-web-redirect-with-redirect.mp4\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n- `Popup` 模式：当用户在你的业务系统时，点击登录，通过弹出浏览器 `Popup` 窗口，不需要替换浏览器当前地址，当用户在 Authing 完成认证之后，通过浏览器的 **Post Message** 和父窗口通信，并返回用户的凭证。\n\n<iframe width=\"560\" height=\"315\" src=\"https://files.authing.co/api-explorer/authing-ext-idp-conn-web-redirect-with-popup.mp4\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n你还可以指定对应的外部身份源连接，这样将不会展示 Authing 的登录框，而是直接跳转到外部身份源的认证地址：\n\n<iframe width=\"560\" height=\"315\" src=\"https://files.authing.co/api-explorer/authing-ext-idp-conn-web-redirect-with-popup.mp4\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\n</details>\n\n## 外部身份源（社会化）登录\n\n<details>\n<summary>TODO: 点击展开演示示例</summary>\nTODO\n</details>\n\n## 使用用户凭证登录\n\n如账号密码登录、手机号验证码登录、AD 身份源登录等，适合用于希望完全自建登录页面的场景。\n\n<details>\n<summary>TODO: 点击展开演示示例</summary>\nTODO\n</details>\n\n## 移动端社会化登录\n\n如微信移动端社会化登录、支付宝社会化登录等，适合用于移动端。\n\n<details>\n<summary>TODO: 点击展开演示示例</summary>\nTODO\n</details>\n\n## 扫码登录\n\n分为生成二维码、查询二维码状态、使用 ticket 换取 id_token 和 access_token 三个步骤。Authing 目前共支持三种类型的扫码登录：\n[微信公众号扫码登录](https://docs.authing.cn/v2/guides/connections/social/wechatmp-qrcode/)、[Authing 自创的小程序扫码登录](https://authing.co/verify)、[自建 APP 扫码登录](https://docs.authing.cn/v2/guides/authentication/qrcode/use-self-build-app/)。\n如果你感兴趣，也可以了解[扫码登录的原理](https://docs.authing.cn/v2/concepts/how-qrcode-works.html)。\n\n<details>\n<summary>TODO: 点击展开演示示例</summary>\nTODO\n</details>\n\n<br>\n\n你可以基于自己的实际情况选择适合自己的登录方式。用户认证完成之后，你可以获取到用户的 `id_token` 和 `access_token`（具体获取方式请分别阅读对应的 API 文档）。\n","x-displayName":"Authing 支持的登录方式"},{"name":"登录/我应该选择哪种登录方式","description":"1. 如果你开发的是 Web 应用，我们优先推荐[基于 OIDC 标准协议的认证端点](#tag/登录/跳转登录)。Authing 托管的在线登录页完全由 Authing 托管，你不需要部署单独服务器。当有新功能发布时，Authing 托管登录页可以得到实时体现，不需要开发者人工介入。\n2. 如果你开发的是 Web 应用，需要将 Authing 托管的在线登录页以组件形式嵌入到你的业务系统，我们提供了[可嵌入的登录组件 Guard](https://docs.authing.cn/v2/reference/guard/v2/)。\n3. 如果你开发的是 Web 应用，并希望**自建登录页面**，我们提供了以下原子化 API 供你选择：\n\n- [使用用户凭证登录接口](#tag/登录/使用用户凭证登录)：基于用户凭证的认证方式（用户名 + 密码，邮箱 + 密码，手机号 + 密码，账号（用户名、邮箱、手机号三合一） + 密码）、基于一次性临时验证码（手机号 + 验证码，邮箱 + 验证码）、基于 LDAP 用户目录、基于 AD 用户目录。\n- [外部身份源登录](#tag/登录/社会化登录)：跳转到第三方外部身份源（比如社会化登录）进行认证。\n- [扫码登录](#tag/登录/扫码登录): 包含生成二维码、查询二维码状态、使用 ticket 换取 id_token 和 access_token 三个接口。\n\n4. 如果你开发的是移动端应用，我们优先推荐使用 [iOS](https://docs.authing.cn/v2/reference/sdk-for-ios/)/[Android](https://docs.authing.cn/v2/reference/sdk-for-android/) 版本的 Guard 组件。如果你希望完全自定义 UI 样式，和 Web 端类似，我们也提供了[使用用户凭证登录接口](#tag/登录/使用用户凭证登录)、[移动端社会化登录](#tag/登录/移动端社会化登录)的原子化 API。\n","x-displayName":"我应该选择哪种登录方式"},{"name":"登录/实现单点登录","description":"在了解如何实现单点登录之前，先得明确一下单点登录（也就是我们经常说的 `SSO`）的定义：简单来说，单点登录指的是在多个应用系统中，用户只需登录一次即可访问所有相互信任的应用系统。这里面有几种重要的点：\n\n- **多个应用新系统**: 如果你只有一个应用，理论上就不存在单点登录的问题了。\n- **登录一次**：认证操作应该是在一个**中心的认证系统**中完成（我们一般把他叫做**认证中心**或者**用户中心**）由**认证中心**去同一维护用户的登录态；各个业务子系统需要接入**认证中心**的认证体系，必要的话需要进行一定程度的改造，将**认证中心**的用户登录态作为 **Source Of Truth**。\n- **访问**所有相互信任的应用系统：用户在**认证中心**认证完成后，会携带**用户凭证**跳转到**业务子系统**，业务子系统拿到**用户凭证**之后，后续请求自身系统的 API 时，应该带上此凭证，并且前往**认证中心**校验此凭证的合法性（很多情况下出于性能和实时性的平衡，我们也会在子业务系统处添加缓存，以减少中心服务器的压力）。\n- **互相信任**的应用系统：子业务系统如果要接入**认证中心**，是需要先在**认证中心**进行注册的，一般可以通过**配置回调地址**来防止恶意的第三方获取到**用户凭证**。\n\n如何你要用 Authing 来实现单点登录，Authing 在其中扮演的角色就是**认证中心**了，Authing 会为你维护用户的登录态。\n\n搞清了什么是单点登录之后，我们再来看一下单点登录的几种经典实现方式，以及 Authing 中单点登录的实现方式。\n\n## 基于认证中心的 Cookie/Session\n\n这种方式的核心思路在于：用户在认证中心完成认证之后，认证中心在自己的域名下会写入一个 Cookie，各个子业务系统去请求认证中心的“检查用户是否登录”的接口时，浏览器会携带上此 Cookie，从而获取到用户的登录态。但是考虑到浏览器厂商对于跨域 Cookie 的安全性限制：从 13.1 版本开始，Safari 默认会阻止第三方 Cookie；从 Chrome 83 版本开始，隐身模式下默认禁用第三方 Cookie。其他浏览器也在慢慢进行此类更新以保护用户隐私，很多浏览器将禁用第三方 Cookie 作为了一个安全配置功能。所以依赖于中心认证服务 Cookie 的方式已经变得不太可行。\n\n在 Authing 中，虽然这种方式也可以通过[配置自定义域名](https://docs.authing.cn/v2/guides/deployment/custom-domain.html)来解决，但是我们还是不推荐使用这种方式。\n\n## 基于使用标准协议签发的 Token/Ticket\n\n常用于单点登录的标准协议由 `OIDC`、`CAS` 等：在 `OIDC` 协议中，将认证中心签发的 `id_token` 和 `access_token` 作为用户的登录凭证和身份凭证；而在 `CAS` 中，则是 `Service Ticket` 的形式。下面以 `OIDC` 协议为例：\n\n大致的流程是：\n\n![](https://curity.io/images/resources/architect/sso/Web_Client_SSO.svg)\n\nTODO: 找 UI 画一张图\n\n当用户希望访问业务系统 A 时，假设此时还未登录：\n\n1. 业务系统 A 检测到当前用户还未登录；\n2. 业务系统 A 发起一个 OIDC 认证请求，浏览器跳转到认证中心；\n3. 认证中心负责使用一切它支持的手段验证用户的身份，如果认证成功，会在认证中心建立一个 SSO Session；\n4. 认证中心携带 `id_token` 和 `access_token`（取决于你选用的授权模式，也可能是用于换取 `id_token` 和 `access_token` 的 `code`） 通过浏览器重定向传递给业务系统 A；\n5. 业务系统 A 将用户的 `id_token` 和 `access_token` 在本地存储起来以便后续使用。\n\n当用户访问业务系统 B 时：\n\n- 业务系统 B 发现本地也还没有用户的会话信息；\n- 业务系统 B 发起一个 OIDC 认证请求，浏览器跳转到认证中心；\n- 由于此时用户在认证中心已经登录过了，所以会直接携带用户的凭证回到业务系统 B；\n- 业务系统 A 将用户的 `id_token` 和 `access_token` 在本地存储起来以便后续使用。\n\n这样就实现了用户只需要登录一次，就可以访问不同的业务系统。\n\n## 在 Authing 中如何实现单点登录\n\n在 Authing 中，我们同时支持 `OIDC` 和 `CAS` 协议，优化还是推荐使用 `OIDC` 来实现，所以 Authing 中的单点登录实现流程和**基于使用标准协议签发的 Token/Ticket**描述的流程一致，将上述流程中的**认证中心**替换成 Authing 即可。\n\n同时，你还需要将为你在 Authing 中创建的应用[开启 SSO](https://docs.authing.cn/v2/guides/app/sso.html)。\n\n你也可能会疑虑过多的浏览器跳转是否会对用户体验造成影响，对此我们也提供了相应的解决方案：当业务系统需要获取当前用户的登录态时，可以通过隐藏的 **Iframe** 来实现，这样对于用户而言是无感的。具体实现如下：\n\n当用户访问业务系统时，业务系统打开一个隐藏的 **Iframe**，地址为 `OIDC` 的认证端点，如下所示：\n\n```\nhttps://<YOUR_DOMAIN>.authing.cn/oidc/auth?redirect_uri=https://example.com/callback&response_mode=web_message&response_type=code&client_id=<YOUR_APP_ID>&prompt=none&scope=openid profile\n```\n\n> 在上述地址中，我们指定了 `response_mode` 为 `web_message`。\n\n当 **Iframe** 访问 `/oidc/auth` 接口时，如果此用户在 Authing 已经有登录态了，Authing 会直接通过 Window 的 **Post Message**方式，将用户的 `id_token` 和 `access_token` 给到业务系统。\n\n针对上述流程，我们已经封装好了相应的 [SDK](https://docs.authing.cn/v2/reference/sdk-for-sso-spa.html#%E6%A3%80%E6%9F%A5%E7%99%BB%E5%BD%95%E6%80%81%E5%B9%B6%E8%8E%B7%E5%8F%96-token)，一行代码即可：\n\n```javascript\nimport { Authing } from '@authing/web';\n\nconst sdk = new Authing({\n  // 如果应用开启 SSO，这儿就要写单点登录的“应用面板地址”；否则填写应用的“认证地址”。\n  domain: '填写单点登录的应用面板地址',\n  appId: '应用 ID',\n  // 登录回调地址，需要在控制台『应用配置 - 登录回调 URL』中指定\n  redirectUri: '登录回调地址',\n});\n\nlet loginState;\n// 判断当前 URL 是否为 Authing 登录回调 URL\nif (sdk.isRedirectCallback()) {\n  /**\n   * 以跳转方式打开 Authing 托管的登录页，认证成功后需要配合 handleRedirectCallback 方法，\n   * 在回调端点处理 Authing 发送的授权码或 token，获取用户登录态\n   */\n  loginState = await sdk.handleRedirectCallback();\n} else {\n  loginState = await sdk.getLoginState();\n}\n```\n","x-displayName":"实现单点登录"},{"name":"登录/对登录流程进行扩展","description":"借助于 [Authing Pipeline](https://docs.authing.cn/v2/guides/pipeline/) ，我们可以在用户认证前和认证后插入自定义代码，轻松实现「终端用户 License 到期之后禁止登录」、「用户登录之后发送飞书通知」等自定义逻辑。\n\n![](https://cdn.authing.cn/blog/authing-pipeline.png)\n\n以 「用户登录之后发送飞书通知」为例，你可以在**认证后**的 Pipeline 流程中添加一段自定义代码：\n\n```javascript\nasync function pipe(user, context, callback) {\n  const webhook = env.LARK_WEBHOOK;\n  await axios.post(webhook, {\n    title: 'Authing 新用户注册 ~',\n    text: `用户信息：\nID: ${user.id}\n昵称：${user.username}\n注册方式：${user.registerSource}\n邮箱：${user.email}\n手机号：${user.phone}\nUA: ${user.device}\n`,\n  });\n  return callback(null, user, context);\n}\n```\n","x-displayName":"对登录流程进行扩展"},{"name":"登录/使用托管登录页登录","description":"使用这种方式，终端用户会通过浏览器 `302` 重定向跳转到你在 Authing 托管的在线登录页进行认证，认证完成之后回调到你的应用系统。**此端点支持 Authing 现在所有的认证能力，包含密码认证、社会化登录认证、扫码登录等，这也是我们推荐的认证方式**。\n\n在开始之前，你需要为你的应用[选择合适的 OIDC 授权模式](https://docs.authing.cn/v2/concepts/oidc/choose-flow.html)。\n\n用户认证完成之后，会通过 OIDC 标准协议跳转到你配置的回调地址，你可以在此获取用户的 [id_token](https://docs.authing.cn/v2/concepts/id-token.html) 和\n[access_token](https://docs.authing.cn/v2/concepts/access-token.html)。 `id_token` 是用户的身份凭证， `access_token` 是用户访问后端资源的凭证，请求后端服务器的时候，你应该在 `authorization` 请求头中携带 `access_token`。\n\n### 了解更多\n\n1. 了解如何为你的应用添加社会化登录方式: [https://docs.authing.cn/v2/guides/connections/social.html](https://docs.authing.cn/v2/guides/connections/social.html)\n2. 了解如何配置应用登录方式：[https://docs.authing.cn/v2/guides/app/config-login-methods.html](https://docs.authing.cn/v2/guides/app/config-login-methods.html)\n3. 了解如何自定义登录页面样式：[https://docs.authing.cn/v2/guides/app/custom-styles.html](https://docs.authing.cn/v2/guides/app/custom-styles.html)\n4. 了解如何给你的应用开启 MFA 多因素认证：[https://docs.authing.cn/v2/guides/app/mfa.html](https://docs.authing.cn/v2/guides/app/mfa.html)\n5. 了解如何为你的应用开启自定义域名：[https://docs.authing.cn/v2/guides/deployment/custom-domain.html](https://docs.authing.cn/v2/guides/deployment/custom-domain.html)\n6. 默认情况下，`id_token` 只会返回 Authing 内置的字段，你也可以[为 `id_token` 添加任意自定义数据](https://docs.authing.cn/v2/guides/authentication/extensibility/customize-id-token.html)。\n7. 你还可以在认证前后插入一些自定义代码逻辑，实现如「终端用户 License 到期之后禁止登录」、「用户登录之后发送飞书通知」等自定义逻辑，详情请了解[配置自定义认证流程（Pipeline）](https://docs.authing.cn/v2/guides/pipeline/)。\n","x-displayName":"使用托管登录页登录"},{"name":"登录/外部身份源（社会化）登录","description":"由于绝大多数的外部身份源登录不允许在第三方系统直接输入账号密码进行登录，所以外部身份源的绑定总是需要先跳转到对方的登录页面进行认证。\n\n为此我们在 `@authing/web` SDK 中封装了相关方法，为开发者省去了其中大量的细节。\n\n<details>\n<summary>点此展开 SDK 示例代码</summary>\n\n```typescript\nimport { Authing } from '@authing/web';\nconst sdk = new Authing({\n  // 应用的认证地址，例如：https://domain.authing.cn\n  domain: '',\n\n  // Authing 应用 ID\n  appId: 'AUTHING_APP_ID',\n\n  // 登录回调地址，需要在控制台『应用配置 - 登录回调 URL』中指定\n  redirectUri: 'AUTHING_APP_REDIRECT_URI',\n});\n\n// success 表示此次绑定操作是否成功；\n// errMsg 为如果绑定失败，具体的失败原因，如此身份源已被其他账号绑定等。\n// identities 为此次绑定操作具体绑定的第三方身份信息\nconst { success, errMsg, identities } = await sdk.bindExtIdpWithPopup({\n  extIdpConnIdentifier: 'my-wechat',\n});\n```\n\n绑定外部身份源成功之后，你可以得到用户在此第三方身份源的信息，以绑定飞书账号为例：\n\n```json\n[\n  {\n    \"identityId\": \"62f20932xxxxbcc10d966ee5\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"open_id\",\n    \"userIdInIdp\": \"ou_8bae746eac07cd2564654140d2a9ac61\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f726239xxxxe3285d21c93\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"union_id\",\n    \"userIdInIdp\": \"on_093ce5023288856aa0abe4099123b18b\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f72623e011cf10c8851e4c\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"user_id\",\n    \"userIdInIdp\": \"23ded785\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  }\n]\n```\n\n可以看到，我们获取到了用户在飞书中的身份信息：\n\n- `open_id`: ou_8bae746eac07cd2564654140d2a9ac61\n- `union_id`: on_093ce5023288856aa0abe4099123b18b\n- `user_id`: 23ded785\n\n</details>\n","x-displayName":"外部身份源（社会化）登录"},{"name":"登录/使用用户凭证登录","description":"Authing 目前支持以下几种基于用户凭证的认证方式：\n\n- 基于 Authing 认证服务器的密码（`PASSWORD`）：用户名 + 密码，邮箱 + 密码，手机号 + 密码，账号（用户名、邮箱、手机号三合一） + 密码。\n- 基于一次性临时验证码（`PASSCODE`）：手机号 + 验证码，邮箱 + 验证码。你需要先调用**发送短信**或者**发送邮件**接口获取验证码。\n- 基于 LDAP 用户目录（`LDAP`）：使用外部的 LDAP 用户目录进行认证。你需要先[配置 LDAP 身份源](https://docs.authing.cn/v2/guides/connections/enterprise/ldap/)。\n- 基于 AD 用户目录（`AD`）：使用外部的 Windows AD 用户目录进行认证。你需要先[配置 Windows AD 身份源](https://docs.authing.cn/v2/guides/connections/enterprise/windows-ad/)。\n\n用户认证完成之后，此接口会返回用户的 id_token 和 access_token。 id_token 是用户的身份凭证， access_token 是用户访问 后端资源的凭证，请求后端服务器的时候，你应该在 authorization 请求头中携带 access_token。\n\n### 了解更多\n\n1. 默认情况下，Authing 会为你安全地存储用户数据，你也可以[配置外部数据库连接](https://docs.authing.cn/v2/guides/database-connection/overview.html)，使用自己的数据库存储用户数据。API 调用形式不受影响。\n2. 如果你有历史用户的密码需要迁移，可以[配置自定义密码函数](https://docs.authing.cn/v2/guides/migrations/custom-password-script/)。\n3. 默认情况下，`id_token` 只会返回 Authing 内置的字段，你也可以[为 `id_token` 添加任意自定义数据](https://docs.authing.cn/v2/guides/authentication/extensibility/customize-id-token.html)。\n4. 你还可以在认证前后插入一些自定义代码逻辑，实现如「终端用户 License 到期之后禁止登录」、「用户登录之后发送飞书通知」等自定义逻辑，详情请了解[配置自定义认证流程（Pipeline）](https://docs.authing.cn/v2/guides/pipeline/)。\n","x-displayName":"使用用户凭证登录"},{"name":"登录/移动端社会化登录","description":"Authing 目前支持共支持以下几种移动端社会化登录方式：\n\n- 微信移动应用: https://docs.authing.cn/v2/guides/connections/social/wechat-mobile/\n- 支付宝移动应用: https://docs.authing.cn/v2/guides/connections/social/alipay-web\n- 企业微信移动应用: https://docs.authing.cn/v2/guides/connections/enterprise/wecom-mobile/\n- 企业微信移动应用（代开发模式）: https://docs.authing.cn/v2/guides/connections/enterprise/wecom-agency-mobile/\n- 飞书移动端企业自建应用: https://docs.authing.cn/v2/guides/connections/enterprise/lark-internal/\n- 飞书移动端应用商店应用: https://docs.authing.cn/v2/guides/connections/enterprise/lark-public/\n- 网易易盾一键登录: https://docs.authing.cn/v2/guides/connections/social/yidun/\n- 微信小程序登录: https://docs.authing.cn/v2/guides/connections/social/wechat-miniprogram/\n\n如果你还没有配置对应的社会化登录，请先在 Authing 控制台进行配置。\n","x-displayName":"移动端社会化登录"},{"name":"登录/扫码登录","description":"一个扫码登录流程分为生成二维码、查询二维码状态、使用 ticket 换取 id_token 和 access_token 三个步骤。Authing 目前共支持三种类型的扫码登录：\n[微信公众号扫码登录](https://docs.authing.cn/v2/guides/connections/social/wechatmp-qrcode/)、[Authing 自创的小程序扫码登录](https://authing.co/verify)、[自建 APP 扫码登录](https://docs.authing.cn/v2/guides/authentication/qrcode/use-self-build-app/)。\n如果你感兴趣，也可以了解[扫码登录的原理](https://docs.authing.cn/v2/concepts/how-qrcode-works.html)。\n\n如果是**微信公众号扫码登录**和**Authing 自创的小程序扫码登录**，开发者不需要进行额外的工作去驱动二维码的状态，因为扫码的载体是微信 APP 和 Authing 的小程序。如果是自建 APP 扫码登录，就需要开发者在移动端接入，[使用 Authing 终端用户的身份进行扫码、确认授权、取消授权等操作](#tag/登录/扫码登录/operation/SignInV3Controller_changeQRCodeStatus)。\n","x-displayName":"扫码登录"},{"name":"登录/事件","description":"用户登录之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"登录/常见问题","description":"## \"redirect_uri did not match any of the client's registered redirect_uris\" 报错\n\n##\n","x-displayName":"常见问题"},{"name":"管理 Token/概述","description":"当你的终端用户在登录之后，取决你使用的登录端点以及选择的 OIDC 授权模式，你可能需要使用获取用户的 `id_token`, `access_token` 和 `refresh_token`。\n","x-displayName":"概述"},{"name":"管理 Token/基本概念","description":"在开始获取 `id_token`, `access_token` 和 `refresh_token` 之前，你需要先了解一下这三个 Token 的基本概念。\n\n## 什么是 Id Token\n\n[OIDC (OpenID Connect) 协议](https://openid.net/specs/openid-connect-core-1_0.html)对 [OAuth 2.0 协议](https://www.rfc-editor.org/rfc/rfc6749)最主要的一个扩展就是 **ID Token** 数据结构。当一个用户经过 OIDC 认证之后，可以获取到他的 **ID Token**，**ID Token** 相当于该用户的身份凭证，你可以理解为他的**身份证**。\n\nID Token 本质上是一个 **JSON Web Token**(JWT), 所以你可以很轻松获取到该用户的用户资料，同时 JWT 的机制也确保了 ID Token 的内容不会\n被其他人恶意伪造和篡改。如果你想了解更多 JWT 相关的内容，可以阅读[什么是 JWT Token](https://docs.pre.authing.cn/v2/concepts/jwt-token.html)。\n\n一个示例的 ID Token 如下所示：\n\n```\neyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2MmVhYTk1ZmNhMWM1OTZjNTk5YjY3OWYiLCJhdWQiOiI2MmY3MzNhNzE0OGJmOTU4YWYxZTU0MTAiLCJpYXQiOjE2NjA4MDE1MjEsImV4cCI6MTY2MjAxMTEyMSwiaXNzIjoiaHR0cHM6Ly9zYWRkZGYuY2oubWVyZWl0aC5jb20vb2lkYyIsIm5vbmNlIjoiVGpESkRUaFcwaCIsIm5hbWUiOm51bGwsImdpdmVuX25hbWUiOm51bGwsIm1pZGRsZV9uYW1lIjpudWxsLCJmYW1pbHlfbmFtZSI6bnVsbCwibmlja25hbWUiOm51bGwsInByZWZlcnJlZF91c2VybmFtZSI6bnVsbCwicHJvZmlsZSI6bnVsbCwicGljdHVyZSI6Imh0dHBzOi8vZmlsZXMuYXV0aGluZy5jby9hdXRoaW5nLWNvbnNvbGUvZGVmYXVsdC11c2VyLWF2YXRhci5wbmciLCJ3ZWJzaXRlIjpudWxsLCJiaXJ0aGRhdGUiOm51bGwsImdlbmRlciI6IlUiLCJ6b25laW5mbyI6bnVsbCwibG9jYWxlIjpudWxsLCJ1cGRhdGVkX2F0IjoiMjAyMi0wOC0xN1QwNjozNToyOC4zNzZaIiwiZW1haWwiOm51bGwsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicGhvbmVfbnVtYmVyIjpudWxsLCJwaG9uZV9udW1iZXJfdmVyaWZpZWQiOmZhbHNlfQ.KDCWkSCxek_-fuRzH7kq8lU_NYMYZKns4gquUoyosi0\n```\n\n这是一个通过 `Base64` 编码（非加密）的字符串，你可以非常简单得通过[各种语言客户端](https://jwt.io/)解码以及验证它的内容：\n\n```json\n{\n  \"sub\": \"user_id\",\n  \"aud\": \"app_id\",\n  \"iat\": 1660211717,\n  \"exp\": 1661421317,\n  \"iss\": \"https://your_domain.authing.cn/oidc\",\n  \"nonce\": \"r7HSS7s_HW\",\n  \"name\": null,\n  \"given_name\": null,\n  \"middle_name\": null,\n  \"family_name\": null,\n  \"nickname\": null,\n  \"preferred_username\": null,\n  \"profile\": null,\n  \"picture\": \"https://files.authing.co/authing-console/default-user-avatar.png\",\n  \"website\": null,\n  \"birthdate\": null,\n  \"gender\": \"U\",\n  \"zoneinfo\": null,\n  \"locale\": null,\n  \"updated_at\": \"2022-08-11T09:55:15.267Z\",\n  \"email\": \"test@example.com\",\n  \"email_verified\": false,\n  \"phone_number\": null,\n  \"phone_number_verified\": false\n}\n```\n\n其中有几个重要的字段：\n\n- `sub`: 用户 ID；\n- `aud`: Authing 应用 ID；\n- `iss`: 签发此 Token 的 OIDC Issuer\n\n其他的则是用户的一些其他用户信息。\n\n**有个 `id_token` 之后，你可以知道用户的身份（`sub`），从而和你业务系统中的业务数据关联起来；你还可以基于用户的个人资料进行展示。**\n\n## 什么是 Access Token\n\n`access_token` 是用户访问后端资源的凭证，请求后端服务器的时候，**你应该在 authorization 请求头中携带 access_token（而非 id_token）**。以 `CURL` 为例：\n\n```bash\n$ curl -i --request GET \\\\\n--url http://localhost:5000/api/protected \\\\\n--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlRmTE90M0xibjhfYThwUk11ZXNzYW1xai1vM0RCQ3MxLW93SExRLVZNcVEifQ.eyJqdGkiOiJTUWxFSGRzTk54MDc4TThwT1R6djMiLCJpYXQiOjE2MTk1MzA4MzQsImV4cCI6MTYxOTUzNDQzNCwic2NvcGUiOiJvcGVuaWQiLCJpc3MiOiJodHRwczovL29pZGMxLmF1dGhpbmcuY24vb2lkYyIsImF1ZCI6IjYwNTA3NTFhZWQwZjI5YmY3NzIzYzdhOCIsImF6cCI6IjVmMTdhNTI5ZjY0ZmIwMDliNzk0YTJmZiJ9.QsthJdDM5TNtfQOAzy6EwuedK9r03SzkgE2GQkQCLv8SZJhg-tOIKzHqjDDUmRTkJPLl3HHQTUAzfS3UUYwOiah3smiYF7ynx6jukaoGyHTIgXXwavUVmD5j-mnD3kZrLAo-dh5BLBQfLiiE_WlOkQvnKC160K9ETuwQlhx1TGJts0-sMsjsiRx28EJvdrdWw8CVHGiQVzvCE6kHkYmkO6VTkgEnHNqpRpdB0IysIeKUOWezgGZE-Dmtyam6c8nXW_lr798B194zVyjSOuwGt1tqEfRpBDYiD_ER29aWjH2UbI0pjko_15Ldqno9RgehTJXv5suQ6zdfrER-6b5Bmg'\n```\n\n`access_token` 是有一定实效期限的，当 `access_token` 过期时，你就需要使用 `refresh_token` 换取新的 `access_token` 。\n\n## 什么是 Refresh Token\n\n一个 `refresh_token` 就是一个用于获取新的 `access_token` 的特殊 Token，每次换取新的 `access_token` 时，你会再次得到一个新的 `refresh_token`。你的系统应该安全得存储 `refresh_token`，因为 `refresh_token` 可以让用户在一个相对长时间的期限内维持登录态。\n\n如果你想获取 `refresh_token`，当你在[发起 OIDC 登录](#tag/登录/跳转到%20Authing%20登录)的时候，需要在 `scope` 中添加 `offline_access`。\n","x-displayName":"基本概念"},{"name":"管理 Token/选择合适的授权模式","description":"OIDC 全称 OpenID Connect，有以下几种授权模式，分别是：\n\n- 授权码模式\n- 隐式模式\n- 混合模式\n- Client Credentials 模式\n- 密码模式\n- 授权码 + PKCE 模式\n\n## 授权码模式\n\n如果在你的应用中，**认证流程需要后端服务参与**，建议使用授权码模式。\n\n整体流程如下：\n\n1. 在你的应用中，让用户访问登录链接，浏览器跳转到 Authing，用户在 Authing 完成**认证**。\n2. Authing 服务器会签发一个临时的**授权码**，并通过浏览器重定向将授权码发送到你的应用后端。\n3. 你的应用服务后端将获取到的授权码发送到 Authing 服务器，获取 AccessToken 和 IdToken，如果需要，还会返回 Refresh Token。\n4. 你的应用后端现在可以通过 IdToken 知道用户的身份，后续可以保存用户会话信息。并可以重定向到前端其他页面，使用 AccessToken 调用你的后端 API 等等。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/1-3.f80500ca.png\" alt=\"drawing\" />\n\n## 授权码 + PKCE 模式\n\n如果你的应用是一个 **SPA 前端应用或移动端 App**，建议使用**授权码 + PKCE 模式**。授权码 + PKCE 模式**适合不能安全存储密钥的场景**（例如前端浏览器）。\n\n整体流程如下：\n\n1. 在你的应用中，让用户访问登录链接，浏览器跳转到 Authing，用户在 Authing 完成**认证**。\n2. Authing 服务器会签发一个临时的**授权码**，并通过浏览器重定向将授权码发送到你的应用前端。\n3. 你的应用将**授权码**和**校验码**发送到 Authing 获取 **AccessToken** 和 **IdToken**，如果需要，还会返回 Refresh token。\n4. 你的应用前端现在通过 IdToken 知道了用户的身份，后续使用 Access token 换取用户信息，重定向到前端其他页面，使用 AccessToken 调用你的后端 API 等等。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/pkce-2.7ef745c5.png\" alt=\"drawing\" />\n\n## 隐式模式\n\n如果你的应用是一个 **SPA 前端应用**，也可以使用**隐式模式**来完成用户的认证和授权。隐式模式**适合不能安全存储密钥的场景**（例如前端浏览器）。在**隐式模式**中，应用不需要使用 code 换 token，无需请求 `/oidc/token` 端点，AccessToken 和 IdToken 会直接从**认证端点**返回。\n\n整体流程如下：\n\n1. 在你的应用中，让用户访问登录链接，浏览器跳转到 Authing，用户在 Authing 完成**认证**。\n2. Authing 服务器会直接签发用户的 AccessToken 和 IdToken，并通过浏览器重定向在 **URL hash** 中将发送到你的应用前端。\n3. 你的应用从 URL 中取出 AccessToken 和 IdToken。\n4. 你的应用可以将 AccessToken 与 IdToken 保存，以便后续使用，例如携带 AccessToken 访问资源服务器，携带 IdToken 请求服务端从而服务端能够辨别用户身份。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/implicit-flow.fdb49293.png\" alt=\"drawing\" />\n\n## 混合模式\n\n在某些场景你可能既希望直接从认证端点获取 AccessToken 和 IdToken，又能获取授权码 code 用于后续获取 Refresh token，建议使用**混合模式**。\n在**混合模式**中，应用会收到 AccessToken 和 IdToken 与 code。应用可以选择将 code 发送给后端服务，用于从 `/oidc/token` 端点获取用户的 AccessToken、IdToken、Refresh token。\n\n整体流程如下：\n\n1. 在你的应用中，让用户访问登录链接，浏览器跳转到 Authing，用户在 Authing 完成**认证**。\n2. Authing 服务器会直接签发一个临时的授权码 code，以及用户的 AccessToken 和 IdToken，并通过浏览器重定向在 **URL hash** 中将发送到你的应用前端。\n3. 你的应用从 URL 中取出 code 和 AccessToken、IdToken。\n4. 你的应用可以将 AccessToken 与 IdToken 保存，以便后续使用，例如携带 AccessToken 访问资源服务器，携带 IdToken 请求服务端从而服务端能够辨别用户身份。\n5. 你的应用可以将 code 发送给后端。\n6. 应用后端可以利用 code 获取用户的 AccessToken、IdToken 以及 refresh token。之后可以保存用户信息，使用 AccessToken 调用资源方的其他 API 等等。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/hybrid-flow.53529f18.png\" alt=\"drawing\" />\n\n## Client Credentials 模式\n\nClient Credentials 模式用于进行服务器对服务器间的授权（M2M 授权），期间没有用户的参与。你需要创建编程访问账号，并将 AK、SK 密钥对交给你的资源调用方。\n\n整体流程如下：\n\n1. 资源调用方将他的凭证 AK、SK 以及需要请求的权限 scope 发送到 Authing 授权端点。\n2. 如果凭证正确，并且调用方具备资源权限，Authing 为其颁发 AccessToken。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/client-credentials-flow.1434552a.png\" alt=\"drawing\" />\n\n## 密码模式\n\n不推荐使用此模式，尽量使用其他模式。只有其他模式都无法解决问题时才会考虑使用**密码模式**。如果使用密码模式，请确保你的应用代码逻辑非常安全，不会被黑客攻击，否则将会**直接泄露用户的账密**。一般用于改造集成非常古老的应用，否则**绝对不要**把它作为你的第一选择。\n\n整体流程如下：\n\n1. 你的应用让用户输入账密信息。\n2. 你的应用将用户账密发送到 Authing。\n3. 如果账密正确，Authing 返回 token。\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/password-flow.99e74271.png\" alt=\"drawing\" />\n","x-displayName":"选择合适的授权模式"},{"name":"管理 Token/如何自定义 Scope","description":"","x-displayName":"如何自定义 Scope"},{"name":"管理 Token/对签发 Token 流程进行扩展","description":"借助于 [Authing Pipeline](https://docs.authing.cn/v2/guides/pipeline/) ，我们可以在**签发 ID Token 前后**插入自定义代码，轻松实现「给 ID Token 添加自定义字段」、「给 Access Token 添加自定义字段」等自定义逻辑。\n\n![](https://cdn.authing.cn/blog/authing-pipeline.png)\n\n以 「给 ID Token 添加自定义字段」为例，你可以在**签发 Id Token 前**的 Pipeline 流程中添加一段自定义代码：\n\n```javascript\nasync function pipe(user, context, callback) {\n  user.addIdToken('KEY', 'VALUE');\n  callback(null, user, context);\n}\n```\n","x-displayName":"对签发 Token 流程进行扩展"},{"name":"管理 Token/后端服务如何为接口添加鉴权","description":"为了保护业务应用的接口，必须在业务应用里面添加代码。我们基于这样的思路保护 API 接口：终端用户调用 Authing 的认证接口，\n认证通过之后 Authing 签发 access，然后调用者携带 access_token 访问业务系统接口，业务系统接口检验 access_token 合法性，\n并验证其中的权限项目，通过后再返回数据。\n\n完整的序列图如下：\n\n<img src=\"https://cdn.authing.co/authing-docs-v2/1.3.96/assets/img/sequence.97f31b25.png\" alt=\"drawing\" height=\"300\"/>\n\n你可以阅读下面的 Qucik Start，了解如何在常见的 Web 框架中对接口添加权限验证的能力：\n\n- [Node.js Express API Server 快速开始](https://docs.authing.cn/v2/quickstarts/apiServer/nodeJsExpress)\n- [Java Spring Boot 快速开始](https://docs.authing.cn/v2/quickstarts/webApp/javaSpringBoot.html)\n","x-displayName":"后端服务如何为接口添加鉴权"},{"name":"管理 Token/API 列表","description":"","x-displayName":"API 列表"},{"name":"管理 Token/常见问题","description":"## 为什么我的 id_token 中没有用户名\n\n发起登录的时候，会访问一个链接，例如 /oidc/auth?，后面的 scope 参数里面需面包含 openid email phone username 才会返回带这些信息的 token\n\n## 为什么我的 id_token 中没有我想要的字段\n\n## 为什么 access_token 中没有用户信息\n\nAccess Token 在设计上就没有用户信息，如果你需要一个包含用户信息的 Token 可以使用 ID Token，或者在控制台 Pipeline 里签发 ID Token 场景里面写脚本给 ID Token 加入自定义字段。\n\n## 为什么返回的 TokenSet 中没有 refresh_tokn\n\n发起登录的时候 /oidc/auth? 里面 scope 参数必须包含 offline_access，而且必须有 prompt=consent 这个参数\nAuthing 控制台必须勾选 refresh_token，缺一不可。\n\n## 为什么我获取 Refresh Token，用户会弹出一个确权页面？\n\nOIDC 协议规范要求，获取 refresh_token 必须每次让用户确权。\n\n## 一个应用的 ID Token 和 Access Token 能用其他应用的 ID 和 Secret 来验签吗？\n\n不可以。\n\n## 不用 client_secret 可以拿到 code 吗？\n\n如果使用的授权码模式且 token 端点验证模式选择的是 none，那么不用 client_secret。\n\n如果使用了隐式模式，那么 token 会以 URL hash 的方式直接返回到回调地址，不用 client_secret。\n\n## 换取 Token 接口常见的错误\n\n### {\"error\":\"invalid_grant\",\"error_description\":\"grant request is invalid\"}\n\n可能原因：\n\n- ClientID+ClientSecret 不正确\n- code 过期\n- code 已经被使用过，code 有效期十分钟，且只能用一次\n- redirect_uri 不正确，和发起登录时不一致\n\n### client authentication failed\n\n可能原因：\n\n- ClientID+ClientSecret 不正确\n- 配置的 Token 获取端点的验证方式和实际调用 Token 端点时使用的验证方式不一致\n  - 比如配的是 none，却传了 client_id 和 client_secret 到 token 端点，发生不一致\n  - 配的是 client_secret_post 却没传 client_secret 参数给 /oidc/token 端点\n","x-displayName":"常见问题"},{"name":"登出/概述","description":"此部分会介绍前端登出和后端登出的区别以及分别对应的 API，以及如何实现单点登出。\n","x-displayName":"概述"},{"name":"登出/基本概念","description":"## 前端登出\n\n前端登出指的是用户前端手动参与的登出行为，一般需要借助浏览器的参与，在浏览器直接访问登出端点。且只能登出当前账号。\n\n## 后端登出\n\n后端登出指的是在后端服务通过用户的身份凭证（一般是 `id_token`）调用登出端点，来删除相关用户的会话，从而实现前端登出的效果。\n\n## 强制下线\n\n强制下线指的是管理员直接操作某个账号下线，可以登出任意用户。\n\n## 单点登出\n\n单点登出指的是用户登出一次之后就能**退出他登录的所有系统**，和前面介绍的[单点登录](#tag/登录/实现单点登录)类似，各个业务子系统需要接入**认证中心**的认证体系，必要的话需要进行一定程度的改造，将认证中心的用户登录态作为 **Source Of Truth**。\n","x-displayName":"基本概念"},{"name":"登出/如何实现单点登出","description":"在 Authing 系统中，如果一个应用需要实现单点登出效果，必须为此应用[开启 SS0](https://docs.authing.cn/v2/guides/app/sso.html)。开启 SSO 之后，访问此应用的二级域名时，将会直接跳转到用户池单点登录 SSO 的域名，此应用下用户的登录态将会是单点登录 SSO 的登录态。\n\n### 第一步：应用开启 SSO\n\n在 Authing 控制台的**自建应用** - **应用详情** - **访问授权** 配置页面，开启**添加到单点登录**开关：\n\n![](https://files.authing.co/api-explorer/app-enable-sso.jpeg)\n\n### 第二步：获取 SSO 应用面板的域名\n\n在 Authing 控制台的**单点登录 SSO** - **配置**页面，可以看到你的**应用面板登录地址**：\n\n![](https://files.authing.co/api-explorer/sso-launchpad-domain.jpeg)\n\n### 第三步：访问 SSO 应用面板的登出端点\n\n调用[登出](#tag/登出/前端登出)端点，**注意此时需要访问应用面板的域名，而非此应用的域名！**\n\n当使用 SSO 应用面板的登出端点进行登出操作之后，所有加入了 SSO 应用面板的应用登录态都将会失效。\n\n你可以尝试此[单点登录与单点登出的 Demo](https://github.com/Authing/authing-browser-sdk/blob/master/example/sso/react/README.md)。\n","x-displayName":"如何实现单点登出"},{"name":"登出/前端登出","description":"\n","x-displayName":"前端登出"},{"name":"登出/后端登出","description":"","x-displayName":"后端登出"},{"name":"登出/强制下线","description":"强制下线属于管理 API 的部分，用于管理员强制下线某个用户，详情请见[TODO](#TODO)。\n","x-displayName":"强制下线"},{"name":"登出/事件","description":"用户登出之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"登出/常见问题","description":"\n","x-displayName":"常见问题"},{"name":"注册/概述","description":"此部分介绍用户自主注册账号的流程，如果你有历史用户需要导入，请见管理侧 API 导入用户接口的介绍。\n","x-displayName":"概述"},{"name":"注册/对注册流程进行扩展","description":"借助于 [Authing Pipeline](https://docs.authing.cn/v2/guides/pipeline/) ，我们可以在用户注册前和注册后插入自定义代码，轻松实现「只允许特定邮箱后缀的用户注册」、「特定时间段禁止注册」等自定义逻辑。\n\n![](https://cdn.authing.cn/blog/authing-pipeline.png)\n\n以 「只允许特定邮箱后缀的用户注册」为例，你可以在**注册前**的 Pipeline 流程中添加一段自定义代码：\n\n```javascript\nasync function pipe(user, context, callback) {\n  const { email } = context.request.body;\n  // 非邮箱注册方式\n  if (!email) {\n    return callback(null, user, context);\n  }\n  if (!email.endsWith('example.com')) {\n    return callback(new Error('Access denied.'));\n  }\n  return callback(null, user, context);\n}\n```\n","x-displayName":"对注册流程进行扩展"},{"name":"注册/API 列表","description":"","x-displayName":"API 列表"},{"name":"注册/事件","description":"用户注册之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"注册/常见问题","description":"","x-displayName":"常见问题"},{"name":"用户资料/概述","description":"此部分介绍如何**以终端用户的身份**管理自己的用户资料，如手机号、邮箱、密码、其他个人信息以及扩展字段等。当以终端用户的身份管理自己的资料时，部分接口需要提供相应的验证手段，如修改密码需要验证当前密码。如果你需要基于 Authing 的 API 开发后台的管理页面，你需要使用 Authing 管理 API 的用户管理部分，和此部分的 API 区别点在于，管理 API 是以管理员的身份进行操作，不需要进行额外验证。\n","x-displayName":"概述"},{"name":"用户资料/管理用户资料","description":"","x-displayName":"管理用户资料"},{"name":"用户资料/绑定邮箱","description":"\n","x-displayName":"绑定邮箱"},{"name":"用户资料/绑定手机号","description":"\n","x-displayName":"绑定手机号"},{"name":"用户资料/修改邮箱","description":"终端用户自主修改邮箱，需要提供相应的验证手段，见[先发起修改邮箱的验证请求](#tag/用户资料/修改邮箱/operation/ProfileV3Controller_updateEmailVerification)。\n","x-displayName":"修改邮箱"},{"name":"用户资料/修改手机号","description":"终端用户自主修改手机号，需要提供相应的验证手段，见[先发起修改手机号的验证请求](#tag/用户资料/修改手机号/operation/ProfileV3Controller_updatePhoneVerification)。\n","x-displayName":"修改手机号"},{"name":"用户资料/修改密码","description":"","x-displayName":"修改密码"},{"name":"用户资料/忘记密码","description":"\n","x-displayName":"忘记密码"},{"name":"用户资料/注销账号","description":"\n","x-displayName":"注销账号"},{"name":"用户资料/事件","description":"用户资料修改发生之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"用户资料/常见问题","description":"\n","x-displayName":"常见问题"},{"name":"账号绑定/概述","description":"此部分介绍如何管理用户绑定的外部身份源（如绑定的微信、GitHub 社会化登录），包含绑定、解绑外部身份源、获取已绑定身份源等。\n","x-displayName":"概述"},{"name":"账号绑定/API 列表","description":"","x-displayName":"API 列表"},{"name":"账号绑定/事件","description":"用户绑定、解绑身份源之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"账号绑定/常见问题","description":"\n","x-displayName":"常见问题"},{"name":"MFA 要素管理/概述","description":"此部分介绍用户如何使用 API 管理自己的 MFA 要素，如绑定 OTP 要素、绑定短信要素、解绑 MFA 要素等。\n","x-displayName":"概述"},{"name":"MFA 要素管理/API 列表","description":"\n","x-displayName":"API 列表"},{"name":"MFA 要素管理/事件","description":"用户绑定、解绑之后，你可以获得对应的 Webhook 事件通知，详情请见[使用 Webhook 监听事件](https://docs.authing.cn/v2/guides/webhook/)。\n","x-displayName":"事件"},{"name":"MFA 要素管理/常见问题","description":"\n","x-displayName":"常见问题"},{"name":"用户相关资源/概述","description":"此部分介绍用户如何使用 API 获取自己的相关资源，如获取登录日志、获取被授权的角色列表、获取被授权的资源的。\n","x-displayName":"概述"},{"name":"用户相关资源/API 列表","description":"\n","x-displayName":"API 列表"},{"name":"用户相关资源/常见问题","description":"\n","x-displayName":"常见问题"},{"name":"消息服务/概述","description":"此部分介绍如何发送短信和邮件。默认情况下，Authing 会使用内置的短信服务商和邮件服务商发送短信和邮件，同时会使用内置的短信和邮件模版，你也可以阅读[配置邮件服务和模版](https://docs.authing.cn/v2/guides/userpool-config/email/)和[配置短信服务](https://docs.authing.cn/v2/guides/userpool-config/sms/)了解如何配置自定义短信/邮件服务商，以及自定义邮件模版。\n","x-displayName":"概述"},{"name":"消息服务/发送短信","description":"\n","x-displayName":"发送短信"},{"name":"消息服务/发送邮件","description":"\n","x-displayName":"发送邮件"},{"name":"消息服务/常见问题","description":"## 如何给海外手机号发送短信\n\nAuthing 目前内置的短信服务不支持国际手机号，你需要先[配置海外短信服务商](https://docs.authing.cn/v2/guides/userpool-config/sms/#%E5%9B%BD%E9%99%85%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1)。\n","x-displayName":"常见问题"},{"name":"微信相关接口/概述","description":"此部分为 Authing 专门为微信场景提供的 API：\n\n- [解密微信小程序数据](#tag/微信相关接口/API%20列表/operation/WechatAPIV3Controller_decryptWechatMiniProgramData)\n- [获取 Authing 服务器缓存的微信小程序、公众号 Access Token](#tag/微信相关接口/API%20列表/operation/WechatAPIV3Controller_getWechatMpAccessToken)\n\n如果你需要使用微信登录，请见[登录部分的 API](#tag/登录/概述)。\n","x-displayName":"概述"},{"name":"微信相关接口/API 列表","description":"","x-displayName":"API 列表"},{"name":"微信相关接口/常见问题","description":"","x-displayName":"常见问题"},{"name":"文件上传/概述","description":"","x-displayName":"概述"},{"name":"文件上传/API 列表","description":"","x-displayName":"API 列表"},{"name":"文件上传/常见问题","description":"","x-displayName":"常见问题"},{"name":"其他/公开信息端点","description":"","x-displayName":"公开信息端点"},{"name":"最佳实践/最佳实践","description":"","x-displayName":"最佳实践"},{"name":"常见问题/常见问题","description":"### 1. 为什么我使用 Hoopscotch 调试时提示 \"Invalid signature received, please check documentation.\" ?\n\n这是因为 Hoopscotch 请求时无法携带 date 请求头，导致服务器校验签名失败，请使用 `Postman`、 `ApiFox`、`curl` 等其他 API 调试工具进行调试。\n\n![](https://files.authing.co/api-explorer/hoopscotch.jpg)\n","x-displayName":"常见问题"},{"name":"工具与资源/Authing 管理 API","description":"此部分为 Authing Authentication API (v3)，所有的 API 均为以终端用户视角发起。如果你需要进行用户管理、组织机构管理、应用管理等管理操作，[点此查看 Authing Management API (v3)](#TODO) （管理 API）。\n","x-displayName":"Authing 管理 API"},{"name":"工具与资源/Quick Start","description":"Authing 针对不同的应用类型和开发语言，为开发者提供了对应的快速开始文档，详情请阅读[快速开始文档](https://docs.authing.cn/v2/quickstarts/)。\n","x-displayName":"Quick Start"},{"name":"工具与资源/SDK 列表","description":"\n","x-displayName":"SDK 列表"},{"name":"工具与资源/使用文档","description":"如果你想了解 Authing 整体的功能介绍，请见[使用指南文档](https://docs.authing.cn/v2/guides/)。\n","x-displayName":"使用文档"},{"name":"获取帮助/获取帮助","description":"如果你有任何问题，欢迎在 [Authing 论坛](https://forum.authing.cn/)中提出你的问题。\n","x-displayName":"获取帮助"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"},"x-authing-app-id":{"type":"apiKey","in":"header","name":"x-authing-app-id","description":"Authing App Id"}},"schemas":{"FinishLoginParams":{"type":"object","properties":{}},"TokenEndPointParams":{"type":"object","properties":{"client_id":{"type":"string","description":"Authing 应用 ID，当换取 token 身份验证方式为 `client_secret_post` 或 `none` 时必填。","example":"62f733a7148xxxx8af1e5410"},"client_secret":{"type":"string","description":"Authing 应用密钥，当换取 token 身份验证方式为 `client_secret_post` 时必填。","example":"5e0e4d2277be57xxxx30f154648f7360"},"grant_type":{"type":"string","description":"授权模式：\n- `authorization_code`: 使用一次性授权码 `code` 换取。\n- `refresh_token`: 使用 Refresh Token 获取。\n- `client_credentials`: M2M 无用户交互场景使用。\n- `password`: 密码模式，使用用户的账号密码获取，不推荐使用。\n- `http://authing.cn/oidc/grant_type/authing_token`: 使用 Authing 历史版本签发的 Token 换取，不推荐使用。\n    ","example":"authorization_code","enum":["authorization_code","refresh_token","client_credentials","password","http://authing.cn/oidc/grant_type/authing_token"]},"redirect_uri":{"type":"string","description":"发起 OIDC 授权登录时的 redirect_uri 值，必须与发起登录请求时的参数一致","example":"https://example.com/callback"},"code":{"type":"string","description":"获取到的一次性授权码，**一个 code 仅限一次性使用**，用后作废。有效期为 10 分钟。当 `grant_type` 为 `authorization_code` 时必填。","example":"SF1LMNF7oUeM1fEEX9NlMFeXLJiscE5o2ESJDYjqh1O"},"code_verifier":{"type":"string","description":"拼接 OIDC 授权登录连接时生成的随机字符串值，也就是 code_challenge 原始值，不是其摘要值。当使用**授权码 + PKCE 模式**时需要填写此参数。当 `grant_type` 为 `authorization_code` 并且使用 PKCE 模式时必填。","example":""},"refresh_token":{"type":"string","description":"用户的 Refresh Token。当 `grant_type` 为 `refresh_token` 时必填。","example":""}},"required":["grant_type","redirect_uri"]},"LoginTokenResponseDataDto":{"type":"object","properties":{"access_token":{"type":"string","description":"接口调用凭据，在限制时间内被授权访问资源 API","example":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InIxTGtiQm8zOTI1UmIyWkZGckt5VTNNVmV4OVQyODE3S3gwdmJpNmlfS2MifQ.eyJqdGkiOiJ4R01uczd5cmNFckxiakNRVW9US1MiLCJzdWIiOiI1YzlmNzVjN2NjZjg3YjA1YTkyMWU5YjAiLCJpc3MiOiJodHRwczovL2F1dGhpbmcuY24iLCJpYXQiOjE1NTQ1Mzc4NjksImV4cCI6MTU1NDU0MTQ2OSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBvZmZsaW5lX2FjY2VzcyBwaG9uZSBlbWFpbCIsImF1ZCI6IjVjYTc2NWUzOTMxOTRkNTg5MWRiMTkyNyJ9.wX05OAgYuXeYM7zCxhrkvTO_taqxrCTG_L2ImDmQjMml6E3GXjYA9EFK0NfWquUI2mdSMAqohX-ndffN0fa5cChdcMJEm3XS9tt6-_zzhoOojK-q9MHF7huZg4O1587xhSofxs-KS7BeYxEHKn_10tAkjEIo9QtYUE7zD7JXwGUsvfMMjOqEVW6KuY3ZOmIq_ncKlB4jvbdrduxy1pbky_kvzHWlE9El_N5qveQXyuvNZVMSIEpw8_y5iSxPxKfrVwGY7hBaF40Oph-d2PO7AzKvxEVMamzLvMGBMaRAP_WttBPAUSqTU5uMXwMafryhGdIcQVsDPcGNgMX6E1jzLA"},"id_token":{"type":"string","description":"用户的身份凭证，解析后会包含用户信息","example":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InIxTGtiQm8zOTI1UmIyWkZGckt5VTNNVmV4OVQyODE3S3gwdmJpNmlfS2MifQ.eyJzdWIiOiI1YzlmNzVjN2NjZjg3YjA1YTkyMWU5YjAiLCJub25jZSI6IjIyMTIxIiwiYXRfaGFzaCI6Ik5kbW9iZVBZOEFFaWQ2T216MzIyOXciLCJzaWQiOiI1ODM2NzllNC1lYWM5LTRjNDEtOGQxMS1jZWFkMmE5OWQzZWIiLCJhdWQiOiI1Y2E3NjVlMzkzMTk0ZDU4OTFkYjE5MjciLCJleHAiOjE1NTQ1NDE0NjksImlhdCI6MTU1NDUzNzg2OSwiaXNzIjoiaHR0cHM6Ly9hdXRoaW5nLmNuIn0.IQi5FRHO756e_eAmdAs3OnFMU7QuP-XtrbwCZC1gJntevYJTltEg1CLkG7eVhdi_g5MJV1c0pNZ_xHmwS0R-E4lAXcc1QveYKptnMroKpBWs5mXwoOiqbrjKEmLMaPgRzCOdLiSdoZuQNw_z-gVhFiMNxI055TyFJdXTNtExt1O3KmwqanPNUi6XyW43bUl29v_kAvKgiOB28f3I0fB4EsiZjxp1uxHQBaDeBMSPaRVWQJcIjAJ9JLgkaDt1j7HZ2a1daWZ4HPzifDuDfi6_Ob1ZL40tWEC7xdxHlCEWJ4pUIsDjvScdQsez9aV_xMwumw3X4tgUIxFOCNVEvr73Fg"},"refresh_token":{"type":"string","description":"refresh_token 用于获取新的 AccessToken","example":"WPsGJbvpBjqXz6IJIr1UHKyrdVF"},"token_type":{"type":"string","description":"token 类型","example":"xxx"},"expire_in":{"type":"number","description":"过期时间 单位是秒","example":7200}},"required":["token_type","expire_in"]},"TokenIntrospectEndpointParams":{"type":"object","properties":{"client_id":{"type":"string","description":"Authing 应用 ID。当在控制台配置检验 token 身份验证方式为 client_secret_post 和 none 时必填。","example":"62f733a7148xxxx8af1e5410"},"client_secret":{"type":"string","description":"Authing 应用密钥。在控制台配置检验 token 身份验证方式为 client_secret_post 时必填。","example":"5e0e4d2277be57xxxx30f154648f7360"},"token":{"type":"string","description":"`access_token` 或者 `refresh_token` 的值","example":"xxxxx"}},"required":["token"]},"TokenIntrospectResponse":{"type":"object","properties":{"active":{"type":"boolean","description":"Token 是否有效","example":true},"sub":{"type":"string","description":"此 Token 对应的用户 ID，当 token 合法时返回。","example":""},"client_id":{"type":"string","description":"签发此 Token 的应用 ID，当 token 合法时返回。","example":""},"exp":{"type":"number","description":"Token 的到期时间，为单位为秒的时间戳。当 token 合法时返回。","example":1601460494},"iat":{"type":"number","description":"Token 的签发时间，为单位为秒的时间戳。当 token 合法时返回。","example":1601456894},"iss":{"type":"string","description":"Issuer，当 token 合法时返回。","example":"https://oidc1.authing.cn/oidc"},"jti":{"type":"string","description":"JTI，当 token 合法时返回。","example":"K5TYewNhvdGBdHiRifMyW"},"scope":{"type":"string","description":"使用逗号分割的 scope 数组，当 token 合法时返回。","example":"openid profile email phone"},"token_type":{"type":"string","description":"Token Type，默认为 Bearer，当 token 合法时返回。","example":"Bearer"}},"required":["active"]},"TokenRevocationEndpointParams":{"type":"object","properties":{"client_id":{"type":"string","description":"Authing 应用 ID。当在控制台配置撤回 token 身份验证方式为 client_secret_post 和 none 时必填。","example":"62f733a7148xxxx8af1e5410"},"client_secret":{"type":"string","description":"Authing 应用密钥。在控制台配置撤回 token 身份验证方式为 client_secret_post 时必填。","example":"5e0e4d2277be57xxxx30f154648f7360"},"token":{"type":"string","description":"`access_token` 或者 `refresh_token` 的值","example":"xxxxx"}},"required":["token"]},"OidcDiscoveryMetadata":{"type":"object","properties":{"issuer":{"type":"string","description":"OIDC Issuer","example":"https://oidc1.authing.cn/oidc"},"authorization_endpoint":{"type":"string","description":"OIDC 发起认证端点","example":"https://oidc1.authing.cn/oidc/auth"},"token_endpoint":{"type":"string","description":"OIDC 获取 Token 端点","example":"https://oidc1.authing.cn/oidc/token"},"userinfo_endpoint":{"type":"string","description":"OIDC 获取用户信息端点","example":"https://oidc1.authing.cn/oidc/me"},"jwks_uri":{"type":"string","description":"OIDC JWKS 端点","example":"https://oidc1.authing.cn/oidc/.well-known/jwks.json"},"scopes_supported":{"description":"此 OIDC IDP 支持的所有 Scope 列表","example":["openid","offline_access","username","phone","email","address","profile","role","roles","unionid","external_id","extended_fields","tenant_id","userpool_id"],"default":["openid","offline_access","username","phone","email","address","profile","role","roles","unionid","external_id","extended_fields","tenant_id","userpool_id"],"type":"array","items":{"type":"string"}},"response_types_supported":{"type":"array","description":"此 OIDC IDP 支持的所有返回类型","items":{"type":"string","enum":["none","code","token","id_token token","id_token","code token","code id_token token","code id_token"]}},"response_modes_supported":{"description":"此 OIDC IDP 支持的所有 Response Mode","example":["query","fragment","form_post","web_message"],"type":"array","items":{"type":"string"}},"grant_types_supported":{"description":"此 OIDC IDP 支持的所有 Grant Types","type":"array","items":{"type":"string"}},"id_token_signing_alg_values_supported":{"description":"此 OIDC IDP 支持的所有 ID Token 签名方式","example":["HS256","RS256"],"type":"array","items":{"type":"string"}},"id_token_encryption_alg_values_supported":{"description":"此 OIDC IDP 支持的所有 ID Token 加密方式","example":["A128KW","A256KW","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A256KW","RSA-OAEP"],"type":"array","items":{"type":"string"}},"id_token_encryption_enc_values_supported":{"example":["A128CBC-HS256","A128GCM","A256CBC-HS512","A256GCM"],"type":"array","items":{"type":"string"}},"userinfo_signing_alg_values_supported":{"description":"此 OIDC IDP 支持的所有用户信息签名方式","example":["HS256","RS256"],"type":"array","items":{"type":"string"}},"userinfo_encryption_alg_values_supported":{"description":"此 OIDC IDP 支持的所有用户信息加密方式","example":["A128KW","A256KW","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A256KW","RSA-OAEP"],"type":"array","items":{"type":"string"}},"userinfo_encryption_enc_values_supported":{"example":["A128CBC-HS256","A128GCM","A256CBC-HS512","A256GCM"],"type":"array","items":{"type":"string"}},"token_endpoint_auth_methods_supported":{"description":"此 OIDC IDP 支持的所有获取 Token 的认证方式","example":["client_secret_post","client_secret_basic","none"],"type":"array","items":{"type":"string"}},"claim_types_supported":{"description":"此 OIDC IDP 支持的所有 Claim Type","example":["normal"],"type":"array","items":{"type":"string"}},"claims_supported":{"description":"此 OIDC IDP 支持的所有 Claim","example":["sub","username","phone_number","phone_number_verified","email","email_verified","address","birthdate","family_name","gender","given_name","locale","middle_name","name","nickname","picture","preferred_username","profile","updated_at","website","zoneinfo","role","roles","unionid","external_id","extended_fields","tenant_id","userpool_id","sid","auth_time","iss"],"type":"array","items":{"type":"string"}},"code_challenge_methods_supported":{"description":"此 OIDC IDP 支持的所有 Code Challenge 模式","example":["plain","S256"],"type":"array","items":{"type":"string"}},"end_session_endpoint":{"type":"string","description":"此 OIDC IDP 的前端登出端点","example":"https://oidc1.authing.cn/oidc/session/end"},"introspection_endpoint":{"type":"string","description":"此 OIDC IDP 的检查 Token 状态端点","example":"https://oidc1.authing.cn/oidc/token/introspection"},"introspection_endpoint_auth_methods_supported":{"description":"此 OIDC IDP 检查 Token 状态端点支持的所有验证方式","example":["client_secret_post","client_secret_basic","none"],"type":"array","items":{"type":"string"}},"revocation_endpoint":{"type":"string","description":"此 OIDC IDP 的撤销 Token 端点","example":"https://oidc1.authing.cn/oidc/token/revocation"},"revocation_endpoint_auth_methods_supported":{"description":"此 OIDC IDP 撤销 Token 端点支持的所有验证方式","example":["client_secret_post","client_secret_basic","none"],"type":"array","items":{"type":"string"}}},"required":["issuer","authorization_endpoint","token_endpoint","userinfo_endpoint","jwks_uri","scopes_supported","response_types_supported","response_modes_supported","grant_types_supported","id_token_signing_alg_values_supported","id_token_encryption_alg_values_supported","id_token_encryption_enc_values_supported","userinfo_signing_alg_values_supported","userinfo_encryption_alg_values_supported","userinfo_encryption_enc_values_supported","token_endpoint_auth_methods_supported","claim_types_supported","claims_supported","code_challenge_methods_supported","end_session_endpoint","introspection_endpoint","introspection_endpoint_auth_methods_supported","revocation_endpoint","revocation_endpoint_auth_methods_supported"]},"ValidatePEMKeyDto":{"type":"object","properties":{}},"FactorProfile":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"当发起绑定手机短信认证要素时，此参数必传。需要传递用户希望绑定的手机号。Authing 服务器会向此手机号发送短信验证码，要求用户在绑定 MFA 阶段提供验证码。一个手机号在一分钟内只能请求一次。","example":"188xxxx8888"},"phoneCountryCode":{"type":"string","description":"当发起绑定手机短信认证要素且需要绑定国际手机号时可以设置，默认为 +86，中国大陆手机区号。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"},"email":{"type":"string","description":"当发起绑定邮箱验证码认证要素时，此参数必传。需要传递用户希望绑定的邮箱。Authing 服务器会向此邮箱发送邮箱验证码，要求用户在绑定 MFA 阶段提供验证码。一个邮箱在一分钟内只能请求一次。","example":"test@example.com"}}},"SendEnrollFactorRequestDto":{"type":"object","properties":{"factorType":{"type":"string","description":"MFA 认证要素类型：\n- `OTP`: OTP\n- `SMS`: 短信\n- `EMAIL`: 邮件\n- `FACE`: 人脸\n      ","enum":["OTP","SMS","EMAIL","FACE"],"example":"SMS"},"profile":{"description":"MFA 认证要素详细信息","example":{"phoneNumber":"188xxxx8888","phoneCountryCode":"+86"},"allOf":[{"$ref":"#/components/schemas/FactorProfile"}]}},"required":["factorType","profile"]},"SendEnrollFactorRequestOtpDataDto":{"type":"object","properties":{"qrCodeUri":{"type":"string","description":"OTP Auth Uri","example":"otpauth://totp/userPoolName:test?secret=xxxx&period=30&digits=6&algorithm=SHA1&issuer=userPoolName"},"qrCodeDataUrl":{"type":"string","description":"Base64 编码的 OTP 二维码，前端可以用此渲染二维码。","example":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAADkCAYAAACIV4iNAAAAAklEQVR4AewaftIAAAxSSURBVO3BQW4ERxLAQLKh/3+Z62OeCmjMSC4vMsL+wVrrCg9rrWs8rLWu8bDWusbDWusaD2utazysta7xsNa6xsNa6xoPa61rPKy1rvGw1rrGw1rrGg9rrWs8rLWu8bDWusYPH1L5SxWTyknFJ1SmihOVqeINlU9UnKhMFZPKJyo+oTJVnKhMFZPKX6r4xMNa6xoPa61rPKy1rvHDl1V8k8obFZPKVPEJlW9SeaNiUplUpoqpYlKZKk5Upoo3VKaKE5VvqvgmlW96WGtd42GtdY2HtdY1fvhlKm9UvFExqZyoTBVvVJyonKicVEwqk8pJxSdU3lA5qZgqJpWTiknlm1TeqPhND2utazysta7xsNa6xg//cSqfUDmpOFGZKiaVqeKNihOVE5WpYqo4UTmpOFGZKqaKSeWNiv8nD2utazysta7xsNa6xg//cRUnKicVk8qkMlVMFW+oTBUnKm+onKicVEwVk8o3qbxR8f/sYa11jYe11jUe1lrX+OGXVfwllW+qmFROKt5QeaPiDZWpYlI5UTlROal4o2JSmSq+qeImD2utazysta7xsNa6xg9fpvKXVKaKSWWqmFSmikllqphU3qiYVKaKSeVEZar4TRWTylQxqUwV36QyVZyo3OxhrXWNh7XWNR7WWtf44UMVN1GZKt5Q+YTKicpU8YmKT1ScVEwqb1RMKlPFpDJVTCpvVPyXPKy1rvGw1rrGw1rrGj98SGWqmFROKiaVNyomlROVqeITFd+kcqLyTSpvVJyoTBXfVPGGylRxojJVTConFZ94WGtd42GtdY2HtdY1fvhQxaQyVUwqJxVvqPwllaniEyonFb+pYlJ5Q2WqmFR+k8pJxaQyVdzkYa11jYe11jUe1lrXsH/wAZWpYlL5SxWTyknFpDJVnKhMFScqU8WJylTxhspJxaQyVUwqn6h4Q2WqmFT+UsWkMlV84mGtdY2HtdY1HtZa17B/8ItUporfpDJVTConFZPKScWk8omKSWWqOFF5o+I3qXyi4g2VqeJEZar4Nz2sta7xsNa6xsNa6xo/XE7ljYqTikllUjmpmFSmikllqjhRmSomlZOKSeVE5aTiJipTxVQxqZxUTCpTxaRyUvGJh7XWNR7WWtd4WGtd44cvU5kqJpU3KiaVE5WTipOKSeU3qUwVk8obKlPFicpfqnhDZaqYVKaKqWJSOamYVKaKSeWbHtZa13hYa13jYa11jR/+WMWkMlVMKlPFpHJSMalMFZPKJ1SmikllqnijYlKZKiaVk4pJZVKZKiaVv6TyhsqJyknFpDJVfNPDWusaD2utazysta5h/+CLVE4qJpWTiknlpOJE5aRiUjmp+E0qJxVvqEwVb6hMFZPKGxVvqJxUvKHyiYpvelhrXeNhrXWNh7XWNX74sopvUpkqTlSmiqliUplUpopPqLxRcVIxqZxUvKEyVfwmlaliUpkqJpUTlU9UnKhMFZ94WGtd42GtdY2HtdY1fviQylQxqUwVb1ScqPwllZOKT6icqJxUnFScVJxUfKLijYqTijcqJpUTlaniNz2sta7xsNa6xsNa6xo//MsqJpVJZao4qXij4ptUPlHxTSpTxaQyVUwqU8UbFScqU8Wk8kbFicobFX/pYa11jYe11jUe1lrX+OFDFZPKJypOVD6hclLxRsWJylTxCZWTiqniN6m8oTJVTCpvVEwqb1RMKv+mh7XWNR7WWtd4WGtd44cPqbyhclIxqUwVb6icVEwqJxWfUDmpmFR+U8WkMlVMKlPFpDKpfKLimypu9rDWusbDWusaD2uta9g/+EUqU8WkclIxqUwVb6icVEwqb1R8QuWkYlI5qThR+aaKE5WpYlKZKiaVqeJE5aTiDZWp4pse1lrXeFhrXeNhrXWNH75MZar4hMqJyhsVk8obFScqJxWTylQxqUwqb6hMFScVk8pUMal8QmWqeEPlEypTxaTylx7WWtd4WGtd42GtdY0fvqziROWk4g2Vk4qTipOKSeWNikllqnij4g2VT1RMKicqn1CZKt6oeENlUpkqJpXf9LDWusbDWusaD2uta/zwIZU3KiaVE5Wp4g2VqeKbKk5UpopvUpkqTlSmikllqpgq3lCZKiaVqeKkYlI5UZkqPlExqUwVn3hYa13jYa11jYe11jV++FDFpDJVTCpvVLxRcaJyUvGGylQxVZyoTBVvVLxRMalMFZPKScVJxRsqU8Wk8kbFGxX/poe11jUe1lrXeFhrXeOHD6l8k8o3qZxUnKhMFZPKpDJVfJPKb1KZKt5QmSomlaliUvmEyidUpopJ5Tc9rLWu8bDWusbDWusaP3yoYlKZVE4q3lCZKiaVqWJSOVGZKk4q3lB5o+INlROVqeI3qUwVJxVvVLyhMlVMKv+mh7XWNR7WWtd4WGtd44dfVjGpnKicVEwqU8Wk8k0qU8WkMlVMFZPKGypTxVTxhspUMal8omJSmSomlaliqjhRmSreqJhUTiq+6WGtdY2HtdY1HtZa1/jhyyomlaliUjmp+C9TmSqmikllqpgqJpU3KqaKSWWqeEPlpOITKp+o+ETFpDJVfOJhrXWNh7XWNR7WWtf44UMqU8VU8QmVqeKbVP6SylTxhspUMalMFScqv0llqphUpopJZaqYVKaKE5WTiqliUvlND2utazysta7xsNa6xg8fqjhRmSreqPimiknljYo3Kk5U3qg4qfhNKr9JZao4qZhUpoqp4kTl3/Sw1rrGw1rrGg9rrWvYP/gilaliUjmpmFQ+UTGpfFPFpDJVTCpTxYnKScWkclLxhspU8QmVqeINlaniROWk4g2Vk4pPPKy1rvGw1rrGw1rrGj/8yyomlaliUvlNFScqJxXfVPFGxSdUTlSmiknlDZWp4t+kMlVMFb/pYa11jYe11jUe1lrX+OGXqUwVb6hMFW+onFS8UTGpnFS8ofKJikllqphU3qiYVN6omFS+SWWqmFROKk5UTio+8bDWusbDWusaD2uta/zwyyomlZOKN1Q+oTJVTConFZPKJyomlaliUvmmiknlExWTyhsqn1B5Q+Xf9LDWusbDWusaD2uta/zwIZWpYlKZKk5UTiq+qWJSOamYVE5UpooTlaniN1V8ouJEZaqYVCaVv6TyRsVvelhrXeNhrXWNh7XWNX74MpWp4kRlqjhRmSpOVD5RMalMFScqJyqfqJhUTlROKqaKSeVmFW+oTBWTyl96WGtd42GtdY2HtdY1fvhQxaTyRsWkclIxqUwVU8UnVN5QmSpOKiaVSWWqmFSmikllqphUTlROKiaVT1RMKlPFpDJVTCpTxVTxhspU8U0Pa61rPKy1rvGw1rrGD79M5aRiqnij4kRlqphUpooTlUllqnhD5b9MZao4UTlRmSpOKiaVE5Wp4qRiUplUpopPPKy1rvGw1rrGw1rrGj98SOWNijdUpopvqjhROamYVKaKk4oTlUnlROWNiknlpGJSOVGZKk5U3lD5hMpJxUnFNz2sta7xsNa6xsNa6xr2D/7DVKaKE5Wp4i+pnFRMKlPFGypTxaQyVZyofKJiUpkq3lCZKt5QmSreUJkqPvGw1rrGw1rrGg9rrWv88CGVv1RxojJVnKicVJyofKLiEypTxYnKGyonFW+o/CWVqeINlaliqvimh7XWNR7WWtd4WGtd44cvq/gmlTcqJpWp4kRlUpkqvkllqnij4o2KE5WTijdUpopJ5URlqnij4r/kYa11jYe11jUe1lrX+OGXqbxR8UbFpPKJihOVk4o3VCaVE5WbqLyhMlW8oXKi8gmVN1Smik88rLWu8bDWusbDWusaP/zHqUwVv6liUplU3qg4UZkqvkllqvhNFZPKScWJylQxqfyXPKy1rvGw1rrGw1rrGj/8n1GZKk5UTiomlaniDZXfpDJVnFR8omJSeaPiRGWqmCpOKiaVNyomlanimx7WWtd4WGtd42GtdY0fflnFb6qYVN6omFQmld+k8obKVDFVTConFZPKVDGpTBVTxaRyojJVTBVvqJxUvKEyVfymh7XWNR7WWtd4WGtd44cvU/lLKlPFpHJSMVW8oTJVfFPFicpJxYnKVDGpTBUnKlPFpDJVTConFZPKVPEJlaliUjmp+MTDWusaD2utazysta5h/2CtdYWHtdY1HtZa13hYa13jYa11jYe11jUe1lrXeFhrXeNhrXWNh7XWNR7WWtd4WGtd42GtdY2HtdY1HtZa13hYa13jf5JXo0uhVRYoAAAAAElFTkSuQmCC"},"recoveryCode":{"type":"string","description":"OTP Recovery Code","example":"e7ad-aaa4-da75-fa37-57d1-5141"}},"required":["qrCodeUri","qrCodeDataUrl","recoveryCode"]},"SendEnrollFactorRequestDataDto":{"type":"object","properties":{"enrollmentToken":{"type":"string","description":"临时凭证 enrollmentToken，有效时间为一分钟。在进行「绑定 MFA 认证要素」时，需要带上此参数。","example":"TQoCISidM0kBji0dxRi3afSDtkvvMiUphenIgLF87y+JOw4T8fDWOsHHXIcvZ2EVESXhTrfGyh1iGf52Cg9e9byeFQvm1VZ0QWrwmzwpntFAVtf1IP9LqVhmzXhBMFvLOcU/z1Eh/n0CrwX0uHNpJoMW9lp9AqHd9HvauaGKX+Y="},"otpData":{"description":"发起绑定 OTP 类型认证要素时，接口会返回此数据。","allOf":[{"$ref":"#/components/schemas/SendEnrollFactorRequestOtpDataDto"}]}},"required":["enrollmentToken"]},"SendEnrollFactorRequestRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/SendEnrollFactorRequestDataDto"}]}},"required":["statusCode","message","data"]},"EnrollFactorEnrollmentDataDto":{"type":"object","properties":{"passCode":{"type":"string","description":"绑定短信、邮箱验证码、OTP 类型的认证要素时，需要传此参数。值为短信/邮箱/OTP 验证码。","example":"123456"}}},"EnrollFactorDto":{"type":"object","properties":{"factorType":{"type":"string","description":"MFA 认证要素类型：\n- `OTP`: OTP\n- `SMS`: 短信\n- `EMAIL`: 邮件\n- `FACE`: 人脸\n      ","enum":["OTP","SMS","EMAIL","FACE"],"example":"SMS"},"enrollmentToken":{"type":"string","description":"「发起绑定 MFA 认证要素请求」接口返回的 enrollmentToken，此 token 有效时间为一分钟。","example":"TQoCISidM0kBji0dxRi3afSDtkvvMiUphenIgLF87y+JOw4T8fDWOsHHXIcvZ2EVESXhTrfGyh1iGf52Cg9e9byeFQvm1VZ0QWrwmzwpntFAVtf1IP9LqVhmzXhBMFvLOcU/z1Eh/n0CrwX0uHNpJoMW9lp9AqHd9HvauaGKX+Y="},"enrollmentData":{"description":"绑定 MFA 认证要素时，对应认证要素要求的验证信息。","allOf":[{"$ref":"#/components/schemas/EnrollFactorEnrollmentDataDto"}]}},"required":["factorType","enrollmentToken","enrollmentData"]},"EnrollFactorRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"}},"required":["statusCode","message"]},"RestFactorDto":{"type":"object","properties":{"factorId":{"type":"string","description":"MFA 认证要素 ID","example":"6229ffaxxxxxxxxcade3e3d9"}},"required":["factorId"]},"ResetFactorRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"}},"required":["statusCode","message"]},"FactorDto":{"type":"object","properties":{"factorId":{"type":"string","description":"MFA 认证要素ID","example":"6229ffaxxxxxxxxcade3e3d9"},"factorType":{"type":"string","description":"MFA 认证要素类型","enum":["OTP","SMS","EMAIL","FACE"],"example":"SMS"},"profile":{"type":"object","description":"MFA 认证要素信息","example":{"phoneNumber":"188xxxx8888","phoneCountryCode":"+86"}}},"required":["factorId","factorType","profile"]},"ListEnrolledFactorsRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"MFA Factor 列表","type":"array","items":{"$ref":"#/components/schemas/FactorDto"}}},"required":["statusCode","message","data"]},"GetFactorRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"MFA Factor 详情","allOf":[{"$ref":"#/components/schemas/FactorDto"}]}},"required":["statusCode","message","data"]},"FactorToEnrollDto":{"type":"object","properties":{"factorType":{"type":"string","description":"MFA Factor 类型","enum":["OTP","SMS","EMAIL","FACE"],"example":"SMS"}},"required":["factorType"]},"ListFactorsToEnrollRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"MFA Factor 列表","type":"array","items":{"$ref":"#/components/schemas/FactorToEnrollDto"}}},"required":["statusCode","message","data"]},"GenerateBindExtIdpLinkDataDto":{"type":"object","properties":{"url":{"type":"string","description":"用户绑定外部身份源的链接","example":""}},"required":["url"]},"GenerateBindExtIdpLinkRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/GenerateBindExtIdpLinkDataDto"}]}},"required":["statusCode","message","data"]},"UnlinkExtIdpDto":{"type":"object","properties":{"extIdpId":{"type":"string","description":"外部身份源 ID","example":"62f209327xxxxcc10d966ee5"}},"required":["extIdpId"]},"CommonResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"}},"required":["statusCode","message"]},"IdentityDto":{"type":"object","properties":{"identityId":{"type":"string","description":"身份源 ID","example":"62299d8b866d2dab79a89dc4"},"extIdpId":{"type":"string","description":"身份源连接 ID","example":"6076bacxxxxxxxxd80d993b5"},"provider":{"type":"string","description":"外部身份源类型：\n- `wechat`: 微信\n- `qq`: QQ\n- `wechatwork`: 企业微信\n- `dingtalk`: 钉钉\n- `weibo`: 微博\n- `github`: GitHub\n- `alipay`: 支付宝\n- `baidu`: 百度\n- `lark`: 飞书\n- `welink`: Welink\n- `yidun`: 网易易盾\n- `qingcloud`: 青云\n- `google`: Google\n- `gitlab`: GitLab\n- `gitee`: Gitee\n- `twitter`: Twitter\n- `facebook`: Facebook\n- `slack`: Slack\n- `linkedin`: Linkedin\n- `instagram`: Instagram\n- `oidc`: OIDC 型企业身份源\n- `oauth2`: OAuth2 型企业身份源\n- `saml`: SAML 型企业身份源\n- `ldap`: LDAP 型企业身份源\n- `ad`: AD 型企业身份源\n- `cas`: CAS 型企业身份源\n- `azure-ad`: Azure AD 型企业身份源\n    ","enum":["oidc","oauth2","saml","ldap","ad","cas","azure-ad","wechat","google","qq","wechatwork","dingtalk","weibo","github","alipay","apple","baidu","lark","gitlab","twitter","facebook","slack","linkedin","yidun","qingcloud","gitee","instagram","welink"],"example":"wechat"},"type":{"type":"string","description":"Identity 类型，如 unionid, openid, primary","example":"openid"},"userIdInIdp":{"type":"string","description":"在外部身份源中的 ID","example":"oj7Nq05R-RRaqak0_YlMLnnIwsvg"},"originConnIds":{"description":"身份来自的身份源连接 ID 列表","example":["605492ac41xxxxe0362f0707"],"type":"array","items":{"type":"string"}}},"required":["identityId","extIdpId","provider","type","userIdInIdp","originConnIds"]},"GetIdentitiesRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"用户的身份源列表","type":"array","items":{"$ref":"#/components/schemas/IdentityDto"}}},"required":["statusCode","message","data"]},"ExtIdpInfoDto":{"type":"object","properties":{"identifier":{"type":"string","description":"身份源连接唯一标志","example":"wechat"},"extIdpId":{"type":"string","description":"身份源 ID"},"type":{"type":"string","description":"身份源类型","enum":["oidc","oauth2","saml","ldap","ad","cas","azure-ad","wechat","google","qq","wechatwork","dingtalk","weibo","github","alipay","apple","baidu","lark","gitlab","twitter","facebook","slack","linkedin","yidun","qingcloud","gitee","instagram","welink"]},"extIdpType":{"type":"string","description":"认证类型","enum":["social","enterprise"]},"bindUrl":{"type":"string","description":"认证地址"},"name":{"type":"string","description":"身份源显示名称"},"name_en":{"type":"string","description":"身份源显示名称（英文）"},"desc":{"type":"string","description":"描述"},"desc_en":{"type":"string","description":"描述英文"},"logo":{"type":"string","description":"图标"}},"required":["identifier","extIdpId","type","extIdpType","bindUrl","name"]},"GetExtIdpsRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"外部身份源列表","type":"array","items":{"$ref":"#/components/schemas/ExtIdpInfoDto"}}},"required":["statusCode","message","data"]},"SignInByPasswordPayloadDto":{"type":"object","properties":{"password":{"type":"string","description":"用户密码，默认不加密。Authing 所有 API 均通过 HTTPS 协议对密码进行安全传输，可以在一定程度上保证安全性。\n如果你还需要更高级别的安全性，我们还支持 `RSA256` 和国密 `SM2` 的密码加密方式。详情见可选参数 `options.passwordEncryptType`。\n","example":"passw0rd"},"account":{"type":"string","description":"用户账号（用户名/手机号/邮箱）","example":"test"},"email":{"type":"string","description":"邮箱，不区分大小写。","example":"test@example.com"},"username":{"type":"string","description":"用户名（username）","example":"test"},"phone":{"type":"string","description":"手机号","example":"188xxxx8888"}},"required":["password"]},"SignInByPassCodePayloadDto":{"type":"object","properties":{"passCode":{"type":"string","description":"一次性临时验证码，你需要先调用发送短信或者发送邮件接口获取验证码。","example":"123456"},"email":{"type":"string","description":"邮箱，不区分大小写。","example":"114114"},"phone":{"type":"string","description":"手机号","example":"188xxxx8888"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86","default":"+86"}},"required":["passCode"]},"SignInByAdPayloadDto":{"type":"object","properties":{"password":{"type":"string","description":"用户密码，默认不加密。Authing 所有 API 均通过 HTTPS 协议对密码进行安全传输，可以在一定程度上保证安全性。\n如果你还需要更高级别的安全性，我们还支持 `RSA256` 和国密 `SM2` 的密码加密方式。详情见可选参数 `options.passwordEncryptType`。\n","example":"passw0rd"},"sAMAccountName":{"type":"string","description":"Windows AD 用户目录中账号的 sAMAccountName","example":"test"}},"required":["password","sAMAccountName"]},"SignInByLdapPayloadDto":{"type":"object","properties":{"password":{"type":"string","description":"用户密码，默认不加密。Authing 所有 API 均通过 HTTPS 协议对密码进行安全传输，可以在一定程度上保证安全性。\n如果你还需要更高级别的安全性，我们还支持 `RSA256` 和国密 `SM2` 的密码加密方式。详情见可选参数 `options.passwordEncryptType`。\n","example":"passw0rd"},"sAMAccountName":{"type":"string","description":"LDAP AD 用户目录中账号的 sAMAccountName","example":"114114"}},"required":["password","sAMAccountName"]},"SignInOptionsDto":{"type":"object","properties":{"scope":{"type":"string","description":"需要请求的权限，必须包含 openid。如果需要获取手机号和 email 需要包含 phone email；如果需要 refresh_token 需要包含 offline_access。多个 scope 请用空格分隔。id_token 解码后的内容中会包含这些 scope 对应的用户信息相关的字段。\n- `openid`: 必须包含。\n- `profile`: 返回 birthdate，family_name，gender，given_name，locale，middle_name，name，nickname，picture，preferred_username，profile，updated_at，website，zoneinfo 字段。\n- `username`: 返回 username。\n- `email`: 返回 email，email_verified。\n- `phone`: 返回 phone_number, phone_number_verified。\n- `offline_access`: 如果存在此参数，token 接口会返回 refresh_token 字段。\n- `roles`: 返回用户的角色列表。\n- `external_id`: 用户在原有系统的用户 ID。\n- `extended_fields`: 返回用户的扩展字段信息，内容为一个对象，key 为扩展字段名，value 为扩展字段值。\n- `tenant_id`: 返回用户的租户 ID。\n      ","example":"openid profile"},"clientIp":{"type":"string","description":"客户端真实 IP 地址。默认情况下，Authing 会将请求来源的 IP 识别为用户登录的 IP 地址，如果你在后端服务器中调用此接口，需要将此 IP 设置为用户的真实请求 IP。","example":"192.168.0.1"},"context":{"type":"string","description":"额外请求上下文，将会传递到认证前和认证后的 [Pipeline](https://docs.authing.cn/v2/guides/pipeline/) 的 `context` 对象中。了解[如何在 Pipeline 的 `context` 参数中获取传入的额外 context](https://docs.authing.cn/v2/guides/pipeline/context-object.html)。","example":{"source":"utm"}},"tenantId":{"type":"string","description":"租户 ID","example":"625783d629f2bd1f5ddddd98c"},"customData":{"type":"object","description":"设置额外的用户自定义数据，你需要先在 Authing 控制台[配置自定义数据](https://docs.authing.cn/v2/guides/users/user-defined-field/)。","example":{"school":"pku","age":"20"}},"autoRegister":{"type":"boolean","description":"是否开启自动注册。如果设置为 true，当用户不存在的时候，会先自动为其创建一个账号。","example":false},"captchaCode":{"type":"string","description":"Captcha 图形验证码，不区分大小写。当**安全策略**设置为**验证码**且触发**登录失败次数限制**时，下次登录需要填写图形验证码。","example":"a8nz"},"passwordEncryptType":{"type":"string","description":"密码加密类型，支持使用 RSA256 和国密 SM2 算法进行加密。默认为 `none` 不加密。\n- `none`: 不对密码进行加密，使用明文进行传输。\n- `rsa`: 使用 RSA256 算法对密码进行加密，需要使用 Authing 服务的 RSA 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 RSA256 公钥。\n- `sm2`: 使用 [国密 SM2 算法](https://baike.baidu.com/item/SM2/15081831) 对密码进行加密，需要使用 Authing 服务的 SM2 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 SM2 公钥。\n  ","enum":["sm2","rsa","none"],"example":"none","default":"none"}}},"SigninByCredentialsDto":{"type":"object","properties":{"connection":{"type":"string","description":"认证方式：\n- `PASSWORD`: 使用密码方式进行认证。\n- `PASSCODE`: 使用一次性临时验证码进行认证。\n- `LDAP`: 基于 LDAP 用户目录进行认证。\n- `AD`: 基于 Windows AD 用户目录进行认证。\n    ","enum":["PASSWORD","PASSCODE","LDAP","AD"],"example":"PASSWORD"},"passwordPayload":{"description":"当认证方式为 `PASSWORD` 时此参数必填。","example":{"email":"test@example.com","password":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignInByPasswordPayloadDto"}]},"passCodePayload":{"description":"当认证方式为 `PASSCODE` 时此参数必填","example":{"email":"test@example.com","passCode":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignInByPassCodePayloadDto"}]},"adPayload":{"description":"当认证方式为 `AD` 时此参数必填","example":{"sAMAccountName":"test","password":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignInByAdPayloadDto"}]},"ldapPayload":{"description":"当认证方式为 `LDAP` 时此参数必填","example":{"sAMAccountName":"test","password":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignInByLdapPayloadDto"}]},"options":{"description":"可选参数","example":{"passwordEncryptType":"none"},"allOf":[{"$ref":"#/components/schemas/SignInOptionsDto"}]},"client_id":{"type":"string","description":"应用 ID。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"6342b8537axxxx047d314109"},"client_secret":{"type":"string","description":"应用密钥。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"4203d30e5e915xxxxxx26c31c9adce68"}},"required":["connection"]},"LoginTokenRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/LoginTokenResponseDataDto"}]}},"required":["statusCode","message","data"]},"SignInByWechatPayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"微信移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByApplePayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"苹果移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByAlipayPayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"支付宝移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByWechatworkDto":{"type":"object","properties":{"code":{"type":"string","description":"企业微信移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByWechatworkAgencyPayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"企业微信（代开发模式）移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByLarkPublicPayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"飞书应用商店应用移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByLarkInternalPayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"飞书自建应用移动端社会化登录返回的一次性临时 code","example":"1660291866076"}}},"SignInByYidunPayloadDto":{"type":"object","properties":{"token":{"type":"string","description":"网易易盾 token","example":"1660291866076"},"accessToken":{"type":"string","description":"网易易盾运营商授权码","example":"1660291866076"}}},"SignInByWechatMiniProgramCodePayloadDto":{"type":"object","properties":{"encryptedData":{"type":"string","description":"获取微信开放数据返回的加密数据（encryptedData）","example":""},"iv":{"type":"string","description":"对称解密算法初始向量，由微信返回","example":""},"code":{"type":"string","description":"`wx.login` 接口返回的用户 `code`","example":""}},"required":["encryptedData","iv","code"]},"SignInByWechatMiniProgramPhonePayloadDto":{"type":"object","properties":{"encryptedData":{"type":"string","description":"获取微信开放数据返回的加密数据（encryptedData）","example":""},"iv":{"type":"string","description":"对称解密算法初始向量，由微信返回","example":""},"code":{"type":"string","description":"`wx.login` 接口返回的用户 `code`","example":""}},"required":["encryptedData","iv","code"]},"SignInByGooglePayloadDto":{"type":"object","properties":{"code":{"type":"string","description":"Google 移动端社会化登录获取到的 code","example":""}},"required":["code"]},"SignInByMobileOptionsDto":{"type":"object","properties":{"scope":{"type":"string","description":"需要请求的权限，必须包含 openid。如果需要获取手机号和 email 需要包含 phone email；如果需要 refresh_token 需要包含 offline_access。多个 scope 请用空格分隔。id_token 解码后的内容中会包含这些 scope 对应的用户信息相关的字段。\n- `openid`: 必须包含。\n- `profile`: 返回 birthdate，family_name，gender，given_name，locale，middle_name，name，nickname，picture，preferred_username，profile，updated_at，website，zoneinfo 字段。\n- `username`: 返回 username。\n- `email`: 返回 email，email_verified。\n- `phone`: 返回 phone_number, phone_number_verified。\n- `offline_access`: 如果存在此参数，token 接口会返回 refresh_token 字段。\n- `roles`: 返回用户的角色列表。\n- `external_id`: 用户在原有系统的用户 ID。\n- `extended_fields`: 返回用户的扩展字段信息，内容为一个对象，key 为扩展字段名，value 为扩展字段值。\n- `tenant_id`: 返回用户的租户 ID。\n      ","example":"openid profile"},"context":{"type":"string","description":"额外请求上下文，将会传递到认证前和认证后的 [Pipeline](https://docs.authing.cn/v2/guides/pipeline/) 的 `context` 对象中。了解[如何在 Pipeline 的 `context` 参数中获取传入的额外 context](https://docs.authing.cn/v2/guides/pipeline/context-object.html)。","example":{"source":"utm"}},"tenantId":{"type":"string","description":"租户 ID","example":"625783d629f2bd1f5ddddd98c"},"customData":{"type":"object","description":"设置额外的用户自定义数据，你需要先在 Authing 控制台[配置自定义数据](https://docs.authing.cn/v2/guides/users/user-defined-field/)。","example":{"school":"pku","age":"20"}}}},"SigninByMobileDto":{"type":"object","properties":{"connection":{"type":"string","description":"移动端社会化登录类型：\n- `apple`: Apple 移动端应用\n- `wechat`: 微信移动应用\n- `alipay`: 支付宝移动应用\n- `wechatwork`: 企业微信移动应用\n- `wechatwork_agency`: 企业微信移动应用（代开发模式）\n- `lark_internal`: 飞书移动端企业自建应用\n- `lark_public`: 飞书移动端应用商店应用\n- `yidun`: 网易易盾一键登录\n- `wechat_mini_program_code`: 微信小程序使用 code 登录\n- `wechat_mini_program_phone `: 微信小程序使用手机号登录\n- `google`: Google 移动端社会化登录\n","enum":["apple","wechat","alipay","wechatwork","wechatwork_agency","lark_internal","lark_public","yidun","wechat_mini_program_code","wechat_mini_program_phone","google"],"example":"wechat"},"extIdpConnidentifier":{"type":"string","description":"外部身份源连接标志符","example":"wework"},"wechatPayload":{"description":"苹果移动端社会化登录数据，当 `connection` 为 `wechat` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByWechatPayloadDto"}]},"applePayload":{"description":"微信移动端社会化登录数据，当 `connection` 为 `apple` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByApplePayloadDto"}]},"alipayPayload":{"description":"支付宝移动端社会化登录数据，当 `connection` 为 `alipay` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByAlipayPayloadDto"}]},"wechatworkPayload":{"description":"企业微信移动端社会化登录数据，当 `connection` 为 `wechatwork` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByWechatworkDto"}]},"wechatworkAgencyPayload":{"description":"企业微信（代开发模式）移动端社会化登录数据，当 `connection` 为 `wechatwork_agency` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByWechatworkAgencyPayloadDto"}]},"larkPublicPayload":{"description":"飞书应用商店应用移动端社会化登录数据，当 `connection` 为 `lark_public` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByLarkPublicPayloadDto"}]},"larkInternalPayload":{"description":"飞书自建应用移动端社会化登录数据，当 `connection` 为 `lark_internal` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByLarkInternalPayloadDto"}]},"yidunPayload":{"description":"网易易盾移动端社会化登录数据，当 `connection` 为 `yidun` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByYidunPayloadDto"}]},"wechatMiniProgramCodePayload":{"description":"网易易盾移动端社会化登录数据，当 `connection` 为 `wechat_mini_program_code` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByWechatMiniProgramCodePayloadDto"}]},"wechatMiniProgramPhonePayload":{"description":"网易易盾移动端社会化登录数据，当 `connection` 为 `wechat_mini_program_phone` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByWechatMiniProgramPhonePayloadDto"}]},"googlePayload":{"description":"Google 移动端社会化登录数据，当 `connection` 为 `google` 的时候必填。","allOf":[{"$ref":"#/components/schemas/SignInByGooglePayloadDto"}]},"options":{"description":"可选参数","allOf":[{"$ref":"#/components/schemas/SignInByMobileOptionsDto"}]},"client_id":{"type":"string","description":"应用 ID。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"6342b8537axxxx047d314109"},"client_secret":{"type":"string","description":"应用密钥。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"4203d30e5e915xxxxxx26c31c9adce68"}},"required":["connection","extIdpConnidentifier"]},"AlipayAuthInfoDataDto":{"type":"object","properties":{"authInfo":{"type":"string","description":"拉起支付宝需要的 AuthInfo","example":"apiname=com.alipay.account.auth&app_id=xxxxx&app_name=mc&auth_type=AUTHACCOUNT&biz_type=openservice&method=alipay.open.auth.sdk.code.get&pid=xxxxx&product_id=APP_FAST_LOGIN&scope=kuaijie&sign_type=RSA2&target_id=20141225xxxx&sign=fMcp4GtiM6rxSIeFnJCVePJKV43eXrUP86CQgiLhDHH2u%2FdN75eEvmywc2ulkm7qKRetkU9fbVZtJIqFdMJcJ9Yp%2BJI%2FF%2FpESafFR6rB2fRjiQQLGXvxmDGVMjPSxHxVtIqpZy5FDoKUSjQ2%2FILDKpu3%2F%2BtAtm2jRw1rUoMhgt0%3D"}},"required":["authInfo"]},"GetAlipayAuthInfoRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/AlipayAuthInfoDataDto"}]}},"required":["statusCode","message","data"]},"GenerateQrcodeDto":{"type":"object","properties":{"type":{"type":"string","description":"二维码类型。当前支持三种类型：\n- `MOBILE_APP`: 自建移动端 APP 扫码\n- `WECHAT_MINIPROGRAM`: 微信小程序扫码\n- `WECHAT_OFFICIAL_ACCOUNT` 关注微信公众号扫码","enum":["MOBILE_APP","WECHAT_MINIPROGRAM","WECHAT_OFFICIAL_ACCOUNT"],"example":"MOBILE_APP"},"extIdpConnId":{"type":"string","description":"当 `type` 为 `WECHAT_MINIPROGRAM` 或 `WECHAT_OFFICIAL_ACCOUNT` 时，可以指定身份源连接，否则默认使用应用开启的第一个对应身份源连接生成二维码。","example":"62eb7ed1f04xxxxc6955b329"},"customData":{"type":"object","description":"当 `type` 为 `MOBILE_APP` 时，可以传递用户的自定义数据，当用户成功扫码授权时，会将此数据存入用户的自定义数据。","example":{"school":"hust"}},"context":{"type":"object","description":"当 type 为 `WECHAT_OFFICIAL_ACCOUNT` 或 `WECHAT_MINIPROGRAM` 时，指定自定义的 pipeline 上下文，将会传递的 pipeline 的 context 中","example":{"source":"utm"}},"autoMergeQrCode":{"type":"boolean","description":"当 type 为 `WECHAT_MINIPROGRAM` 时，是否将自定义的 logo 自动合并到生成的图片上，默认为 false。服务器合并二维码的过程会加大接口响应速度，推荐使用默认值，在客户端对图片进行拼接。如果你使用 Authing 的 SDK，可以省去手动拼接的过程。","example":false,"default":false}},"required":["type"]},"GeneQRCodeDataDto":{"type":"object","properties":{"qrcodeId":{"type":"string","description":"二维码唯一 ID，可以通过此唯一 ID 查询二维码状态。","example":"gQE-8TwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyMGJjX"},"url":{"type":"string","description":"二维码 URL，前端可以基于此链接渲染二维码。","example":"https://files.authing.co/user-contentsqrcode/59f86b4832eb28071bdd9214/gQE-8TwAAAAAAAAAAS5odHRwOi8vd2VpeGluLnFxLmNvbS9xLzAyMGJjX1ZhOFNiM1UxV29GVTF5MWMAAgQY4_RiAwSAxhMA.png"},"customLogoUrl":{"type":"string","description":"如果是小程序扫码登录，并且请求参数 autoMergeQrCode 设置为 false，会返回配置的自定义 Logo，前端可以自行将此 Logo 拼接到二维码 URL 上。","example":"https://files.authing.co/authing-console/social-connections/wechatMiniLogin.svg"}},"required":["qrcodeId","url"]},"GeneQRCodeRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/GeneQRCodeDataDto"}]}},"required":["statusCode","message","data"]},"QRCodeStatusBriefUserInfoDto":{"type":"object","properties":{"displayName":{"type":"string","description":"用户显示昵称","example":""},"photo":{"type":"string","description":"用户头像","example":""}},"required":["displayName","photo"]},"CheckQRCodeStatusDataDto":{"type":"object","properties":{"status":{"type":"string","description":"二维码状态。按照用户扫码顺序，共分为未扫码、已扫码等待用户确认、用户同意/取消授权、二维码过期以及未知错误六种状态。","enum":["EXPIRED","PENDING","SCANNED","AUTHORIZED","CANCELLED","ERROR"],"example":"PENDING"},"ticket":{"type":"string","description":"当二维码状态为已授权时返回。如果在控制台应用安全 - 通用安全 - 登录安全 - APP 扫码登录 Web 安全中未开启「Web 轮询接口返回完整用户信息」（默认处于关闭状态），会返回此 ticket，用于换取完整的用户信息。","example":""},"briefUserInfo":{"description":"","example":"当二维码状态为已扫码、已授权、已取消授权时返回。如果在控制台应用安全 - 通用安全 - 登录安全 - APP 扫码登录 Web 安全中未开启「Web 轮询接口返回完整用户信息」（默认处于关闭状态），接口只会返回用户的头像和显示名称，前端可以基于此渲染用户昵称和头像，给到用户已成功扫码的提示。","allOf":[{"$ref":"#/components/schemas/QRCodeStatusBriefUserInfoDto"}]},"tokenSet":{"description":"当二维码状态为已授权并且在控制台应用安全 - 通用安全 - 登录安全 - APP 扫码登录 Web 安全中开启了「Web 轮询接口返回完整用户信息」（默认处于关闭状态）开关，此数据才会返回。推荐使用 ticket 换取用户信息。","allOf":[{"$ref":"#/components/schemas/LoginTokenResponseDataDto"}]}},"required":["status"]},"CheckQRCodeStatusRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/CheckQRCodeStatusDataDto"}]}},"required":["statusCode","message","data"]},"ExchangeTokenSetWithQRcodeTicketDto":{"type":"object","properties":{"ticket":{"type":"string","description":"当二维码状态为已授权时返回。如果在控制台应用安全 - 通用安全 - 登录安全 - APP 扫码登录 Web 安全中未开启「Web 轮询接口返回完整用户信息」（默认处于关闭状态），会返回此 ticket，用于换取完整的用户信息。","example":""},"client_id":{"type":"string","description":"应用 ID。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"6342b8537axxxx047d314109"},"client_secret":{"type":"string","description":"应用密钥。当应用的「换取 token 身份验证方式」配置为 `client_secret_post` 需要传。","example":"4203d30e5e915xxxxxx26c31c9adce68"}},"required":["ticket"]},"ChangeQRCodeStatusDto":{"type":"object","properties":{"qrcodeId":{"type":"string","description":"二维码唯一 ID","example":""},"action":{"type":"string","description":"修改二维码状态的动作:\n- `SCAN`: 修改二维码状态为已扫码状态，当移动 APP 扫了码之后，应当立即执行此操作；\n- `CONFIRM`: 修改二维码状态为已授权，执行此操作前必须先执行 `SCAN 操作；\n- `CANCEL`: 修改二维码状态为已取消，执行此操作前必须先执行 `SCAN 操作；\n    ","enum":["SCAN","CONFIRM","CANCEL"],"example":"CONFIRM"}},"required":["qrcodeId","action"]},"SignUpByPasswordDto":{"type":"object","properties":{"password":{"type":"string","description":"用户密码，默认不加密。Authing 所有 API 均通过 HTTPS 协议对密码进行安全传输，可以在一定程度上保证安全性。\n如果你还需要更高级别的安全性，我们还支持 `RSA256` 和国密 `SM2` 的密码加密方式。详情见可选参数 `options.passwordEncryptType`。\n","example":"passw0rd"},"username":{"type":"string","description":"用户名","example":"test"},"email":{"type":"string","description":"邮箱，不区分大小写。","example":"test@example.com"}},"required":["password"]},"SignUpByPassCodeDto":{"type":"object","properties":{"passCode":{"type":"string","description":"一次性临时验证码，你需要先调用发送短信或者发送邮件接口获取验证码。","example":"123456"},"email":{"type":"string","description":"邮箱，不区分大小写。","example":"114114"},"phone":{"type":"string","description":"手机号","example":"188xxxx8888"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86","default":"+86"}},"required":["passCode"]},"SignUpProfileDto":{"type":"object","properties":{"nickname":{"type":"string","description":"昵称","example":""},"company":{"type":"string","description":"公司","example":"Authing .Inc"},"photo":{"type":"string","description":"头像","example":"https://authing.cn/demo.jpg"},"device":{"type":"string","description":"设备","example":"iOS"},"browser":{"type":"string","description":"浏览器","example":"Edge"},"name":{"type":"string","description":"名称","example":"Mike"},"givenName":{"type":"string","description":"名","example":"Zhou"},"familyName":{"type":"string","description":"姓","example":"Jay"},"middleName":{"type":"string","description":"中间名","example":"Jane"},"profile":{"type":"string","description":"资料","example":"this is my profile"},"preferredUsername":{"type":"string","description":"希望称呼的用户名","example":"Mike"},"website":{"type":"string","description":"网站","example":"https://authing.cn"},"gender":{"type":"string","description":"性别 W : 女性; M : 男性","enum":["M","F","U"],"example":"M"},"birthdate":{"type":"string","description":"生日","example":"2020.2.2"},"zoneinfo":{"type":"string","description":"地区","example":"HongKong"},"locale":{"type":"string","description":"语言地区","example":"EN-US"},"address":{"type":"string","description":"地址","example":"Hai Dian XX"},"formatted":{"type":"string","description":"格式","example":""},"streetAddress":{"type":"string","description":"街道地址","example":"Hai Dian Street 1"},"locality":{"type":"string","description":"位置","example":"BeiJing HaiDian"},"region":{"type":"string","description":"地区","example":"china"},"postalCode":{"type":"string","description":"邮政编码","example":"3500000"},"country":{"type":"string","description":"国家","example":"china"},"email":{"type":"string","description":"邮箱","example":"help@authing.cn"},"phone":{"type":"string","description":"手机号","example":"114114114"},"customData":{"type":"object","description":"用户自定义字段","example":{"name":"H"}}}},"SignUpOptionsDto":{"type":"object","properties":{"clientIp":{"type":"string","description":"客户端 IP","example":"192.168.0.1"},"phonePassCodeForInformationCompletion":{"type":"string","description":"用于注册时补全用户信息的短信验证码","example":"1234"},"emailPassCodeForInformationCompletion":{"type":"string","description":"用于注册时补全用户信息的短信验证码","example":"1234"},"context":{"type":"object","description":"登录/注册时传的额外参数，会存到用户自定义字段里面","example":{"phoneNumber":"188xxxx8888","phoneCountryCode":"+86"}},"passwordEncryptType":{"type":"string","description":"密码加密类型，支持使用 RSA256 和国密 SM2 算法进行加密。默认为 `none` 不加密。\n- `none`: 不对密码进行加密，使用明文进行传输。\n- `rsa`: 使用 RSA256 算法对密码进行加密，需要使用 Authing 服务的 RSA 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 RSA256 公钥。\n- `sm2`: 使用 [国密 SM2 算法](https://baike.baidu.com/item/SM2/15081831) 对密码进行加密，需要使用 Authing 服务的 SM2 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 SM2 公钥。\n  ","enum":["sm2","rsa","none"],"example":"none","default":"none"}},"required":["context"]},"SignUpDto":{"type":"object","properties":{"connection":{"type":"string","description":"注册方式：\n- `PASSWORD`: 邮箱密码方式\n- `PASSCODE`: 邮箱/手机号验证码方式\n    ","enum":["PASSWORD","PASSCODE"],"example":"PASSWORD"},"passwordPayload":{"description":"当注册方式为 `PASSWORD` 时此参数必填。","example":{"email":"test@example.com","password":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignUpByPasswordDto"}]},"passCodePayload":{"description":"当认证方式为 `PASSCODE` 时此参数必填","example":{"email":"test@example.com","passCode":"passw0rd"},"allOf":[{"$ref":"#/components/schemas/SignUpByPassCodeDto"}]},"profile":{"description":"用户资料","allOf":[{"$ref":"#/components/schemas/SignUpProfileDto"}]},"options":{"description":"可选参数","allOf":[{"$ref":"#/components/schemas/SignUpOptionsDto"}]}},"required":["connection"]},"UserDto":{"type":"object","properties":{"userId":{"type":"string","description":"用户唯一标志，可以是用户 ID、用户名、邮箱、手机号、外部 ID、在外部身份源的 ID。","example":"6229ffaxxxxxxxxcade3e3d9"},"createdAt":{"format":"date-time","type":"string","description":"创建时间","example":"2022-07-03T02:20:30.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"更新时间","example":"2022-07-03T02:20:30.000Z"},"status":{"type":"string","description":"账户当前状态","enum":["Suspended","Resigned","Activated","Archived","Deactivated"],"example":"Activated"},"externalId":{"type":"string","description":"第三方外部 ID","example":"10010"},"email":{"type":"string","description":"邮箱，不区分大小写","example":"test@example.com"},"phone":{"type":"string","description":"手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"},"username":{"type":"string","description":"用户名，用户池内唯一","example":"bob"},"name":{"type":"string","description":"用户真实名称，不具备唯一性","example":"张三"},"nickname":{"type":"string","description":"昵称","example":"张三"},"photo":{"type":"string","description":"头像链接","example":"https://files.authing.co/authing-console/default-user-avatar.png"},"loginsCount":{"type":"number","description":"历史总登录次数","example":3},"lastLogin":{"format":"date-time","type":"string","description":"上次登录时间","example":"2022-07-03T02:20:30.000Z"},"lastIp":{"type":"string","description":"上次登录 IP","example":"127.0.0.1"},"gender":{"type":"string","description":"性别:\n- `M`: 男性，`male`\n- `F`: 女性，`female`\n- `U`: 未知，`unknown`\n  ","enum":["M","F","U"],"example":"M"},"emailVerified":{"type":"boolean","description":"邮箱是否验证","example":true},"phoneVerified":{"type":"boolean","description":"手机号是否验证","example":true},"passwordLastSetAt":{"format":"date-time","type":"string","description":"用户上次密码修改时间","example":"2022-07-03T02:20:30.000Z"},"birthdate":{"format":"date-time","type":"string","description":"出生日期","example":"2022-06-03"},"country":{"type":"string","description":"所在国家","example":"CN"},"province":{"type":"string","description":"所在省份","example":"BJ"},"city":{"type":"string","description":"所在城市","example":"BJ"},"address":{"type":"string","description":"所处地址","example":"北京朝阳"},"streetAddress":{"type":"string","description":"所处街道地址","example":"北京朝阳区 xxx 街道"},"postalCode":{"type":"string","description":"邮政编码号","example":"438100"},"company":{"type":"string","description":"所在公司","example":"steamory"},"browser":{"type":"string","description":"最近一次登录时使用的浏览器 UA","example":"Mozilla/5.0 (Linux; Android 10; V2001A; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/87.0.4280.141 Mobile Safari/537.36 VivoBrowser/10.2.10.0"},"device":{"type":"string","description":"最近一次登录时使用的设备","example":"iOS"},"givenName":{"type":"string","description":"名","example":"三"},"familyName":{"type":"string","description":"姓","example":"张"},"middleName":{"type":"string","description":"中间名","example":""},"profile":{"type":"string","description":"Preferred Username","example":""},"preferredUsername":{"type":"string","description":"Preferred Username","example":""},"website":{"type":"string","description":"用户个人网页","example":""},"zoneinfo":{"type":"string","description":"用户时区信息","example":""},"locale":{"type":"string","description":"Locale","example":""},"formatted":{"type":"string","description":"标准的完整地址","example":""},"region":{"type":"string","description":"用户所在区域","example":""},"userSourceType":{"type":"string","description":"来源类型:\n- `excel`: 通过 excel 导入\n- `register`: 用户自主注册\n- `adminCreated`: 管理员后台手动创建（包含使用管理 API 创建用户 ）\n- `syncTask`: 同步中心的同步任务  \n","enum":["excel","register","adminCreated","syncTask"],"example":"register"},"userSourceId":{"type":"string","description":"应用 ID 或者同步任务 ID","example":""},"lastLoginApp":{"type":"string","description":"用户上次登录的应用 ID","example":""},"mainDepartmentId":{"type":"string","description":"用户主部门 ID","example":""},"lastMfaTime":{"format":"date-time","type":"string","description":"用户上次进行 MFA 认证的时间","example":""},"passwordSecurityLevel":{"type":"number","description":"用户密码安全强度等级","example":1},"resetPasswordOnNextLogin":{"type":"boolean","description":"下次登录要求重置密码","default":false},"departmentIds":{"description":"用户所属部门 ID 列表","example":["624d930c3xxxx5c08dd4986e","624d93102xxxx012f33cd2fe"],"type":"array","items":{"type":"string"}},"identities":{"description":"外部身份源","type":"array","items":{"$ref":"#/components/schemas/IdentityDto"}},"customData":{"type":"object","description":"用户的扩展字段数据","example":{"school":"北京大学","age":22}},"statusChangedAt":{"format":"date-time","type":"string","description":"用户状态上次修改时间","example":"2022-07-03T02:20:30.000Z"}},"required":["userId","createdAt","updatedAt","status","gender","emailVerified","phoneVerified","userSourceType"]},"UserSingleRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/UserDto"}]}},"required":["statusCode","message","data"]},"SendSMSDto":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"channel":{"type":"string","description":"短信通道，指定发送此短信的目的：\n- `CHANNEL_LOGIN`: 用于用户登录\n- `CHANNEL_REGISTER`: 用于用户注册\n- `CHANNEL_RESET_PASSWORD`: 用于重置密码\n- `CHANNEL_BIND_PHONE`: 用于绑定手机号\n- `CHANNEL_UNBIND_PHONE`: 用于解绑手机号\n- `CHANNEL_BIND_MFA`: 用于绑定 MFA\n- `CHANNEL_VERIFY_MFA`: 用于验证 MFA\n- `CHANNEL_UNBIND_MFA`: 用于解绑 MFA\n- `CHANNEL_COMPLETE_PHONE`: 用于在注册/登录时补全手机号信息  \n- `CHANNEL_IDENTITY_VERIFICATION`: 用于进行用户实名认证\n- `CHANNEL_DELETE_ACCOUNT`: 用于注销账号\n      ","enum":["CHANNEL_LOGIN","CHANNEL_REGISTER","CHANNEL_RESET_PASSWORD","CHANNEL_BIND_PHONE","CHANNEL_UNBIND_PHONE","CHANNEL_BIND_MFA","CHANNEL_VERIFY_MFA","CHANNEL_UNBIND_MFA","CHANNEL_COMPLETE_PHONE","CHANNEL_IDENTITY_VERIFICATION","CHANNEL_DELETE_ACCOUNT"],"example":"CHANNEL_LOGIN"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"}},"required":["phoneNumber","channel"]},"SendSMSRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"}},"required":["statusCode","message"]},"SendEmailDto":{"type":"object","properties":{"email":{"type":"string","description":"邮箱，不区分大小写","example":"test@example.com"},"channel":{"type":"string","description":"短信通道，指定发送此短信的目的：\n- `CHANNEL_LOGIN`: 用于用户登录\n- `CHANNEL_REGISTER`: 用于用户注册\n- `CHANNEL_RESET_PASSWORD`: 用于重置密码\n- `CHANNEL_VERIFY_EMAIL_LINK`: 用于验证邮箱地址\n- `CHANNEL_UPDATE_EMAIL`: 用于修改邮箱\n- `CHANNEL_BIND_EMAIL`: 用于绑定邮箱\n- `CHANNEL_UNBIND_EMAIL`: 用于解绑邮箱\n- `CHANNEL_VERIFY_MFA`: 用于验证 MFA\n- `CHANNEL_UNLOCK_ACCOUNT`: 用于自助解锁\n- `CHANNEL_COMPLETE_EMAIL`: 用于注册/登录时补全邮箱信息   \n- `CHANNEL_DELETE_ACCOUNT`: 用于注销账号\n","enum":["CHANNEL_LOGIN","CHANNEL_REGISTER","CHANNEL_RESET_PASSWORD","CHANNEL_VERIFY_EMAIL_LINK","CHANNEL_UPDATE_EMAIL","CHANNEL_BIND_EMAIL","CHANNEL_UNBIND_EMAIL","CHANNEL_VERIFY_MFA","CHANNEL_UNLOCK_ACCOUNT","CHANNEL_COMPLETE_EMAIL","CHANNEL_DELETE_ACCOUNT"],"example":"CHANNEL_LOGIN"}},"required":["email","channel"]},"SendEmailRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"}},"required":["statusCode","message"]},"PreCheckSmsCodeDto":{"type":"object","properties":{"phone":{"type":"string","description":"手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"passCode":{"type":"string","description":"短信验证码","example":"123456"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"},"channel":{"type":"string","description":"短信通道，指定发送此短信的目的，如 CHANNEL_LOGIN 用于登录、CHANNEL_REGISTER 用于注册。","enum":["CHANNEL_LOGIN","CHANNEL_REGISTER","CHANNEL_RESET_PASSWORD","CHANNEL_BIND_PHONE","CHANNEL_UNBIND_PHONE","CHANNEL_BIND_MFA","CHANNEL_VERIFY_MFA","CHANNEL_UNBIND_MFA","CHANNEL_COMPLETE_PHONE","CHANNEL_IDENTITY_VERIFICATION","CHANNEL_DELETE_ACCOUNT"],"example":"CHANNEL_LOGIN"}},"required":["phone","passCode","channel"]},"PreCheckEmailCodeDto":{"type":"object","properties":{"email":{"type":"string","description":"邮箱，不区分大小写","example":"test@example.com"},"passCode":{"type":"string","description":"邮箱验证码","example":"123456"},"channel":{"type":"string","description":"短信通道，指定发送此短信的目的，如 CHANNEL_LOGIN 用于登录、CHANNEL_REGISTER 用于注册。","enum":["CHANNEL_LOGIN","CHANNEL_REGISTER","CHANNEL_RESET_PASSWORD","CHANNEL_VERIFY_EMAIL_LINK","CHANNEL_UPDATE_EMAIL","CHANNEL_BIND_EMAIL","CHANNEL_UNBIND_EMAIL","CHANNEL_VERIFY_MFA","CHANNEL_UNLOCK_ACCOUNT","CHANNEL_COMPLETE_EMAIL","CHANNEL_DELETE_ACCOUNT"],"example":"CHANNEL_LOGIN"}},"required":["email","passCode","channel"]},"PreCheckCodeDto":{"type":"object","properties":{"codeType":{"type":"string","description":"验证码类型","enum":["SMS","EMAIL"],"example":"SMS"},"smsCodePayload":{"description":"短信验证码检验参数","allOf":[{"$ref":"#/components/schemas/PreCheckSmsCodeDto"}]},"emailCodePayload":{"description":"邮箱验证码检验参数","allOf":[{"$ref":"#/components/schemas/PreCheckEmailCodeDto"}]}},"required":["codeType"]},"PreCheckCodeDataDto":{"type":"object","properties":{"isValid":{"type":"boolean","description":"验证码是否正确且有效","example":true},"message":{"type":"string","description":"如果验证码不正确或者已失效，具体的错误信息","example":"验证码已过期"}},"required":["isValid"]},"PreCheckCodeRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/PreCheckCodeDataDto"}]}},"required":["statusCode","message","data"]},"DecryptWechatMiniProgramDataDto":{"type":"object","properties":{"extIdpConnidentifier":{"type":"string","description":"微信小程序的外部身份源连接标志符","example":"my-wxapp"},"encryptedData":{"type":"string","description":"获取微信开放数据返回的加密数据（encryptedData）","example":""},"iv":{"type":"string","description":"对称解密算法初始向量，由微信返回","example":""},"code":{"type":"string","description":"`wx.login` 接口返回的用户 `code`","example":""}},"required":["extIdpConnidentifier","encryptedData","iv","code"]},"DecryptWechatMiniProgramDataRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"type":"object","description":"响应数据","example":{"nickName":"张三","gender":1,"language":"zh_CN","city":"Guangzhou","province":"Guangdong","country":"CN","avatarUrl":"http://wx.qlogo.cn/mmopen/vi_32/aSKcBBPpibyKNicHNTMM0qJVh8Kjgiak2AHWr8MHM4WgMEm7GFhsf8OYrySdbvAMvTsw3mo8ibKicsnfN5pRjl1p8HQ/0","unionId":"ocMvos6NjeKLIBqg5Mr9QjxrP1FA","watermark":{"timestamp":1477314187,"appid":"wx4f4bc4dec97d474b"}}}},"required":["statusCode","message","data"]},"GetWechatMiniProgramPhoneDto":{"type":"object","properties":{"extIdpConnidentifier":{"type":"string","description":"微信小程序的外部身份源连接标志符","example":"my-wxapp"},"code":{"type":"string","description":"`open-type=getphonecode` 接口返回的 `code`","example":""}},"required":["extIdpConnidentifier","code"]},"GetWechatMiniProgramPhoneDataDto":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"包含区号的手机号","example":"+86188xxxx8888"},"purePhoneNumber":{"type":"string","description":"不包含区号的手机号","example":"188xxxx8888"},"countryCode":{"type":"string","description":"区号","example":"86"}},"required":["phoneNumber","purePhoneNumber","countryCode"]},"GetWechatMiniProgramPhoneRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/GetWechatMiniProgramPhoneDataDto"}]}},"required":["statusCode","message","data"]},"GetWechatAccessTokenDto":{"type":"object","properties":{"appId":{"type":"string","description":"微信小程序或微信公众号的 AppId","example":""},"appSecret":{"type":"string","description":"微信小程序或微信公众号的 AppSecret","example":""}},"required":["appId","appSecret"]},"GetWechatAccessTokenDataDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"Authing 服务器缓存的微信 Access Token","example":""},"expiresAt":{"type":"number","description":"Access Token 到期时间，为单位为秒的时间戳","example":0}},"required":["accessToken","expiresAt"]},"GetWechatAccessTokenRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/GetWechatAccessTokenDataDto"}]}},"required":["statusCode","message","data"]},"ParsedUserAgent":{"type":"object","properties":{"device":{"type":"string","description":"使用的设备类型","example":"Desktop"},"browser":{"type":"string","description":"浏览器名称","example":"Chrome"},"os":{"type":"string","description":"操作系统","example":"Windows"}},"required":["device","browser","os"]},"GeoIpLocation":{"type":"object","properties":{"lon":{"type":"number","description":"经度","example":116.3889},"lat":{"type":"number","description":"纬度","example":39.9288}},"required":["lon","lat"]},"GeoIp":{"type":"object","properties":{"location":{"description":"地理位置","allOf":[{"$ref":"#/components/schemas/GeoIpLocation"}]},"country_name":{"type":"string","description":"Country Name","example":"China"},"country_code2":{"type":"string","description":"Country Code 2","example":"CN"},"country_code3":{"type":"string","description":"Country Code 3","example":"CN"},"region_name":{"type":"string","description":"Region Name","example":"Beijing"},"region_code":{"type":"string","description":"Region Code","example":"BJ"},"city_name":{"type":"string","description":"城市名称","example":"Beijing"},"continent_code":{"type":"string","description":"Continent Code","example":"AS"},"timezone":{"type":"string","description":"时区","example":"Asia/Shanghai"}},"required":["location","country_name","country_code2","country_code3","region_name","region_code","city_name","continent_code","timezone"]},"LoginHistoryDto":{"type":"object","properties":{"userId":{"type":"string","description":"用户 ID","example":"xxx"},"appId":{"type":"string","description":"应用 ID","example":"xxx"},"appName":{"type":"string","description":"应用名称","example":"示例应用"},"appLoginUrl":{"type":"string","description":"应用登录地址","example":"https://example.authing.cn/login"},"appLogo":{"type":"string","description":"应用 Logo","example":"https://files.authing.co/authing-console/default-app-logo.png"},"loginAt":{"type":"string","description":"登录时间","example":"2022-07-03T02:20:30.000Z"},"clientIp":{"type":"string","description":"登录时使用的客户端 IP","example":"127.0.0.1"},"success":{"type":"boolean","description":"是否登录成功","example":true},"errorMessage":{"type":"string","description":"登录失败时的具体错误信息","example":"账号或密码不正确"},"userAgent":{"type":"string","description":"User Agent","example":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"},"parsedUserAgent":{"description":"解析过后的 User Agent","allOf":[{"$ref":"#/components/schemas/ParsedUserAgent"}]},"loginMethod":{"type":"string","description":"使用的登录方式","example":"loginByEmail"},"geoip":{"description":"地理位置","allOf":[{"$ref":"#/components/schemas/GeoIp"}]}},"required":["userId","appId","appName","appLoginUrl","appLogo","loginAt","clientIp","success","userAgent","parsedUserAgent","loginMethod","geoip"]},"LoginHistoryPaginatedRespDto":{"type":"object","properties":{"totalCount":{"type":"number","description":"记录总数"},"list":{"description":"记录列表","type":"array","items":{"$ref":"#/components/schemas/LoginHistoryDto"}}},"required":["totalCount","list"]},"GetLoginHistoryRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/LoginHistoryPaginatedRespDto"}]}},"required":["statusCode","message","data"]},"LoggedInAppsDto":{"type":"object","properties":{"appId":{"type":"string","description":"应用 ID","example":"xxx"},"appName":{"type":"string","description":"应用名称","example":"示例应用"},"appLoginUrl":{"type":"string","description":"应用登录地址","example":"https://example.authing.cn/login"},"appLogo":{"type":"string","description":"应用 Logo","example":"https://files.authing.co/authing-console/default-app-logo.png"},"active":{"type":"boolean","description":"当前是否处于登录态","example":true}},"required":["appId","appName","appLoginUrl","appLogo","active"]},"GetLoggedInAppsRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/LoggedInAppsDto"}}},"required":["statusCode","message","data"]},"AccessibleAppsDto":{"type":"object","properties":{"appId":{"type":"string","description":"应用 ID","example":"xxx"},"appName":{"type":"string","description":"应用名称","example":"示例应用"},"appLoginUrl":{"type":"string","description":"应用登录地址","example":"https://example.authing.cn/login"},"appLogo":{"type":"string","description":"应用 Logo","example":"https://files.authing.co/authing-console/default-app-logo.png"},"active":{"type":"boolean","description":"当前是否处于登录态","example":true}},"required":["appId","appName","appLoginUrl","appLogo","active"]},"GetAccessibleAppsRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/AccessibleAppsDto"}}},"required":["statusCode","message","data"]},"UserTenantListDto":{"type":"object","properties":{"tenantId":{"type":"string","description":"租户 ID","example":"xxxx"},"tenantName":{"type":"string","description":"租户名称","example":"xxxx"},"joinAt":{"format":"date-time","type":"string","description":"加入租户的时间","example":"xxxx"}},"required":["tenantId","tenantName","joinAt"]},"GetTenantListRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/UserTenantListDto"}}},"required":["statusCode","message","data"]},"RoleDto":{"type":"object","properties":{"code":{"type":"string","description":"权限分组内角色的唯一标识符","example":"role1"},"description":{"type":"string","description":"角色描述","example":"this is description"},"namespace":{"type":"string","description":"所属权限分组的 code","example":"default"}},"required":["code","description","namespace"]},"RoleListRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/RoleDto"}}},"required":["statusCode","message","data"]},"GroupDto":{"type":"object","properties":{"code":{"type":"string","description":"分组 code","example":"developer"},"name":{"type":"string","description":"分组名称","example":"开发者"},"description":{"type":"string","description":"分组描述","example":"描述内容"}},"required":["code","name","description"]},"GroupListRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/GroupDto"}}},"required":["statusCode","message","data"]},"LangUnit":{"type":"object","properties":{"enabled":{"type":"boolean","description":"是否已开启。若开启，且控制台选择该语言，则展示该内容。（默认关闭）","example":false},"value":{"type":"string","description":"多语言内容","example":false}},"required":["enabled","value"]},"LangObject":{"type":"object","properties":{"zh-CN":{"description":"多语言的中文内容","example":{"enabled":false,"value":"中文"},"allOf":[{"$ref":"#/components/schemas/LangUnit"}]},"en-US":{"description":"多语言的英文内容","example":{"enabled":false,"value":"English"},"allOf":[{"$ref":"#/components/schemas/LangUnit"}]},"zh-TW":{"description":"多语言的繁体中文内容","example":{"enabled":false,"value":"繁體中文"},"allOf":[{"$ref":"#/components/schemas/LangUnit"}]},"ja-JP":{"description":"多语言的日语内容","example":{"enabled":false,"value":"日本語"},"allOf":[{"$ref":"#/components/schemas/LangUnit"}]}},"required":["zh-CN","en-US","zh-TW","ja-JP"]},"DepartmentI18nDto":{"type":"object","properties":{"name":{"description":"支持多语言的字段","example":{"zh-CN":{"enabled":false,"value":"中文"},"en-US":{"enabled":false,"value":"English"}},"allOf":[{"$ref":"#/components/schemas/LangObject"}]}},"required":["name"]},"UserDepartmentRespDto":{"type":"object","properties":{"organizationCode":{"type":"string","description":"组织 Code（organizationCode）","example":"steamory"},"departmentId":{"type":"string","description":"部门 ID","example":"60b49eb83fd80adb96f26e68"},"createdAt":{"format":"date-time","type":"string","description":"部门创建时间","example":"2022-07-03T02:20:30.000Z"},"name":{"type":"string","description":"部门名称","example":"dd8d7stf44"},"description":{"type":"string","description":"部门描述","example":"dd8d7stf44"},"openDepartmentId":{"type":"string","description":"自定义部门 ID，用于存储自定义的 ID","example":"ou_7dab8a3d3cdccxxxxxx777c7ad535d62"},"isLeader":{"type":"boolean","description":"是否是部门 Leader","example":true},"code":{"type":"string","description":"部门识别码","example":"6229c4deb3e4d8a20b6021ff"},"isMainDepartment":{"type":"boolean","description":"是否是主部门","example":true},"joinedAt":{"format":"date-time","type":"string","description":"加入部门时间","example":"2022-07-03T02:20:30.000Z"},"isVirtualNode":{"type":"boolean","description":"是否是虚拟部门","example":false},"i18n":{"description":"多语言设置","example":{"name":{"zh-CN":{"enabled":false,"value":"中文"},"en-US":{"enabled":false,"value":"English"}}},"allOf":[{"$ref":"#/components/schemas/DepartmentI18nDto"}]},"customData":{"type":"object","description":"部门的扩展字段数据","example":{"icon":"https://example.com/logo"}}},"required":["organizationCode","departmentId","createdAt","name","description","isLeader","code","isMainDepartment","joinedAt","isVirtualNode"]},"UserDepartmentPagingDto":{"type":"object","properties":{"totalCount":{"type":"number","description":"记录总数"},"list":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/UserDepartmentRespDto"}}},"required":["totalCount","list"]},"UserDepartmentPaginatedRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/UserDepartmentPagingDto"}]}},"required":["statusCode","message","data"]},"PolicyCondition":{"type":"object","properties":{"param":{"type":"string","description":"Condition Param","example":"AppId","enum":["UserPoolId","AppId","RequestFrom","UserId","UserArn","CurrentTime","EpochTime","SourceIp","User","MultiFactorAuthPresent","MultiFactorAuthAge","UserAgent","Referer","Device","OS","Country","Province","City","DeviceChanged","DeviceUntrusted","ProxyUntrusted","LoggedInApps","Namespace"]},"operator":{"type":"string","description":"Condition Operator","example":"StringEquals","enum":["Bool","DateEquals","DateNotEquals","DateLessThan","DateLessThanEquals","DateGreaterThan","DateGreaterThanEquals","IpAddress","NotIpAddress","NumericEquals","NumericNotEquals","NumericLessThan","NumericLessThanEquals","NumericGreaterThan","NumericGreaterThanEquals","StringEquals","StringNotEquals","StringEqualsIgnoreCase","StringNotEqualsIgnoreCase","StringLike","StringNotLike","ListContains"]},"value":{"type":"string","description":"Condition Value","example":"1"}},"required":["param","operator","value"]},"AuthorizedResourceDto":{"type":"object","properties":{"resourceCode":{"type":"string","description":"资源描述符","example":"ecs:1"},"description":{"type":"string","description":"资源描述信息","example":"服务器"},"condition":{"description":"策略 Condition","type":"array","items":{"$ref":"#/components/schemas/PolicyCondition"}},"resourceType":{"type":"string","description":"资源类型","example":"API","default":null,"enum":["DATA","API","MENU","BUTTON","UI"]},"apiIdentifier":{"type":"string","description":"API URL","example":"/api/v1/example","default":null},"actions":{"description":"授权的操作列表","example":["ecs:Start","ecs:Stop"],"type":"array","items":{"type":"string"}},"effect":{"type":"string","description":"允许还是拒绝","example":"ALLOW","default":"ALLOW","enum":["ALLOW","DENY"]}},"required":["resourceCode","resourceType","apiIdentifier","actions","effect"]},"AuthorizedResourcePagingDto":{"type":"object","properties":{"totalCount":{"type":"number","description":"记录总数"},"list":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/AuthorizedResourceDto"}}},"required":["totalCount","list"]},"AuthorizedResourcePaginatedRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/AuthorizedResourcePagingDto"}]}},"required":["statusCode","message","data"]},"UpdateUserProfileDto":{"type":"object","properties":{"name":{"type":"string","description":"用户真实名称，不具备唯一性","example":"张三"},"nickname":{"type":"string","description":"昵称","example":"张三"},"photo":{"type":"string","description":"头像链接","example":"https://files.authing.co/authing-console/default-user-avatar.png"},"externalId":{"type":"string","description":"第三方外部 ID","example":"10010"},"birthdate":{"format":"date-time","type":"string","description":"出生日期","example":"2022-06-03"},"country":{"type":"string","description":"所在国家","example":"CN"},"province":{"type":"string","description":"所在省份","example":"BJ"},"city":{"type":"string","description":"所在城市","example":"BJ"},"address":{"type":"string","description":"所处地址","example":"北京朝阳"},"streetAddress":{"type":"string","description":"所处街道地址","example":"北京朝阳区 xxx 街道"},"postalCode":{"type":"string","description":"邮政编码号","example":"438100"},"gender":{"type":"string","description":"性别","enum":["M","F","U"],"example":"M","default":"U"},"username":{"type":"string","description":"用户名，用户池内唯一","example":"bob"},"customData":{"type":"object","description":"自定义数据，传入的对象中的 key 必须先在用户池定义相关自定义字段","example":{"school":"北京大学","age":22}}}},"BindEmailDto":{"type":"object","properties":{"email":{"type":"string","description":"邮箱，不区分大小写。","example":"test@example.com"},"passCode":{"type":"string","description":"邮箱验证码，一个邮箱验证码只能使用一次，且有一定有效时间。","example":"123456"}},"required":["email","passCode"]},"UnbindEmailDto":{"type":"object","properties":{}},"BindPhoneDto":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"passCode":{"type":"string","description":"短信验证码，注意一个短信验证码指南使用一次，且有过期时间。","example":"123456"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"}},"required":["phoneNumber","passCode"]},"UnbindPhoneDto":{"type":"object","properties":{}},"GetSecurityInfoDto":{"type":"object","properties":{"passwordSecurityLevel":{"type":"number","description":"密码强度等级"},"mfaEnrolled":{"type":"boolean","description":"是否绑定了 MFA"},"passwordSet":{"type":"boolean","description":"是否设置了密码"},"emailBinded":{"type":"boolean","description":"是否绑定了邮箱"},"phoneBinded":{"type":"boolean","description":"是否绑定了手机号"},"securityScore":{"type":"number","description":"账号等级评分"}},"required":["passwordSecurityLevel","mfaEnrolled","passwordSet","emailBinded","phoneBinded","securityScore"]},"GetSecurityInfoRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/GetSecurityInfoDto"}]}},"required":["statusCode","message","data"]},"UpdatePasswordDto":{"type":"object","properties":{"newPassword":{"type":"string","description":"新密码"},"oldPassword":{"type":"string","description":"原始密码，如果用户当前设置了密码，此参数必填。"},"passwordEncryptType":{"type":"string","description":"密码加密类型，支持使用 RSA256 和国密 SM2 算法进行加密。默认为 `none` 不加密。\n- `none`: 不对密码进行加密，使用明文进行传输。\n- `rsa`: 使用 RSA256 算法对密码进行加密，需要使用 Authing 服务的 RSA 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 RSA256 公钥。\n- `sm2`: 使用 [国密 SM2 算法](https://baike.baidu.com/item/SM2/15081831) 对密码进行加密，需要使用 Authing 服务的 SM2 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 SM2 公钥。\n  ","enum":["sm2","rsa","none"],"example":"none","default":"none"}},"required":["newPassword"]},"UpdateEmailByEmailPassCodeDto":{"type":"object","properties":{"newEmail":{"type":"string","description":"新邮箱","example":"new@example.com"},"newEmailPassCode":{"type":"string","description":"新邮箱验证码","example":"123456"},"oldEmail":{"type":"string","description":"旧邮箱，如果用户池开启了修改邮箱需要验证之前的邮箱，此参数必填。","example":"old@example.com"},"oldEmailPassCode":{"type":"string","description":"旧邮箱验证码，如果用户池开启了修改邮箱需要验证之前的邮箱，此参数必填。","example":"123456"}},"required":["newEmail","newEmailPassCode"]},"VerifyUpdateEmailRequestDto":{"type":"object","properties":{"verifyMethod":{"type":"string","description":"修改当前邮箱使用的验证手段：\n- `EMAIL_PASSCODE`: 通过邮箱验证码进行验证，当前只支持这种验证方式。\n    ","enum":["EMAIL_PASSCODE"],"example":"EMAIL_PASSCODE"},"emailPassCodePayload":{"description":"使用邮箱验证码方式验证的数据","allOf":[{"$ref":"#/components/schemas/UpdateEmailByEmailPassCodeDto"}]}},"required":["verifyMethod","emailPassCodePayload"]},"VerifyUpdateEmailRequestData":{"type":"object","properties":{"updateEmailToken":{"type":"string","description":"用于修改当前邮箱的 token，你需要使用此 token 调用**修改邮箱**接口。"},"tokenExpiresIn":{"type":"number","description":"Token 有效时间，时间为 60 秒。","example":60}},"required":["updateEmailToken","tokenExpiresIn"]},"VerifyUpdateEmailRequestRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/VerifyUpdateEmailRequestData"}]}},"required":["statusCode","message","data"]},"UpdateEmailDto":{"type":"object","properties":{"updateEmailToken":{"type":"string","description":"用于临时修改邮箱的 token，可从**发起修改邮箱的验证请求**接口获取。","example":"xxxx"}},"required":["updateEmailToken"]},"UpdatePhoneByPhonePassCodeDto":{"type":"object","properties":{"newPhoneNumber":{"type":"string","description":"新手机号码，不带区号。如果是国外手机号，请在 newPhoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"newPhonePassCode":{"type":"string","description":"验证码","example":"123456"},"newPhoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"},"oldPhoneNumber":{"type":"string","description":"旧手机号码，不带区号。如果是国外手机号，请在 oldPhoneCountryCode 参数中指定区号。如果用户池开启了修改手机号需要验证之前的手机号，此参数必填。","example":"188xxxx8888"},"oldPhonePassCode":{"type":"string","description":"旧手机号的验证码，如果用户池开启了修改手机号需要验证之前的手机号，此参数必填","example":"123456"},"oldPhoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"}},"required":["newPhoneNumber","newPhonePassCode"]},"VerifyUpdatePhoneRequestDto":{"type":"object","properties":{"verifyMethod":{"type":"string","description":"修改手机号的验证方式：\n- `PHONE_PASSCODE`: 使用短信验证码的方式进行验证，当前仅支持这一种方式。\n    ","enum":["PHONE_PASSCODE"]},"phonePassCodePayload":{"description":"使用手机号验证码方式验证的数据","allOf":[{"$ref":"#/components/schemas/UpdatePhoneByPhonePassCodeDto"}]}},"required":["verifyMethod","phonePassCodePayload"]},"VerifyUpdatePhoneRequestData":{"type":"object","properties":{"updatePhoneToken":{"type":"string","description":"用于修改当前手机号 token，你需要使用此 token 请求**修改手机号**的接口。"},"tokenExpiresIn":{"type":"number","description":"过期时间"}},"required":["updatePhoneToken","tokenExpiresIn"]},"VerifyUpdatePhoneRequestRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/VerifyUpdatePhoneRequestData"}]}},"required":["statusCode","message","data"]},"UpdatePhoneDto":{"type":"object","properties":{"updatePhoneToken":{"type":"string","description":"用于临时修改手机号的 token，可从**发起修改手机号的验证请求**接口获取。","example":"xxxx"}},"required":["updatePhoneToken"]},"ResetPasswordByPhonePassCodeDto":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"此账号绑定的手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"passCode":{"type":"string","description":"短信验证码，一个短信验证码只能使用一次，有效时间为一分钟。你需要通过**发送短信**接口获取。","example":"123456"},"phoneCountryCode":{"type":"string","description":"手机区号，中国大陆手机号可不填。Authing 短信服务暂不内置支持国际手机号，你需要在 Authing 控制台配置对应的国际短信服务。完整的手机区号列表可参阅 https://en.wikipedia.org/wiki/List_of_country_calling_codes。","example":"+86"}},"required":["phoneNumber","passCode"]},"ResetPasswordByEmailPassCodeDto":{"type":"object","properties":{"email":{"type":"string","description":"此账号绑定的邮箱，不区分大小写。"},"passCode":{"type":"string","description":"邮箱验证码，一个短信验证码只能使用一次，默认有效时间为 5 分钟。你需要通过**发送邮件**接口获取。"}},"required":["passCode"]},"VerifyResetPasswordRequestDto":{"type":"object","properties":{"verifyMethod":{"type":"string","description":"忘记密码请求使用的验证手段：\n- `EMAIL_PASSCODE`: 通过邮箱验证码进行验证\n- `PHONE_PASSCODE`: 通过手机号验证码进行验证\n    ","enum":["EMAIL_PASSCODE","PHONE_PASSCODE"],"example":"EMAIL_PASSCODE"},"phonePassCodePayload":{"description":"使用手机号验证码验证的数据","allOf":[{"$ref":"#/components/schemas/ResetPasswordByPhonePassCodeDto"}]},"emailPassCodePayload":{"description":"使用邮箱验证码验证的数据","allOf":[{"$ref":"#/components/schemas/ResetPasswordByEmailPassCodeDto"}]}},"required":["verifyMethod"]},"ResetPasswordVerify":{"type":"object","properties":{"passwordResetToken":{"type":"string","description":"用于重置密码 token"},"tokenExpiresIn":{"type":"number","description":"过期时间"}},"required":["passwordResetToken","tokenExpiresIn"]},"PasswordResetVerifyResp":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/ResetPasswordVerify"}]}},"required":["statusCode","message","data"]},"ResetPasswordDto":{"type":"object","properties":{"passwordResetToken":{"type":"string","description":"重置密码的 token"},"password":{"type":"string","description":"密码"},"passwordEncryptType":{"type":"string","description":"密码加密类型，支持使用 RSA256 和国密 SM2 算法进行加密。默认为 `none` 不加密。\n- `none`: 不对密码进行加密，使用明文进行传输。\n- `rsa`: 使用 RSA256 算法对密码进行加密，需要使用 Authing 服务的 RSA 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 RSA256 公钥。\n- `sm2`: 使用 [国密 SM2 算法](https://baike.baidu.com/item/SM2/15081831) 对密码进行加密，需要使用 Authing 服务的 SM2 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 SM2 公钥。\n  ","enum":["sm2","rsa","none"],"example":"none","default":"none"}},"required":["passwordResetToken","password"]},"IsSuccessDto":{"type":"object","properties":{"success":{"type":"boolean","description":"操作是否成功","example":true}},"required":["success"]},"IsSuccessRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"操作是否成功","allOf":[{"$ref":"#/components/schemas/IsSuccessDto"}]}},"required":["statusCode","message","data"]},"DeleteAccountByPhonePassCodeDto":{"type":"object","properties":{"phoneNumber":{"type":"string","description":"此账号绑定的手机号，不带区号。如果是国外手机号，请在 phoneCountryCode 参数中指定区号。","example":"188xxxx8888"},"passCode":{"type":"string","description":"短信验证码，一个短信验证码只能使用一次，有效时间为一分钟。你需要通过**发送短信**接口获取。","example":"123456"},"phoneCountryCode":{"type":"string","description":"手机区号","example":"+86"}},"required":["phoneNumber","passCode"]},"DeleteAccountByEmailPassCodeDto":{"type":"object","properties":{"email":{"type":"string","description":"此账号绑定的邮箱，不区分大小写。"},"passCode":{"type":"string","description":"邮箱验证码，一个短信验证码只能使用一次，默认有效时间为 5 分钟。你需要通过**发送邮件**接口获取。"}},"required":["passCode"]},"DeleteAccountByPasswordDto":{"type":"object","properties":{"password":{"type":"string","description":"用户密码"},"passwordEncryptType":{"type":"string","description":"密码加密类型，支持使用 RSA256 和国密 SM2 算法进行加密。默认为 `none` 不加密。\n- `none`: 不对密码进行加密，使用明文进行传输。\n- `rsa`: 使用 RSA256 算法对密码进行加密，需要使用 Authing 服务的 RSA 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 RSA256 公钥。\n- `sm2`: 使用 [国密 SM2 算法](https://baike.baidu.com/item/SM2/15081831) 对密码进行加密，需要使用 Authing 服务的 SM2 公钥进行加密，请阅读**介绍**部分了解如何获取 Authing 服务的 SM2 公钥。\n  ","enum":["sm2","rsa","none"],"example":"none","default":"none"}},"required":["password"]},"VerifyDeleteAccountRequestDto":{"type":"object","properties":{"verifyMethod":{"type":"string","description":"注销账号的验证手段：\n- `PHONE_PASSCODE`: 使用手机号验证码方式进行验证。\n- `EMAIL_PASSCODE`: 使用邮箱验证码方式进行验证。\n- `PASSWORD`: 如果用户既没有绑定手机号又没有绑定邮箱，可以使用密码作为验证手段。\n    ","enum":["PHONE_PASSCODE","EMAIL_PASSCODE","PASSWORD"],"example":"PHONE_PASSCODE"},"phonePassCodePayload":{"description":"使用手机号验证码验证的数据","allOf":[{"$ref":"#/components/schemas/DeleteAccountByPhonePassCodeDto"}]},"emailPassCodePayload":{"description":"使用邮箱验证码验证的数据","allOf":[{"$ref":"#/components/schemas/DeleteAccountByEmailPassCodeDto"}]},"passwordPayload":{"description":"使用密码验证的数据","allOf":[{"$ref":"#/components/schemas/DeleteAccountByPasswordDto"}]}},"required":["verifyMethod"]},"VerifyDeleteAccountRequestDataDto":{"type":"object","properties":{"deleteAccountToken":{"type":"string","description":"用于注销账号的临时 Token，你需要调用**注销账号**接口执行实际注销账号操作。","example":"xxxx"},"tokenExpiresIn":{"type":"number","description":"Token 有效时间，默认为 60 秒。","example":60}},"required":["deleteAccountToken","tokenExpiresIn"]},"VerifyDeleteAccountRequestRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/VerifyDeleteAccountRequestDataDto"}]}},"required":["statusCode","message","data"]},"DeleteAccounDto":{"type":"object","properties":{"deleteAccountToken":{"type":"string","description":"注销账户的 token"}},"required":["deleteAccountToken"]},"SystmeInfoRSAConfig":{"type":"object","properties":{"publicKey":{"type":"string","description":"RSA256 公钥","example":"xxxxxxxxxxxxxxxxxxxxxx"}},"required":["publicKey"]},"SystmeInfoSM2Config":{"type":"object","properties":{"publicKey":{"type":"string","description":"SM2 公钥","example":"xxxxxxxxxxxxxxxxxxxxxx"}},"required":["publicKey"]},"SystmeInfoVersion":{"type":"object","properties":{"server":{"type":"string","description":"Authing 核心服务版本号","example":"2.0.0"},"console":{"type":"string","description":"Authing 控制台版本号","example":"2.0.0"},"login":{"type":"string","description":"Authing 托管登录页版本号","example":"2.0.0"}},"required":["server","console","login"]},"SystemInfoResp":{"type":"object","properties":{"rsa":{"description":"RSA256 加密配置信息","allOf":[{"$ref":"#/components/schemas/SystmeInfoRSAConfig"}]},"sm2":{"description":"国密 SM2 加密配置信息","allOf":[{"$ref":"#/components/schemas/SystmeInfoSM2Config"}]},"version":{"description":"国密 SM2 加密配置信息","allOf":[{"$ref":"#/components/schemas/SystmeInfoVersion"}]},"publicIps":{"description":"Authing 服务对外 IP 列表","type":"array","items":{"type":"string"}}},"required":["rsa","sm2","version","publicIps"]},"CountryDetailInfo":{"type":"object","properties":{"alpha2":{"type":"string","description":"[ISO 3166 国际标准](https://www.iban.com/country-codes)中国家的 Alpha-2 简称","example":"CN"},"alpha3":{"type":"string","description":"[ISO 3166 国际标准](https://www.iban.com/country-codes)中国家的 Alpha-3 简称","example":"CHN"},"phoneCountryCode":{"type":"string","description":"国家手机区号","example":"+86"},"flag":{"type":"string","description":"国旗图标","example":"🇨🇳"},"name":{"description":"名称，多语言结构，目前只支持中文和英文","example":{"zh-CN":{"enabled":false,"value":"中国"},"en-US":{"enabled":false,"value":"China"}},"allOf":[{"$ref":"#/components/schemas/LangObject"}]}},"required":["alpha2","alpha3","phoneCountryCode","flag","name"]},"GetCountryListRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","type":"array","items":{"$ref":"#/components/schemas/CountryDetailInfo"}}},"required":["statusCode","message","data"]},"UploadDto":{"type":"object","properties":{"folder":{"type":"string","description":"上传的目录","example":"photos"},"isPrivate":{"type":"boolean","description":"是否为私有资源","example":false}}},"UploadDataDto":{"type":"object","properties":{"key":{"type":"string","description":"key"},"url":{"type":"string","description":"url"}},"required":["key","url"]},"UploadRespDto":{"type":"object","properties":{"statusCode":{"type":"number","description":"业务状态码，可以通过此状态码判断操作是否成功，200 表示成功。","example":200},"message":{"type":"string","description":"描述信息","example":"操作成功"},"apiCode":{"type":"number","description":"细分错误码，可通过此错误码得到具体的错误类型。"},"requestId":{"type":"string","description":"请求 ID。当请求失败时会返回。","example":"934108e5-9fbf-4d24-8da1-c330328abd6c"},"data":{"description":"响应数据","allOf":[{"$ref":"#/components/schemas/UploadDataDto"}]}},"required":["statusCode","message","data"]}}},"paths":{"/oidc/auth":{"get":{"operationId":"OidcV2SignOnController_frontChannelAuth","x-authing-hidden-from-sdk":true,"summary":"登录","description":"\n此端点会通过浏览器 `302` 跳转的方式跳转到 Authing 托管的在线登录页面\n（例如 https://your_domain.authing.cn）, 用户可以选择他希望的认证方式进行认证。你也可以指定 **ext_idp_conn_id** \n参数，指定需要使用的外部身份源连接（社会化登录 + 企业身份源登录）。\n  ","parameters":[{"name":"client_id","required":true,"in":"query","description":"Authing 应用 ID","example":"5c9b079883xxxxd55a101082","schema":{"type":"string"}},{"name":"response_type","required":true,"in":"query","description":"如果回调地址是后端服务地址，选择授权码模式，此项选 `code`；如果回调地址是前端 SPA 应用地址，选择隐式模式，此项填可选值为 `id_token`, `id_token token`。你可以在此了解[OIDC 相关规范](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationExamples)。\n- `code`: 授权码模式，回调时只返回 `code`，再根据 `code` 换取 `id_token` 和 `access_token`。\n- `id_token`: 回调时直接返回 `id_token`，适用于浏览器单页应用无后端服务交互的场景。\n- `id_token token`: 回调时直接返回 `id_token` 和 `access_token`，适用于浏览器单页应用无后端服务交互的场景。\n- `code id_token`: 回调时直接返回 `id_token` 和 `code`。\n- `code token`: 回调时直接返回 `access_token` 和 `code`。\n- `code id_token access_token`: 回调时直接返回 `id_token`、`access_token` 和 `code`。\n","example":"code","schema":{"enum":["none","code","token","id_token token","id_token","code token","code id_token token","code id_token"],"type":"string"}},{"name":"redirect_uri","required":true,"in":"query","description":"回调链接，用户在 OP 认证成功后，OP 会将授权码以 URL query 的形式发送到这个地址。这个值必须出现在控制台配置的回调地址中，否则 OP 不允许向该地址回调。","example":"https://you_domain.com/callback","schema":{"type":"string"}},{"name":"scope","required":true,"in":"query","description":"需要请求的权限，必须包含 openid。如果需要获取手机号和 email 需要包含 phone email；如果需要 refresh_token 需要包含 offline_access。多个 scope 请用空格分隔。id_token 解码后的内容中会包含这些 scope 对应的用户信息相关的字段。\n- `openid`: 必须包含。\n- `profile`: 返回 birthdate，family_name，gender，given_name，locale，middle_name，name，nickname，picture，preferred_username，profile，updated_at，website，zoneinfo 字段。\n- `username`: 返回 username。\n- `email`: 返回 email，email_verified。\n- `phone`: 返回 phone_number, phone_number_verified。\n- `offline_access`: 如果存在此参数，token 接口会返回 refresh_token 字段。\n- `roles`: 返回用户的角色列表。\n- `external_id`: 用户在原有系统的用户 ID。\n- `extended_fields`: 返回用户的扩展字段信息，内容为一个对象，key 为扩展字段名，value 为扩展字段值。\n- `tenant_id`: 返回用户的租户 ID。\n      ","example":"openid profile","schema":{"type":"string"}},{"name":"state","required":true,"in":"query","description":"一个随机字符串，用于防范 CSRF 攻击，如果 response 中的 state 值和发送请求之前设置的 state 值不同，说明受到攻击。","example":"6223573295","schema":{"type":"string"}},{"name":"nonce","required":false,"in":"query","description":"一个随机字符串，用于防范 Replay 攻击，implicit 模式下必填。","example":"1831289","schema":{"type":"string"}},{"name":"prompt","required":false,"in":"query","description":"可以为 none，login，consent 或 select_account，指定 Authing 认证服务器与终端用户的交互方式。点此[参考OIDC 规范](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest)","example":"none","schema":{"type":"string"}},{"name":"response_mode","required":false,"in":"query","description":"响应模式：\n- `query`: `302` 重定向到回调地址，通过查询参数携带相关信息。\n- `fragment`: `302` 重定向到回调地址，通过 URL 哈希参数携带相关信息。\n- `web_message`: 向父窗口发送 post message，适合通过 popup 方式实现外部身份源登录。\n- `form_post`: 用自动提交表单将客户端重定向到回调地址，表单中携带相关信息。\n    ","schema":{"enum":["web_message","form_post","query","fragment"],"type":"string"}},{"name":"tenant_id","required":false,"in":"query","description":"租户 ID，如果设置之后，将会跳转到对应租户的登录页面。","schema":{"type":"string"}},{"name":"login_page_context","required":false,"in":"query","description":"额外的 `context` 参数，如果设置，在进行 `302` 跳转的时候，将会携带上此参数。","schema":{"type":"string"}},{"name":"ext_idp_conn_id","required":false,"in":"query","description":"外部身份源连接 ID。指定使用特定的外部身份源进行登录。","example":"62d00ccaf0xxxx0ad33f4a41","schema":{"type":"string"}}],"responses":{"302":{"description":""}},"tags":["登录/使用托管登录页登录"]}},"/api/v3/signin-by-extidp":{"get":{"operationId":"OidcV2SignOnController_signInByExtIdp","x-authing-hidden-from-sdk":true,"summary":"外部身份源（社会化）登录","description":"\n此端点会通过浏览器 `302` 跳转的方式先跳转到第三方的登录页面，终端用户在第三方系统认证完成之后，浏览器再会跳转到 Authing 服务器，Authing 服务器会将此外部身份源绑定到该用户身上。最终的结果会通过浏览器 Window Post Message 的方式传递给开发者。\n你可以在你的应用系统中放置一个按钮，引导用户点击之后，弹出一个 Window Popup，地址为此端点，当用户在第三方身份源认证完成之后，此 Popup 会通过 Window Post Message 的方式传递给父窗口。\n    ","parameters":[{"name":"client_id","required":true,"in":"query","description":"Authing 应用 ID","example":"5c9b079883xxxxd55a101082","schema":{"type":"string"}},{"name":"ext_idp_conn_id","required":true,"in":"query","description":"外部身份源连接 ID。指定使用特定的外部身份源进行登录。","example":"62d00ccaf0xxxx0ad33f4a41","schema":{"type":"string"}},{"name":"response_type","required":true,"in":"query","description":"如果回调地址是后端服务地址，选择授权码模式，此项选 `code`；如果回调地址是前端 SPA 应用地址，选择隐式模式，此项填可选值为 `id_token`, `id_token token`。你可以在此了解[OIDC 相关规范](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationExamples)。\n- `code`: 授权码模式，回调时只返回 `code`，再根据 `code` 换取 `id_token` 和 `access_token`。\n- `id_token`: 回调时直接返回 `id_token`，适用于浏览器单页应用无后端服务交互的场景。\n- `id_token token`: 回调时直接返回 `id_token` 和 `access_token`，适用于浏览器单页应用无后端服务交互的场景。\n- `code id_token`: 回调时直接返回 `id_token` 和 `code`。\n- `code token`: 回调时直接返回 `access_token` 和 `code`。\n- `code id_token access_token`: 回调时直接返回 `id_token`、`access_token` 和 `code`。\n","example":"code","schema":{"enum":["none","code","token","id_token token","id_token","code token","code id_token token","code id_token"],"type":"string"}},{"name":"redirect_uri","required":true,"in":"query","description":"回调链接，用户在 OP 认证成功后，OP 会将授权码以 URL query 的形式发送到这个地址。这个值必须出现在控制台配置的回调地址中，否则 OP 不允许向该地址回调。","example":"https://you_domain.com/callback","schema":{"type":"string"}},{"name":"scope","required":true,"in":"query","description":"需要请求的权限，必须包含 openid。如果需要获取手机号和 email 需要包含 phone email；如果需要 refresh_token 需要包含 offline_access。多个 scope 请用空格分隔。id_token 解码后的内容中会包含这些 scope 对应的用户信息相关的字段。\n- `openid`: 必须包含。\n- `profile`: 返回 birthdate，family_name，gender，given_name，locale，middle_name，name，nickname，picture，preferred_username，profile，updated_at，website，zoneinfo 字段。\n- `username`: 返回 username。\n- `email`: 返回 email，email_verified。\n- `phone`: 返回 phone_number, phone_number_verified。\n- `offline_access`: 如果存在此参数，token 接口会返回 refresh_token 字段。\n- `roles`: 返回用户的角色列表。\n- `external_id`: 用户在原有系统的用户 ID。\n- `extended_fields`: 返回用户的扩展字段信息，内容为一个对象，key 为扩展字段名，value 为扩展字段值。\n- `tenant_id`: 返回用户的租户 ID。\n      ","example":"openid profile","schema":{"type":"string"}},{"name":"state","required":true,"in":"query","description":"一个随机字符串，用于防范 CSRF 攻击，如果 response 中的 state 值和发送请求之前设置的 state 值不同，说明受到攻击。","example":"6223573295","schema":{"type":"string"}},{"name":"nonce","required":false,"in":"query","description":"一个随机字符串，用于防范 Replay 攻击，implicit 模式下必填。","example":"1831289","schema":{"type":"string"}},{"name":"prompt","required":false,"in":"query","description":"可以为 none，login，consent 或 select_account，指定 Authing 认证服务器与终端用户的交互方式。点此[参考OIDC 规范](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest)","example":"none","schema":{"type":"string"}},{"name":"response_mode","required":false,"in":"query","description":"响应模式：\n- `query`: `302` 重定向到回调地址，通过查询参数携带相关信息。\n- `fragment`: `302` 重定向到回调地址，通过 URL 哈希参数携带相关信息。\n- `web_message`: 向父窗口发送 post message，适合通过 popup 方式实现外部身份源登录。\n- `form_post`: 用自动提交表单将客户端重定向到回调地址，表单中携带相关信息。\n    ","schema":{"enum":["web_message","form_post","query","fragment"],"type":"string"}},{"name":"tenant_id","required":false,"in":"query","description":"租户 ID，如果设置之后，将会跳转到对应租户的登录页面。","schema":{"type":"string"}},{"name":"login_page_context","required":false,"in":"query","description":"额外的 `context` 参数，如果设置，在进行 `302` 跳转的时候，将会携带上此参数。","schema":{"type":"string"}}],"responses":{"302":{"description":""}},"tags":["登录/外部身份源（社会化）登录"]}},"/interaction/oidc/{interactionKey}/login":{"post":{"operationId":"OidcV2SignOnController_finishLogin","x-authing-hidden-from-sdk":true,"summary":"OIDC interaction","description":"OIDC interaction","parameters":[{"name":"interactionKey","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishLoginParams"}}}},"responses":{"201":{"description":""}}}},"/oidc/session/end":{"get":{"operationId":"OidcV2LogoutController_frontChannelLogout","x-authing-hidden-from-sdk":true,"summary":"前端登出","description":"此端点用于用户在浏览器端主动登出，且此接口只应该在浏览器端访问。当用户在浏览器端访问这个地址之后，Authing 服务器会清除用户的登录态，\n  如果设置了登出后的回调地址（`post_logout_redirect_uri`），用户登出之后浏览器 `302` 跳转到该地址，否则将会渲染一个提示用于已经登出的页面。\n      ","parameters":[{"name":"id_token_hint","required":false,"in":"query","description":"用户的 `id_token`，当设置了 `post_logout_redirect_uri` 时此参数必填。`id_token` 作为用户访问此端点的请求凭证，防止出现第三方放置恶意登出地址的情况诱导用户点击的情况。","example":"xxxxxxxxx","schema":{"type":"string"}},{"name":"post_logout_redirect_uri","required":false,"in":"query","description":"登出后的回调地址，此地址必须要在应用配置中的**登出回调 URL**中进行配置。设置此参数时必须同时传递 `id_token_hint`。","example":"https://example.com/homepage","schema":{"type":"string"}},{"name":"state","required":false,"in":"query","description":"自定义中间状态，为任意随机字符串，用户登出之后回调到你配置的回调地址时，会同时携带此 state。","example":"","schema":{"type":"string"}}],"responses":{"302":{"description":""}},"tags":["登出/前端登出"]}},"/oidc/token":{"post":{"operationId":"OidcV2TokenController_exchangeToken","x-authing-hidden-from-sdk":true,"summary":"获取 Token","description":"\n\n此端点用于获取用户的 `id_token` 和 `access_token`。**请注意此端点要求的请求 Content-Type 为 application/x-www-form-urlencoded。**\n\n取决于你使用的 OIDC 授权模式，你可能需要使用不同的方式获取 `id_token` 和 `access_token`，如果是**隐式模式**这类直接返回  `id_token` 和 `access_token` 的端点，\n不需要再次调用此接口。不同授权模式的流程介绍请见上文。\n\n### 换取 token 身份验证方式\n\n针对不同场景，换取 token 时需要提供不同的身份验证方式，防止非法伪造请求：\n\n- `client_secret_post`: 在请求体 Body 中传递应用密钥 `client_secret`。\n- `client_secret_basic`: 在 `authorization` 请求头中传递 `Basic encodedString`，其中 `encodedString` 是\n`client_id:client_secret` 的 Base64 编码值。\n- `none`: 不需要提供认证方式，一般适用于直接在前端单页应用这类无法安全存储应用密钥 `client_secret` 的场景。\n\n### 不同授权模式获取 Token 的示例\n\n下面是不同模式下获取  `id_token` 和 `access_token` 的示例（以 `client_secret_post` 方式为例）。\n\n#### 授权码模式\n\n```\ncurl --request POST 'https://<你的应用域名>.authing.cn/oidc/token' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data client_id=xxxx \\\n  --data client_secret=xxxx \\\n  --data grant_type=authorization_code \\\n  --data redirect_uri=https://baidu.com' \\\n  --data code=NBS4GK4rZli1jtWcVy7yqd8AT3PxyENhu8XbT3oBMko\n```\n\n#### 授权码 + PKCE 模式\n\n```\ncurl --request POST \\\n  --url https://<你的应用域名>.authing.cn/oidc/token \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data client_id=xxxx \\\n  --data client_secret=xxxx \\\n  --data grant_type=authorization_code \\\n  --data redirect_uri=https://baidu.com \\\n  --data code=NBS4GK4rZli1jtWcVy7yqd8AT3PxyENhu8XbT3oBMko \\\n  --data code_verifier=dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk\n```\n\n#### Client Credentials 模式\n\n```\ncurl --request POST \\\n  --url https://<你的应用域名>.authing.cn/oidc/token \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data client_id=xxxx \\\n  --data client_secret=xxxx \\\n  --data grant_type=client_credentials \\\n  --data scope=announce:read announce:update revenue:read customer user-growth:read\n```\n\n  ","parameters":[],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenEndPointParams"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginTokenResponseDataDto"}}}}},"tags":["管理 Token/API 列表"]}},"/oidc/token/introspection":{"post":{"operationId":"OidcV2TokenController_introspectToken","x-authing-hidden-from-sdk":true,"summary":"验证 Token","description":"\n\n验证 Token 分为两种模式：本地使用应用密钥验证与使用 Authing 在线验证。我们建议在本地验证 JWT Token，因为可以节省你的服务器带宽并加快验证速度。你也可以选择将 Token 发送到 Authing 的验证接口由 Authing 进行验证并返回结果，但这样会造成网络延迟，而且在网络拥塞时可能会有慢速请求。\n\n此端点用于在线检查 `access_token` 或者 `refresh_token` 的状态。`id_token` 不提供在线检验接口，请使用本地认证方法。**请注意此端点要求的请求 Content-Type 为 application/x-www-form-urlencoded。**\n\n下面提供两种在本地验证 `id_token` 或者 `access_token` 的方法。\n\n#### 使用应用密钥验证 HS256 算法签名的 Token\n\n默认情况下，Authing `id_token` 和 `access_token` 的加密方式为 HS256。下面以 `Node.js` 为例，其他语言同理：\n\n```javascript\nconst jwt = require('jsonwebtoken');\ntry {\n  let decoded = jwt.verify('IdToken 或者 AccessToken', 'your_secret'),\n    expired = Date.parse(new Date()) / 1000 > decoded.exp;\n  if (expired) {\n    // 过期\n  } else {\n    // 合法也没过期，正常放行\n  }\n} catch (error) {\n  // 不合法\n}\n```\n\n#### 使用应用公钥验证 RS256 算法签名的 IdToken\n\n如果使用 RS256 签名算法，需要使用公钥验证签名。Authing 将使用应用的私钥进行签名，请使用 https://<应用域名>.authing.cn/oidc/.well-known/jwks.json 中的公钥来验证签名。Authing 颁发的 `access_token` 和 `id_token` 都可以使用上述公钥进行验签。\n\n如果你使用 javascript，可以使用 jose 库来验证 RS256 签名：\n\n> 请使用 v2.x.x 或以下版本的 jose 库，新版 jose 库和本代码示例不兼容。\n\n```javascript\nconst jose = require('jose');\n// 下面的参数内容为 https://<应用域名>.authing.cn/oidc/.well-known/jwks.json 返回的结果\nconst keystore = jose.JWKS.asKeyStore({\n  keys: [\n    {\n      e: 'AQAB',\n      n:\n        'o8iCY52uBPOCnBSRCr3YtlZ0UTuQQ4NCeVMzV7JBtH-7Vuv0hwGJTb_hG-BeYOPz8i6YG_o367smV2r2mnXbC1cz_tBfHD4hA5vnJ1eCpKRWX-l6fYuS0UMti-Bmg0Su2IZxXF9T1Cu-AOlpgXFC1LlPABL4E0haHO8OwQ6QyEfiUIs0byAdf5zeEHFHseVHLjsM2pzWOvh5e_xt9NOJY4vB6iLtD5EIak04i1ND_O0Lz0OYbuV0KjluxaxoiexJ8kGo9W1SNza_2TqUAR6hsPkeOwwh-oHnNwZg8OEnwXFmNg-bW4KiBrQEG4yUVdFGENW6vAQaRa2bJX7obn4xCw',\n      kty: 'RSA',\n      alg: 'RS256',\n      use: 'sig',\n      kid: 'TfLOt3Lbn8_a8pRMuessamqj-o3DBCs1-owHLQ-VMqQ',\n    },\n  ],\n});\n// 选项中 issuer 的内容是 https://<应用域名>.authing.cn/oidc，audience 的内容是 应用 ID\n// id_token 很长，请向右滑动 ->\nconst res = jose.JWT.IdToken.verify(\n  'YOUR_ID_TOKEN',\n  keystore,\n  {\n    issuer: 'https://example.authing.cn/oidc',\n    audience: '5f17a529f64fb009b794a2ff',\n  }\n);\nconsole.log(res);\n```\n\n\n  ","parameters":[],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenIntrospectEndpointParams"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenIntrospectResponse"}}}}},"tags":["管理 Token/API 列表"]}},"/oidc/token/revocation":{"post":{"operationId":"OidcV2TokenController_revokeToken","x-authing-hidden-from-sdk":true,"summary":"撤销 Token","description":"此端点用于撤销一个 `access_token` 或 `refresh_token`，可用于后端/移动端的登出场景。","parameters":[],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenRevocationEndpointParams"}}}},"responses":{"200":{"description":""}},"tags":["管理 Token/API 列表"]}},"/oidc/me":{"get":{"operationId":"OidcV2UserInfoController_oidcUserInfoGet","x-authing-hidden-from-sdk":true,"summary":"OIDC 获取用户信息接口","description":"OIDC 获取用户信息接口","parameters":[],"responses":{"200":{"description":""}},"tags":["OIDC 标准协议"]},"post":{"operationId":"OidcV2UserInfoController_oidcUserInfoPost","x-authing-hidden-from-sdk":true,"summary":"OIDC 获取用户信息接口（POST）","description":"OIDC 获取用户信息接口（POST）","parameters":[],"responses":{"200":{"description":""}},"tags":["OIDC 标准协议"]}},"/oidc/.well-known/openid-configuration":{"get":{"operationId":"OidcV2MetadataController_openIdConfiguration","x-authing-hidden-from-sdk":true,"summary":"OIDC 服务发现接口","description":"此端点为服务发现接口，包含了此 OIDC IDP 的相关信息。详情请见 OIDC 规范：https://openid.net/specs/openid-connect-discovery-1_0.html","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OidcDiscoveryMetadata"}}}}},"tags":["OIDC 标准协议"]}},"/oidc/.well-known/jwks.json":{"get":{"operationId":"OidcV2MetadataController_getJWKs","x-authing-hidden-from-sdk":true,"summary":"OIDC JWKs 接口","description":"OIDC JWKs 接口","parameters":[],"responses":{"200":{"description":""}},"tags":["OIDC 标准协议"]}},"/api/v2/oidc/validate_token":{"get":{"operationId":"OidcV2LegacyController_validateToken","x-authing-hidden-from-sdk":true,"summary":"旧版 token 验证接口","description":"旧版 token 验证接口","deprecated":true,"parameters":[],"responses":{"200":{"description":""}}}},"/api/v2/oidc/validate_pem_key":{"post":{"operationId":"OidcV2LegacyController_validatePEMKey","x-authing-hidden-from-sdk":true,"summary":"『ID Token 加密』的密钥格式校验接口，只有控制台在用","description":"『ID Token 加密』的密钥格式校验接口，只有控制台在用","deprecated":true,"parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidatePEMKeyDto"}}}},"responses":{"201":{"description":""}}}},"/api/v3/send-enroll-factor-request":{"post":{"operationId":"FactorsV3Controller_sendEnrollFactorRequest","summary":"发起绑定 MFA 认证要素请求","description":"当用户未绑定某个 MFA 认证要素时，可以发起绑定 MFA 认证要素请求。不同类型的 MFA 认证要素绑定请求需要发送不同的参数，详细见 profile 参数。发起验证请求之后，Authing 服务器会根据相应的认证要素类型和传递的参数，使用不同的手段要求验证。此接口会返回 enrollmentToken，你需要在请求「绑定 MFA 认证要素」接口时带上此 enrollmentToken，并提供相应的凭证。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEnrollFactorRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEnrollFactorRequestRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.SendEnrollFactorRequest(new SendEnrollFactorRequestDto()\r\n            {\r\n                FactorType = SendEnrollFactorRequestDto.factorType.SMS,\r\n                Profile = new FactorProfile()\r\n                {\r\n                    PhoneNumber = \"AUTHING_PHONE\",\r\n                }\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/enroll-factor":{"post":{"operationId":"FactorsV3Controller_enrollFactor","summary":"绑定 MFA 认证要素","description":"绑定 MFA 要素","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollFactorDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrollFactorRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.SendEnrollFactorRequest(new SendEnrollFactorRequestDto()\r\n            {\r\n                FactorType = SendEnrollFactorRequestDto.factorType.EMAIL,\r\n                Profile = new FactorProfile()\r\n                {\r\n                    Email = \"AUTHING_EMAIL\",\r\n                }\r\n            });\r\n\r\n            EnrollFactorDto param = new EnrollFactorDto\r\n            {\r\n                EnrollmentToken = res.Data.EnrollmentToken,\r\n                FactorType = EnrollFactorDto.factorType.EMAIL,\r\n                EnrollmentData = new EnrollFactorEnrollmentDataDto()\r\n                {\r\n                    PassCode = \"AUTHING_CODE\"\r\n                }\r\n            };\r\n            var result = await authenticationClient.EnrollFactor(param);\r\n\r\n        }\r\n    }\r\n}"}}},"/api/v3/reset-factor":{"post":{"operationId":"FactorsV3Controller_resetFactor","summary":"解绑 MFA 认证要素","description":"当前不支持通过此接口解绑短信、邮箱验证码类型的认证要素。如果需要，请调用「解绑邮箱」和「解绑手机号」接口。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestFactorDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetFactorRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var lists = await authenticationClient.ListEnrolledFactors();\r\n            var target = lists.Data.FirstOrDefault(i => i.FactorId.Contains(\"email\"));\r\n            var res = await authenticationClient.ResetFactor(new RestFactorDto { FactorId = target.FactorId });\r\n        }\r\n    }\r\n}"}}},"/api/v3/list-enrolled-factors":{"get":{"operationId":"FactorsV3Controller_listEnrolledFactors","summary":"获取绑定的所有 MFA 认证要素","description":"Authing 目前支持四种类型的 MFA 认证要素：手机短信、邮件验证码、OTP、人脸。如果用户绑定了手机号 / 邮箱之后，默认就具备了手机短信、邮箱验证码的 MFA 认证要素。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListEnrolledFactorsRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var lists = await authenticationClient.ListEnrolledFactors();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-factor":{"get":{"operationId":"FactorsV3Controller_getFactor","summary":"获取绑定的某个 MFA 认证要素","description":"根据 Factor ID 获取用户绑定的某个 MFA Factor 详情。","parameters":[{"name":"factorId","required":true,"in":"query","description":"MFA Factor ID","example":"6229ffaxxxxxxxxcade3e3d9","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetFactorRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var lists = await authenticationClient.ListEnrolledFactors();\r\n            var res = await authenticationClient.GetFactor(lists.Data.First().FactorId);\r\n        }\r\n    }\r\n}"}}},"/api/v3/list-factors-to-enroll":{"get":{"operationId":"FactorsV3Controller_listFactorsToEnroll","summary":"获取可绑定的 MFA 认证要素","description":"获取所有应用已经开启、用户暂未绑定的 MFA 认证要素，用户可以从返回的列表中绑定新的 MFA 认证要素。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFactorsToEnrollRespDto"}}}}},"security":[{"bearer":[]}],"tags":["MFA 要素管理/API 列表"],"x-authing-code-samples":{"csharp":"using System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var lists = await authenticationClient.ListFactorsToEnroll();\r\n        }\r\n    }\r\n}"}}},"/api/v3/link-extidp":{"get":{"operationId":"ExtIdpAuthenticationV3Controller_linkExtIdp","x-authing-hidden-from-sdk":true,"summary":"绑定外部身份源","description":"\n\n由于绝大多数的外部身份源登录不允许在第三方系统直接输入账号密码进行登录，所以外部身份源的绑定总是需要先跳转到对方的登录页面进行认证。此端点会通过浏览器 `302` 跳转的方式先跳转到第三方的登录页面，\n终端用户在第三方系统认证完成之后，浏览器再会跳转到 Authing 服务器，Authing 服务器会将此外部身份源绑定到该用户身上。最终的结果会通过浏览器 Window Post Message 的方式传递给开发者。\n你可以在你的应用系统中放置一个按钮，引导用户点击之后，弹出一个 Window Popup，地址为此端点，当用户在第三方身份源认证完成之后，此 Popup 会通过 Window Post Message 的方式传递给父窗口。\n\n为此我们在 `@authing/web` SDK 中封装了相关方法，为开发者省去了其中大量的细节：\n\n```typescript\nimport { Authing } from \"@authing/web\"\nconst sdk = new Authing({\n  // 应用的认证地址，例如：https://domain.authing.cn\n  domain: \"\",\n\n  // Authing 应用 ID\n  appId: \"AUTHING_APP_ID\",\n\n  // 登录回调地址，需要在控制台『应用配置 - 登录回调 URL』中指定\n  redirectUri: \"your_redirect_uri\"\n});\n\n\n// success 表示此次绑定操作是否成功；\n// errMsg 为如果绑定失败，具体的失败原因，如此身份源已被其他账号绑定等。\n// identities 为此次绑定操作具体绑定的第三方身份信息\nconst { success, errMsg, identities } = await sdk.bindExtIdpWithPopup({\n  \"extIdpConnIdentifier\": \"my-wechat\"\n})\n\n```\n\n绑定外部身份源成功之后，你可以得到用户在此第三方身份源的信息，以绑定飞书账号为例：\n\n```json\n[\n  {\n    \"identityId\": \"62f20932xxxxbcc10d966ee5\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"open_id\",\n    \"userIdInIdp\": \"ou_8bae746eac07cd2564654140d2a9ac61\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f726239xxxxe3285d21c93\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"union_id\",\n    \"userIdInIdp\": \"on_093ce5023288856aa0abe4099123b18b\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f72623e011cf10c8851e4c\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"user_id\",\n    \"userIdInIdp\": \"23ded785\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  }\n]\n```\n\n可以看到，我们获取到了用户在飞书中的身份信息：\n\n- `open_id`: ou_8bae746eac07cd2564654140d2a9ac61\n- `union_id`: on_093ce5023288856aa0abe4099123b18b\n- `user_id`: 23ded785\n\n绑定此外部身份源之后，后续用户就可以使用此身份源进行登录了，见**登录**接口。\n\n  ","parameters":[{"name":"ext_idp_conn_identifier","required":true,"in":"query","description":"外部身份源连接唯一标志","example":"my-wechat","schema":{"type":"string"}},{"name":"app_id","required":true,"in":"query","description":"Authing 应用 ID","example":"","schema":{"type":"string"}},{"name":"id_token","required":true,"in":"query","description":"用户的 id_token","example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateBindExtIdpLinkRespDto"}}}},"302":{"description":""}},"security":[{"bearer":[]}],"tags":["账号绑定/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.LinkExtIdp(\"AUTHING_EXT_IDP_CONNIDENTIFIER\", \"AUTHING_APPID\", loginTokenRespDto.Data.Id_token);\r\n        }\r\n    }\r\n}"}}},"/api/v3/generate-link-extidp-url":{"get":{"operationId":"ExtIdpAuthenticationV3Controller_generateLinkExtIdpUrl","summary":"生成绑定外部身份源的链接","description":"\n\n由于绝大多数的外部身份源登录不允许在第三方系统直接输入账号密码进行登录，所以外部身份源的绑定总是需要先跳转到对方的登录页面进行认证。此端点会通过浏览器 `302` 跳转的方式先跳转到第三方的登录页面，\n终端用户在第三方系统认证完成之后，浏览器再会跳转到 Authing 服务器，Authing 服务器会将此外部身份源绑定到该用户身上。最终的结果会通过浏览器 Window Post Message 的方式传递给开发者。\n你可以在你的应用系统中放置一个按钮，引导用户点击之后，弹出一个 Window Popup，地址为此端点，当用户在第三方身份源认证完成之后，此 Popup 会通过 Window Post Message 的方式传递给父窗口。\n\n为此我们在 `@authing/web` SDK 中封装了相关方法，为开发者省去了其中大量的细节：\n\n```typescript\nimport { Authing } from \"@authing/web\"\nconst sdk = new Authing({\n  // 应用的认证地址，例如：https://domain.authing.cn\n  domain: \"\",\n\n  // Authing 应用 ID\n  appId: \"AUTHING_APP_ID\",\n\n  // 登录回调地址，需要在控制台『应用配置 - 登录回调 URL』中指定\n  redirectUri: \"your_redirect_uri\"\n});\n\n\n// success 表示此次绑定操作是否成功；\n// errMsg 为如果绑定失败，具体的失败原因，如此身份源已被其他账号绑定等。\n// identities 为此次绑定操作具体绑定的第三方身份信息\nconst { success, errMsg, identities } = await sdk.bindExtIdpWithPopup({\n  \"extIdpConnIdentifier\": \"my-wechat\"\n})\n\n```\n\n绑定外部身份源成功之后，你可以得到用户在此第三方身份源的信息，以绑定飞书账号为例：\n\n```json\n[\n  {\n    \"identityId\": \"62f20932xxxxbcc10d966ee5\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"open_id\",\n    \"userIdInIdp\": \"ou_8bae746eac07cd2564654140d2a9ac61\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f726239xxxxe3285d21c93\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"union_id\",\n    \"userIdInIdp\": \"on_093ce5023288856aa0abe4099123b18b\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f72623e011cf10c8851e4c\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"lark\",\n    \"type\": \"user_id\",\n    \"userIdInIdp\": \"23ded785\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  }\n]\n```\n\n可以看到，我们获取到了用户在飞书中的身份信息：\n\n- `open_id`: ou_8bae746eac07cd2564654140d2a9ac61\n- `union_id`: on_093ce5023288856aa0abe4099123b18b\n- `user_id`: 23ded785\n\n绑定此外部身份源之后，后续用户就可以使用此身份源进行登录了，见**登录**接口。\n\n  ","parameters":[{"name":"ext_idp_conn_identifier","required":true,"in":"query","description":"外部身份源连接唯一标志","example":"my-wechat","schema":{"type":"string"}},{"name":"app_id","required":true,"in":"query","description":"Authing 应用 ID","example":"","schema":{"type":"string"}},{"name":"id_token","required":true,"in":"query","description":"用户的 id_token","example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateBindExtIdpLinkRespDto"}}}}},"security":[{"bearer":[]}],"tags":["账号绑定/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GenerateLinkExtIdpUrl(\"AUTHING_EXT_IDP_CONNIDENTIFIER\", \"AUTHING_APPID\", loginTokenRespDto.Data.Id_token);\r\n        }\r\n    }\r\n}"}}},"/api/v3/unlink-extidp":{"post":{"operationId":"ExtIdpAuthenticationV3Controller_unlinkExtIdp","summary":"解绑外部身份源","description":"解绑外部身份源，此接口需要传递用户绑定的外部身份源 ID，**注意不是身份源连接 ID**。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnlinkExtIdpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"bearer":[]}],"tags":["账号绑定/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.UnbindExtIdp(\r\n                new UnbindExtIdpDto()\r\n                {\r\n                    ExtIdpId = \"AUTHING_EXT_IDP_ID\"\r\n                });\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-identities":{"get":{"operationId":"ExtIdpAuthenticationV3Controller_getIdentities","summary":"获取绑定的外部身份源","description":"\n如在**介绍**部分中所描述的，一个外部身份源对应多个外部身份源连接，用户通过某个外部身份源连接绑定了某个外部身份源账号之后，\n用户会建立一条与此外部身份源之间的关联关系。此接口用于获取此用户绑定的所有外部身份源。\n\n取决于外部身份源的具体实现，一个用户在外部身份源中，可能会有多个身份 ID，比如在微信体系中会有 `openid` 和 `unionid`，在非书中有\n`open_id`、`union_id` 和 `user_id`。在 Authing 中，我们把这样的一条 `open_id` 或者 `unionid_` 叫做一条 `Identity`， 所以用户在一个身份源会有多条 `Identity` 记录。\n\n以微信为例，如果用户使用微信登录或者绑定了微信账号，他的 `Identity` 信息如下所示：\n\n```json\n[\n  {\n    \"identityId\": \"62f20932xxxxbcc10d966ee5\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"wechat\",\n    \"type\": \"openid\",\n    \"userIdInIdp\": \"oH_5k5SflrwjGvk7wqpoBKq_cc6M\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  },\n  {\n    \"identityId\": \"62f726239xxxxe3285d21c93\",\n    \"extIdpId\": \"62f209327xxxxcc10d966ee5\",\n    \"provider\": \"wechat\",\n    \"type\": \"unionid\",\n    \"userIdInIdp\": \"o9Nka5ibU-lUGQaeAHqu0nOZyJg0\",\n    \"originConnIds\": [\"62f2093244fa5cb19ff21ed3\"]\n  }\n]\n```\n\n\n可以看到他们的 `extIdpId` 是一样的，这个是你在 Authing 中创建的**身份源 ID**；`provider` 都是 `wechat`；\n通过 `type` 可以区分出哪个是 `openid`，哪个是 `unionid`，以及具体的值（`userIdInIdp`）；他们都来自于同一个身份源连接（`originConnIds`）。\n\n\n  ","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetIdentitiesRespDto"}}}}},"security":[{"bearer":[]}],"tags":["账号绑定/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\nusing Newtonsoft.Json.Linq;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetIdentities();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-application-enabled-extidps":{"get":{"operationId":"ExtIdpAuthenticationV3Controller_getApplicationEnabledExtIdps","summary":"获取应用开启的外部身份源列表","description":"获取应用开启的外部身份源列表，前端可以基于此渲染外部身份源按钮。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetExtIdpsRespDto"}}}}},"security":[{"bearer":[]}],"tags":["账号绑定/API 列表"]}},"/api/v3/signin":{"post":{"operationId":"SignInV3Controller_signInByCredentials","x-authing-signin-api":true,"summary":"使用用户凭证登录","description":"\n此端点为基于直接 API 调用形式的登录端点，适用于你需要自建登录页面的场景。**此端点暂时不支持 MFA、信息补全、首次密码重置等流程，如有需要，请使用 OIDC 标准协议认证端点。**\n\n\n注意事项：取决于你在 Authing 创建应用时选择的**应用类型**和应用配置的**换取 token 身份验证方式**，在调用此接口时需要对客户端的身份进行不同形式的验证。\n\n<details>\n<summary>点击展开详情</summary>\n\n<br>\n\n你可以在 [Authing 控制台](https://console.authing.cn) 的**应用** - **自建应用** - **应用详情** - **应用配置** - **其他设置** - **授权配置**\n中找到**换取 token 身份验证方式** 配置项：\n\n> 单页 Web 应用和客户端应用隐藏，默认为 `none`，不允许修改；后端应用和标准 Web 应用可以修改此配置项。\n\n![](https://files.authing.co/api-explorer/tokenAuthMethod.jpg)\n\n#### 换取 token 身份验证方式为 none 时\n\n调用此接口不需要进行额外操作。\n\n#### 换取 token 身份验证方式为 client_secret_post 时\n\n调用此接口时必须在 body 中传递 `client_id` 和 `client_secret` 参数，作为验证客户端身份的条件。其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。\n\n#### 换取 token 身份验证方式为 client_secret_basic 时\n\n调用此接口时必须在 HTTP 请求头中携带 `authorization` 请求头，作为验证客户端身份的条件。`authorization` 请求头的格式如下（其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。）：\n\n```\nBasic base64(<client_id>:<client_secret>)\n```\n\n结果示例：\n\n```\nBasic NjA2M2ZiMmYzY3h4eHg2ZGY1NWYzOWViOjJmZTdjODdhODFmODY3eHh4eDAzMjRkZjEyZGFlZGM3\n```\n\nJS 代码示例：\n\n```js\n'Basic ' + Buffer.from(client_id + ':' + client_secret).toString('base64');\n```\n\n</details>\n\n  ","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninByCredentialsDto"}}}},"responses":{"200":{"description":"成功认证","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginTokenRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/使用用户凭证登录"],"x-authing-code-samples":{"php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->signInByCredentials(\n    array(\n        \"connection\" => \"PASSWORD\",\n        \"passwordPayload\" => array(\n            \"username\" => \"test\",\n            \"password\" => \"passw0rd\"\n        ),\n        \"client_id\" => $AUTHING_APP_ID,\n        \"client_secret\" => $AUTHING_APP_SECRET\n    )\n);\nprint_r($data);\n"}}},"/api/v3/signin-by-mobile":{"post":{"operationId":"SignInV3Controller_signInByMobile","x-authing-signin-api":true,"summary":"使用移动端社会化登录","description":"\n此端点为移动端社会化登录接口，使用第三方移动社会化登录返回的临时凭证登录，并换取用户的 `id_token` 和 `access_token`。请先阅读相应社会化登录的接入流程。\n\n\n注意事项：取决于你在 Authing 创建应用时选择的**应用类型**和应用配置的**换取 token 身份验证方式**，在调用此接口时需要对客户端的身份进行不同形式的验证。\n\n<details>\n<summary>点击展开详情</summary>\n\n<br>\n\n你可以在 [Authing 控制台](https://console.authing.cn) 的**应用** - **自建应用** - **应用详情** - **应用配置** - **其他设置** - **授权配置**\n中找到**换取 token 身份验证方式** 配置项：\n\n> 单页 Web 应用和客户端应用隐藏，默认为 `none`，不允许修改；后端应用和标准 Web 应用可以修改此配置项。\n\n![](https://files.authing.co/api-explorer/tokenAuthMethod.jpg)\n\n#### 换取 token 身份验证方式为 none 时\n\n调用此接口不需要进行额外操作。\n\n#### 换取 token 身份验证方式为 client_secret_post 时\n\n调用此接口时必须在 body 中传递 `client_id` 和 `client_secret` 参数，作为验证客户端身份的条件。其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。\n\n#### 换取 token 身份验证方式为 client_secret_basic 时\n\n调用此接口时必须在 HTTP 请求头中携带 `authorization` 请求头，作为验证客户端身份的条件。`authorization` 请求头的格式如下（其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。）：\n\n```\nBasic base64(<client_id>:<client_secret>)\n```\n\n结果示例：\n\n```\nBasic NjA2M2ZiMmYzY3h4eHg2ZGY1NWYzOWViOjJmZTdjODdhODFmODY3eHh4eDAzMjRkZjEyZGFlZGM3\n```\n\nJS 代码示例：\n\n```js\n'Basic ' + Buffer.from(client_id + ':' + client_secret).toString('base64');\n```\n\n</details>\n\n  ","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninByMobileDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginTokenRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/移动端社会化登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            var res = await authenticationClient.SignInByMobile(new SigninByMobileDto()\r\n            {\r\n                Connection = SigninByMobileDto.connection.WECHAT,\r\n                //填入外部身份源连接标志符\r\n                ExtIdpConnidentifier = \"AUTHING_EXT_IDP_CONNIDENTIFIER\",\r\n            });\r\n        }\r\n    }\r\n}\r\n","php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->signInByMobile(\n    array(\n        // 需要替换为真实的外部身份源连接标志符\n        \"extIdpConnidentifier\" => \"xxxx\",\n        \"connection\" => \"apple\",\n        \"applePayload\" => array(\n            \"code\" => \"xxx\"\n        ),\n        \"client_id\" => $AUTHING_APP_ID,\n        \"client_secret\" => $AUTHING_APP_SECRET\n    )\n);\nprint_r($data);\n"}}},"/api/v3/get-alipay-authinfo":{"get":{"operationId":"SignInV3Controller_getAlipayAuthInfo","summary":"获取支付宝 AuthInfo","description":"此接口用于获取发起支付宝认证需要的[初始化参数 AuthInfo](https://opendocs.alipay.com/open/218/105325)。","parameters":[{"name":"extIdpConnidentifier","required":true,"in":"query","description":"外部身份源连接标志符","example":"wework","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAlipayAuthInfoRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/移动端社会化登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //填入外部身份源连接标志符\r\n            var res = await authenticationClient.GetAlipayAuthInfo(\"AUTHING_EXT_IDP_CONNIDENTIFIER\");\r\n        }\r\n    }\r\n}\r\n","php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->getAlipayAuthInfo(\n    array(\n        // 需要替换为真实的外部身份源连接标志符\n        \"extIdpConnidentifier\" => \"xxxx\",\n    )\n);\nprint_r($data);\n"}}},"/api/v3/gene-qrcode":{"post":{"operationId":"SignInV3Controller_geneQRCode","summary":"生成用于登录的二维码","description":"生成用于登录的二维码，目前支持生成微信公众号扫码登录、小程序扫码登录、自建移动 APP 扫码登录的二维码。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateQrcodeDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneQRCodeRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/扫码登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            var res = await authenticationClient.GeneQrCode(new GenerateQrcodeDto()\r\n            {\r\n                Type = GenerateQrcodeDto.type.MOBILE_APP\r\n            });\r\n        }\r\n    }\r\n}\r\n","php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->geneQrCode(\n    array(\n        // 需要替换为真实的外部身份源连接标志符\n        \"type\" => \"WECHAT_OFFICIAL_ACCOUNT\",\n    )\n);\nprint_r($data);\n"}}},"/api/v3/check-qrcode-status":{"get":{"operationId":"SignInV3Controller_checkQRCodeStatus","summary":"查询二维码状态","description":"按照用户扫码顺序，共分为未扫码、已扫码等待用户确认、用户同意/取消授权、二维码过期以及未知错误六种状态，前端应该通过不同的状态给到用户不同的反馈。你可以通过下面这篇文章了解扫码登录详细的流程：https://docs.authing.cn/v2/concepts/how-qrcode-works.html.","parameters":[{"name":"qrcodeId","required":true,"in":"query","description":"二维码唯一 ID","example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckQRCodeStatusRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/扫码登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            var res = await authenticationClient.GeneQrCode(new GenerateQrcodeDto()\r\n            {\r\n                Type = GenerateQrcodeDto.type.MOBILE_APP\r\n            });\r\n            var res2 = await authenticationClient.CheckQrCodeStatus(res.Data.QrcodeId);\r\n        }\r\n    }\r\n}\r\n","php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->checkQrCodeStatus(\n    array(\n        \"qrcodeId\" => \"xxxx\",\n    )\n);\nprint_r($data);\n"}}},"/api/v3/exchange-tokenset-with-qrcode-ticket":{"post":{"operationId":"SignInV3Controller_exchangeTokenSetWithQRCodeTicket","summary":"使用二维码 ticket 换取 TokenSet","description":"\n此端点为使用二维码的 ticket 换取用户的 `access_token` 和 `id_token`。\n\n\n注意事项：取决于你在 Authing 创建应用时选择的**应用类型**和应用配置的**换取 token 身份验证方式**，在调用此接口时需要对客户端的身份进行不同形式的验证。\n\n<details>\n<summary>点击展开详情</summary>\n\n<br>\n\n你可以在 [Authing 控制台](https://console.authing.cn) 的**应用** - **自建应用** - **应用详情** - **应用配置** - **其他设置** - **授权配置**\n中找到**换取 token 身份验证方式** 配置项：\n\n> 单页 Web 应用和客户端应用隐藏，默认为 `none`，不允许修改；后端应用和标准 Web 应用可以修改此配置项。\n\n![](https://files.authing.co/api-explorer/tokenAuthMethod.jpg)\n\n#### 换取 token 身份验证方式为 none 时\n\n调用此接口不需要进行额外操作。\n\n#### 换取 token 身份验证方式为 client_secret_post 时\n\n调用此接口时必须在 body 中传递 `client_id` 和 `client_secret` 参数，作为验证客户端身份的条件。其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。\n\n#### 换取 token 身份验证方式为 client_secret_basic 时\n\n调用此接口时必须在 HTTP 请求头中携带 `authorization` 请求头，作为验证客户端身份的条件。`authorization` 请求头的格式如下（其中 `client_id` 为应用 ID、`client_secret` 为应用密钥。）：\n\n```\nBasic base64(<client_id>:<client_secret>)\n```\n\n结果示例：\n\n```\nBasic NjA2M2ZiMmYzY3h4eHg2ZGY1NWYzOWViOjJmZTdjODdhODFmODY3eHh4eDAzMjRkZjEyZGFlZGM3\n```\n\nJS 代码示例：\n\n```js\n'Basic ' + Buffer.from(client_id + ':' + client_secret).toString('base64');\n```\n\n</details>\n\n    ","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeTokenSetWithQRcodeTicketDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginTokenRespDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/扫码登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n                Host = \"AUTHING_HOST\"// Authing 主机的域名地址，如 https://core.authing.cn\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            var res = await authenticationClient.GeneQrCode(new GenerateQrcodeDto()\r\n            {\r\n                Type = GenerateQrcodeDto.type.MOBILE_APP\r\n            });\r\n            var res2 = await authenticationClient.CheckQrCodeStatus(res.Data.QrcodeId);\r\n            var res3 = await authenticationClient.ExchangeTokenSetWithQrCodeTicket(new ExchangeTokenSetWithQRcodeTicketDto()\r\n            {\r\n                Ticket = res2.Data.Ticket\r\n            });\r\n        }\r\n    }\r\n}\r\n","php":"<?php\n\nuse Authing\\AuthenticationClient;\n\n// 需要替换成你的 Authing 应用 ID\n$AUTHING_APP_ID = \"AUTHING_APP_ID\";\n// 需要替换成你的 Authing 应用密钥\n$AUTHING_APP_SECRET = \"AUTHING_APP_SECRET\";\n// 需要替换成你的 Authing 应用域名\n$AUTHING_APP_HOST = \"AUTHING_APP_HOST\";\n\n// 初始化 AuthenticationClient\n$authenticationClient = new Authing\\AuthenticationClient(\n    array(\n        \"appId\" => $AUTHING_APP_ID,\n        \"appSecret\" => $AUTHING_APP_SECRET,\n        \"appHost\" => $AUTHING_APP_HOST,\n    )\n);\n\n$data = $authenticationClient->exchangeTokenSetWithQrCodeTicket(\n    array(\n        \"ticket\" => \"xxxx\",\n        \"client_id\" => $AUTHING_APP_ID,\n        \"client_secret\" => $AUTHING_APP_SECRET\n    )\n);\nprint_r($data);\n"}}},"/api/v3/captcha-code":{"get":{"operationId":"SignInV3Controller_geneCaptchaCode","x-authing-hidden-from-sdk":true,"summary":"生成图形验证码","description":"当用户池开启**登录失败次数限制**并且**登录安全策略**设置为**验证码**时，如果当前请求触发登录失败次数上限，要求用户输入图形验证码。此接口用于在前端生成图形验证码，会返回一个 `content-type` 为 `image/svg+xml` 的响应。","parameters":[{"name":"r","required":false,"in":"query","description":"随机字符串或者时间戳，防止浏览器缓存","example":"1660291866076","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/使用用户凭证登录"]}},"/api/v3/change-qrcode-status":{"post":{"operationId":"SignInV3Controller_changeQRCodeStatus","summary":"自建 APP 扫码登录：APP 端修改二维码状态","description":"此端点用于在自建 APP 扫码登录中修改二维码状态，对应着在浏览器渲染出二维码之后，终端用户扫码、确认授权、取消授权的过程。**此接口要求具备用户的登录态**。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeQRCodeStatusDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-app-id":[]},{"bearer":[]}],"tags":["登录/扫码登录"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            var res = await authenticationClient.GeneQrCode(new GenerateQrcodeDto()\r\n            {\r\n                Type = GenerateQrcodeDto.type.MOBILE_APP\r\n            });\r\n            var res2 = await authenticationClient.ChangeQrCodeStatus(new ChangeQRCodeStatusDto()\r\n            {\r\n                QrcodeId = res.Data.QrcodeId,\r\n                Action = ChangeQRCodeStatusDto.action.SCAN\r\n            });\r\n        }\r\n    }\r\n}\r\n"}}},"/api/v3/signup":{"post":{"operationId":"SignUpV3Controller_signUp","summary":"注册","description":"\n此端点目前支持以下几种基于的注册方式：\n\n1. 基于密码（PASSWORD）：用户名 + 密码，邮箱 + 密码。\n2. 基于一次性临时验证码（PASSCODE）：手机号 + 验证码，邮箱 + 验证码。你需要先调用发送短信或者发送邮件接口获取验证码。\n\n社会化登录等使用外部身份源“注册”请直接使用**登录**接口，我们会在其第一次登录的时候为其创建一个新账号。\n","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSingleRespDto"}}}}},"security":[{"bearer":[]}],"tags":["注册/API 列表"]}},"/api/v3/send-sms":{"post":{"operationId":"MessageV3Controller_sendSms","summary":"发送短信","description":"发送短信时必须指定短信 Channel，每个手机号同一 Channel 在一分钟内只能发送一次。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSMSDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSMSRespDto"}}}}},"security":[{"bearer":[]}],"tags":["消息服务/发送短信"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var res = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                PhoneNumber = \"AUTHING_PHONE\",\r\n                Channel = SendSMSDto.channel.CHANNEL_REGISTER\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/send-email":{"post":{"operationId":"MessageV3Controller_sendEmail","summary":"发送邮件","description":"发送邮件时必须指定邮件 Channel，每个邮箱同一 Channel 在一分钟内只能发送一次。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailRespDto"}}}}},"security":[{"bearer":[]}],"tags":["消息服务/发送邮件"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var res = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Email = \"AUTHING_EMAIL\",\r\n                Channel = SendEmailDto.channel.CHANNEL_REGISTER\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/pre-check-code":{"post":{"operationId":"MessageV3Controller_preCheckCode","summary":"预检验验证码是否正确","description":"预检测验证码是否有效，此检验不会使得验证码失效。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreCheckCodeDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreCheckCodeRespDto"}}}}},"security":[{"bearer":[]}]}},"/api/v3/decrypt-wechat-miniprogram-data":{"post":{"operationId":"WechatAPIV3Controller_decryptWechatMiniProgramData","summary":"解密微信小程序数据","description":"","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecryptWechatMiniProgramDataDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecryptWechatMiniProgramDataRespDto"}}}}},"security":[{"bearer":[]}],"tags":["微信相关接口/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var param = new DecryptWechatMiniProgramDataDto();\r\n            var res = await authenticationClient.DecryptWechatMiniProgramData(param);\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-wechat-miniprogram-phone":{"post":{"operationId":"WechatAPIV3Controller_getWechatMiniprogramPhone","summary":"获取小程序的手机号","description":"","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWechatMiniProgramPhoneDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWechatMiniProgramPhoneRespDto"}}}}},"security":[{"bearer":[]}],"tags":["微信相关接口/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var param = new GetWechatMiniProgramPhoneDto();\r\n            var res = await authenticationClient.GetWechatMiniprogramPhone(param);\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-wechat-access-token":{"post":{"operationId":"WechatAPIV3Controller_getWechatMpAccessToken","summary":"获取 Authing 服务器缓存的微信小程序、公众号 Access Token","description":"","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWechatAccessTokenDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWechatAccessTokenRespDto"}}}}},"security":[{"bearer":[]}],"tags":["微信相关接口/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var param = new GetWechatAccessTokenDto();\r\n            var res = await authenticationClient.GetWechatMpAccessToken(param);\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-login-history":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getLoginHistory","summary":"获取登录日志","description":"获取登录日志","parameters":[{"name":"appId","required":false,"in":"query","description":"应用 ID，可根据应用 ID 筛选。默认不传获取所有应用的登录历史。","example":"5f6265c67fxxxxae64ec516e","schema":{"type":"string"}},{"name":"clientIp","required":false,"in":"query","description":"客户端 IP，可根据登录时的客户端 IP 进行筛选。默认不传获取所有登录 IP 的登录历史。","example":"127.0.0.1","schema":{"type":"string"}},{"name":"success","required":false,"in":"query","description":"是否登录成功，可根据是否登录成功进行筛选。默认不传获取的记录中既包含成功也包含失败的的登录历史。","example":true,"schema":{"type":"boolean"}},{"name":"start","required":false,"in":"query","description":"开始时间，为单位为毫秒的时间戳","example":1660828100000,"schema":{"type":"number"}},{"name":"end","required":false,"in":"query","description":"结束时间，为单位为毫秒的时间戳","example":1660828100000,"schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"当前页数，从 1 开始","example":1,"schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"每页数目，最大不能超过 50，默认为 10","example":10,"schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetLoginHistoryRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetLoginHistory();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-logged-in-apps":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getLoggedInApps","summary":"获取登录应用","description":"获取登录应用","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetLoggedInAppsRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetLoggedInApps();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-accessible-apps":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getAccessibleApps","summary":"获取具备访问权限的应用","description":"获取具备访问权限的应用","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAccessibleAppsRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetAccessibleApps();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-tenant-list":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getTenantList","summary":"获取租户列表","description":"获取租户列表","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTenantListRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetTenantList();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-role-list":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getRoleList","summary":"获取角色列表","description":"获取角色列表","parameters":[{"name":"namespace","required":false,"in":"query","description":"所属权限分组的 code","example":"default","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleListRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetRoleList();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-group-list":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getGroupList","summary":"获取分组列表","description":"获取分组列表","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupListRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetGroupList();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-department-list":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getDepartmentList","summary":"获取部门列表","description":"此接口用于获取用户的部门列表，可根据一定排序规则进行排序。","parameters":[{"name":"page","required":false,"in":"query","description":"当前页数，从 1 开始","example":1,"schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"每页数目，最大不能超过 50，默认为 10","example":10,"schema":{"default":10,"type":"number"}},{"name":"withCustomData","required":false,"in":"query","description":"是否获取部门的自定义数据","example":true,"schema":{"default":false,"type":"boolean"}},{"name":"sortBy","required":false,"in":"query","description":"排序依据，如 部门创建时间、加入部门时间、部门名称、部门标志符","example":"JoinDepartmentAt","schema":{"default":"JoinDepartmentAt","enum":["DepartmentCreatedAt","JoinDepartmentAt","DepartmentName","DepartmemtCode"],"type":"string"}},{"name":"orderBy","required":false,"in":"query","description":"增序或降序","example":"Desc","schema":{"default":"Desc","enum":["Asc","Desc"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDepartmentPaginatedRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetDepartmentList();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-my-authorized-resources":{"get":{"operationId":"UserRelatedResourceAPIV3Controller_getAuthorizedResources","summary":"获取被授权的资源列表","description":"此接口用于获取用户被授权的资源列表。","parameters":[{"name":"namespace","required":false,"in":"query","description":"所属权限分组的 code","example":"default","schema":{"type":"string"}},{"name":"resourceType","required":false,"in":"query","description":"资源类型，如 数据、API、菜单、按钮","schema":{"enum":["DATA","API","MENU","BUTTON","UI"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizedResourcePaginatedRespDto"}}}}},"security":[{"bearer":[]}],"tags":["用户相关资源/API 列表"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.GetAuthorizedResources(\"AUTHING_RESOURCE_TYPE\", \"AUTHING_RESOURCE_NAMESPACE\");\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-profile":{"get":{"operationId":"ProfileV3Controller_getProfile","summary":"获取用户资料","description":"此端点用户获取用户资料，需要在请求头中带上用户的 `access_token`，Authing 服务器会根据用户 `access_token` 中的 `scope` 返回对应的字段。","parameters":[{"name":"withCustomData","required":false,"in":"query","description":"是否获取自定义数据","example":true,"schema":{"default":false,"type":"boolean"}},{"name":"withIdentities","required":false,"in":"query","description":"是否获取 identities","example":true,"schema":{"default":false,"type":"boolean"}},{"name":"withDepartmentIds","required":false,"in":"query","description":"是否获取部门 ID 列表","example":true,"schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSingleRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/管理用户资料"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            var res = await authenticationClient.GetProfile();\r\n        }\r\n    }\r\n}"}}},"/api/v3/update-profile":{"post":{"operationId":"ProfileV3Controller_updateProfile","summary":"修改用户资料","description":"此接口用于修改用户的用户资料，包含用户的自定义数据。如果需要**修改邮箱**、**修改手机号**、**修改密码**，请使用对应的单独接口。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserProfileDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSingleRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/管理用户资料"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            var res = await authenticationClient.UpdateProfile(new UpdateUserProfileDto()\r\n            {\r\n                Gender = UpdateUserProfileDto.gender.M\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/bind-email":{"post":{"operationId":"ProfileV3Controller_bindEmail","summary":"绑定邮箱","description":"如果用户还**没有绑定邮箱**，此接口可用于用户**自主**绑定邮箱。如果用户已经绑定邮箱想要修改邮箱，请使用**修改邮箱**接口。你需要先调用**发送邮件**接口发送邮箱验证码。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BindEmailDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/绑定邮箱"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res1 = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Email = \"AUTHING_EMAIL\",\r\n                Channel = SendEmailDto.channel.CHANNEL_BIND_EMAIL\r\n            });\r\n            var res2 = await authenticationClient.BindEmail(new BindEmailDto()\r\n            {\r\n                Email = \"AUTHING_EMAIL\",\r\n                PassCode = \"AUTHING_CODE\",\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/unbind-email":{"post":{"operationId":"ProfileV3Controller_unbindEmail","summary":"解绑邮箱","description":"用户解绑邮箱，如果用户没有绑定其他登录方式（手机号、社会化登录账号），将无法解绑邮箱，会提示错误。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnbindEmailDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/绑定邮箱"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.UnbindEmail(new UnbindEmailDto());\r\n        }\r\n    }\r\n}"}}},"/api/v3/bind-phone":{"post":{"operationId":"ProfileV3Controller_bindPhone","summary":"绑定手机号","description":"如果用户还**没有绑定手机号**，此接口可用于用户**自主**绑定手机号。如果用户已经绑定手机号想要修改手机号，请使用**修改手机号**接口。你需要先调用**发送短信**接口发送短信验证码。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BindPhoneDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/绑定手机号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res1 = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                PhoneNumber = \"AUTHING_PHONE\",\r\n                Channel = SendSMSDto.channel.CHANNEL_BIND_PHONE\r\n            });\r\n            var res2 = await authenticationClient.BindPhone(new BindPhoneDto()\r\n            {\r\n                PhoneNumber = \"AUTHING_PHONE\",\r\n                PassCode = \"AUTHING_CODE\",\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/unbind-phone":{"post":{"operationId":"ProfileV3Controller_unbindPhone","summary":"解绑手机号","description":"用户解绑手机号，如果用户没有绑定其他登录方式（邮箱、社会化登录账号），将无法解绑手机号，会提示错误。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnbindPhoneDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/绑定手机号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.UnbindPhone(new UnbindPhoneDto{});\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-security-info":{"get":{"operationId":"ProfileV3Controller_getSecurityLevel","summary":"获取密码强度和账号安全等级评分","description":"获取用户的密码强度和账号安全等级评分，需要在请求头中带上用户的 `access_token`。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetSecurityInfoRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/管理用户资料"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            var res = await authenticationClient.GetSecurityLevel();\r\n        }\r\n    }\r\n}"}}},"/api/v3/update-password":{"post":{"operationId":"ProfileV3Controller_updatePassword","summary":"修改密码","description":"此端点用于用户自主修改密码，如果用户之前已经设置密码，需要提供用户的原始密码作为凭证。如果用户忘记了当前密码，请使用**忘记密码**接口。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/修改密码"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.UpdatePassword(new UpdatePasswordDto()\r\n            {\r\n                NewPassword = \"AUTHING_NEW_PASSWORD\",\r\n                OldPassword = \"AUTHING_OLD_PASSWORD\",\r\n                PasswordEncryptType = UpdatePasswordDto.passwordEncryptType.NONE\r\n            });\r\n\r\n        }\r\n    }\r\n}"}}},"/api/v3/verify-update-email-request":{"post":{"operationId":"ProfileV3Controller_verifyUpdateEmailRequest","summary":"发起修改邮箱的验证请求","description":"终端用户自主修改邮箱时，需要提供相应的验证手段。此接口用于验证用户的修改邮箱请求是否合法。当前支持通过**邮箱验证码**的方式进行验证，你需要先调用发送邮件接口发送对应的邮件验证码。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyUpdateEmailRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyUpdateEmailRequestRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/修改邮箱"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res0 = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_UPDATE_EMAIL,\r\n                Email = \"AUTHING_OLD_EMAIL\"\r\n            });\r\n            var res1 = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_UPDATE_EMAIL,\r\n                Email = \"AUTHING_NEW_EMAIL\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyUpdateEmailRequest(new VerifyUpdateEmailRequestDto()\r\n            {\r\n                EmailPasscodePayload = new UpdateEmailByEmailPassCodeDto()\r\n                {\r\n                    NewEmail = \"AUTHING_NEW_EMAIL\",\r\n                    NewEmailPassCode = \"AUTHING_NEW_CODE\",\r\n                    OldEmail = \"AUTHING_OLD_EMAIL\",\r\n                    OldEmailPassCode = \"AUTHING_OLD_CODE\"\r\n                },\r\n                VerifyMethod = VerifyUpdateEmailRequestDto.verifyMethod.EMAIL_PASSCODE\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/update-email":{"post":{"operationId":"ProfileV3Controller_updateEmail","summary":"修改邮箱","description":"终端用户自主修改邮箱，需要提供相应的验证手段，见[发起修改邮箱的验证请求](#tag/用户资料/修改邮箱/operation/ProfileV3Controller_updateEmailVerification)。\n此参数需要提供一次性临时凭证 `updateEmailToken`，此数据需要从**发起修改邮箱的验证请求**接口获取。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEmailDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/修改邮箱"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res0 = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_UPDATE_EMAIL,\r\n                Email = \"AUTHING_OLD_EMAIL\"\r\n            });\r\n            var res1 = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_UPDATE_EMAIL,\r\n                Email = \"AUTHING_NEW_EMAIL\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyUpdateEmailRequest(new VerifyUpdateEmailRequestDto()\r\n            {\r\n                EmailPasscodePayload = new UpdateEmailByEmailPassCodeDto()\r\n                {\r\n                    NewEmail = \"AUTHING_NEW_EMAIL\",\r\n                    NewEmailPassCode = \"AUTHING_NEW_CODE\",\r\n                    OldEmail = \"AUTHING_OLD_EMAIL\",\r\n                    OldEmailPassCode = \"AUTHING_OLD_CODE\"\r\n                },\r\n                VerifyMethod = VerifyUpdateEmailRequestDto.verifyMethod.EMAIL_PASSCODE\r\n            });\r\n            var res3 = await authenticationClient.UpdateEmail(new UpdateEmailDto()\r\n            {\r\n                UpdateEmailToken = res2.Data.UpdateEmailToken\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/verify-update-phone-request":{"post":{"operationId":"ProfileV3Controller_verifyUpdatePhoneRequest","summary":"发起修改手机号的验证请求","description":"终端用户自主修改手机号时，需要提供相应的验证手段。此接口用于验证用户的修改手机号请求是否合法。当前支持通过**短信验证码**的方式进行验证，你需要先调用发送短信接口发送对应的短信验证码。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyUpdatePhoneRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyUpdatePhoneRequestRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/修改手机号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res0 = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                Channel = SendSMSDto.channel.CHANNEL_UNBIND_PHONE,\r\n                PhoneNumber = \"AUTHING_NEW_PHONE\"\r\n            });\r\n            var res1 = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                Channel = SendSMSDto.channel.CHANNEL_UNBIND_PHONE,\r\n                PhoneNumber = \"AUTHING_OLD_PHONE\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyUpdatePhoneRequest(new VerifyUpdatePhoneRequestDto()\r\n            {\r\n                PhonePassCodePayload = new UpdatePhoneByPhonePassCodeDto()\r\n                {\r\n                    NewPhoneNumber = \"AUTHING_NEW_PHONE\",\r\n                    NewPhonePassCode = \"AUTHING_NEW_CODE\",\r\n                    OldPhoneNumber = \"AUTHING_OLD_PHONE\",\r\n                    OldPhonePassCode = \"AUTHING_OLD_CODE\"\r\n                },\r\n                VerifyMethod = VerifyUpdatePhoneRequestDto.verifyMethod.PHONE_PASSCODE\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/update-phone":{"post":{"operationId":"ProfileV3Controller_updatePhone","summary":"修改手机号","description":"终端用户自主修改手机号，需要提供相应的验证手段，见[发起修改手机号的验证请求](#tag/用户资料/修改邮箱/operation/ProfileV3Controller_updatePhoneVerification)。\n此参数需要提供一次性临时凭证 `updatePhoneToken`，此数据需要从**发起修改手机号的验证请求**接口获取。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePhoneDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonResponseDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/修改手机号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res0 = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                Channel = SendSMSDto.channel.CHANNEL_UNBIND_PHONE,\r\n                PhoneNumber = \"AUTHING_NEW_PHONE\"\r\n            });\r\n            var res1 = await authenticationClient.SendSms(new SendSMSDto()\r\n            {\r\n                Channel = SendSMSDto.channel.CHANNEL_UNBIND_PHONE,\r\n                PhoneNumber = \"AUTHING_OLD_PHONE\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyUpdatePhoneRequest(new VerifyUpdatePhoneRequestDto()\r\n            {\r\n                PhonePassCodePayload = new UpdatePhoneByPhonePassCodeDto()\r\n                {\r\n                    NewPhoneNumber = \"AUTHING_NEW_PHONE\",\r\n                    NewPhonePassCode = \"AUTHING_NEW_CODE\",\r\n                    OldPhoneNumber = \"AUTHING_OLD_PHONE\",\r\n                    OldPhonePassCode = \"AUTHING_OLD_CODE\"\r\n                },\r\n                VerifyMethod = VerifyUpdatePhoneRequestDto.verifyMethod.PHONE_PASSCODE\r\n            });\r\n            var res3 = await authenticationClient.UpdatePhone(new UpdatePhoneDto()\r\n            {\r\n                UpdatePhoneToken = res2.Data.UpdatePhoneToken\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/verify-reset-password-request":{"post":{"operationId":"ProfileV3Controller_verifyResetPasswordRequest","summary":"发起忘记密码请求","description":"当用户忘记密码时，可以通过此端点找回密码。用户需要使用相关验证手段进行验证，目前支持**邮箱验证码**和**手机号验证码**两种验证手段。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyResetPasswordRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetVerifyResp"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/忘记密码"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_RESET_PASSWORD,\r\n                Email = \"AUTHING_EMAIL\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyResetPasswordRequest(new VerifyResetPasswordRequestDto\r\n            {\r\n                VerifyMethod = VerifyResetPasswordRequestDto.verifyMethod.EMAIL_PASSCODE,\r\n                EmailPassCodePayload = new ResetPasswordByEmailPassCodeDto()\r\n                {\r\n                    Email = \"AUTHING_EMAIL\",\r\n                    PassCode = \"AUTHING_CODE\"\r\n                }\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/reset-password":{"post":{"operationId":"ProfileV3Controller_resetPassword","summary":"忘记密码","description":"此端点用于用户忘记密码之后，通过**手机号验证码**或者**邮箱验证码**的方式重置密码。此接口需要提供用于重置密码的临时凭证 `passwordResetToken`，此参数需要通过**发起忘记密码请求**接口获取。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IsSuccessRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/忘记密码"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res = await authenticationClient.SendEmail(new SendEmailDto()\r\n            {\r\n                Channel = SendEmailDto.channel.CHANNEL_RESET_PASSWORD,\r\n                Email = \"AUTHING_EMAIL\"\r\n            });\r\n            var res2 = await authenticationClient.VerifyResetPasswordRequest(new VerifyResetPasswordRequestDto\r\n            {\r\n                VerifyMethod = VerifyResetPasswordRequestDto.verifyMethod.EMAIL_PASSCODE,\r\n                EmailPassCodePayload = new ResetPasswordByEmailPassCodeDto()\r\n                {\r\n                    Email = \"AUTHING_EMAIL\",\r\n                    PassCode = \"AUTHING_CODE\"\r\n                }\r\n            });\r\n            var res3 = await authenticationClient.ResetPassword(new ResetPasswordDto\r\n            {\r\n                Password = \"AUTHING_NEW_PASSWORD\",\r\n                PasswordResetToken = res2.Data.PasswordResetToken,\r\n                PasswordEncryptType = ResetPasswordDto.passwordEncryptType.NONE,\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/verify-delete-account-request":{"post":{"operationId":"ProfileV3Controller_verifyDeleteAccountRequest","summary":"发起注销账号请求","description":"当用户希望注销账号时，需提供相应凭证，当前支持**使用邮箱验证码**、使用**手机验证码**、**使用密码**三种验证方式。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyDeleteAccountRequestDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyDeleteAccountRequestRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/注销账号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res1 = await authenticationClient.VeirfyDeleteAccountRequest(new VerifyDeleteAccountRequestDto()\r\n            {\r\n                VerifyMethod = VerifyDeleteAccountRequestDto.verifyMethod.PASSWORD,\r\n                PasswordPayload = new DeleteAccountByPasswordDto\r\n                {\r\n                    PasswordEncryptType = DeleteAccountByPasswordDto.passwordEncryptType.NONE,\r\n                    Password = \"AUTHING_PASSWORD\"\r\n                }\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/delete-account":{"post":{"operationId":"ProfileV3Controller_deleteAccount","summary":"注销账户","description":"此端点用于用户自主注销账号，需要提供用于注销账号的临时凭证 deleteAccountToken，此参数需要通过**发起注销账号请求**接口获取。","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAccounDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IsSuccessRespDto"}}}}},"security":[{"x-authing-userpool-id":[]},{"bearer":[]}],"tags":["用户资料/注销账号"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n\r\n            var res1 = await authenticationClient.VeirfyDeleteAccountRequest(new VerifyDeleteAccountRequestDto()\r\n            {\r\n                VerifyMethod = VerifyDeleteAccountRequestDto.verifyMethod.PASSWORD,\r\n                PasswordPayload = new DeleteAccountByPasswordDto\r\n                {\r\n                    PasswordEncryptType = DeleteAccountByPasswordDto.passwordEncryptType.NONE,\r\n                    Password = \"AUTHING_PASSWORD\"\r\n                }\r\n            });\r\n            var res2 = await authenticationClient.DeleteAccount(new DeleteAccounDto\r\n            {\r\n                DeleteAccountToken = res1.Data.DeleteAccountToken\r\n            });\r\n        }\r\n    }\r\n}"}}},"/api/v3/system":{"get":{"operationId":"PublicAPIV3Controller_getSystemInfo","summary":"获取服务器公开信息","description":"可端点可获取服务器的公开信息，如 RSA256 公钥、SM2 公钥、Authing 服务版本号等。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemInfoResp"}}}}},"security":[{"bearer":[]}],"tags":["其他/公开信息端点"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var res = await authenticationClient.GetSystemInfo();\r\n        }\r\n    }\r\n}"}}},"/api/v3/get-country-list":{"get":{"operationId":"PublicAPIV3Controller_getCountryList","summary":"获取国家列表","description":"动态获取国家列表，可以用于前端登录页面国家选择和国际短信输入框选择，以减少前端静态资源体积。","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCountryListRespDto"}}}}},"security":[{"bearer":[]}],"tags":["其他/公开信息端点"],"x-authing-code-samples":{"csharp":"using System.Threading.Tasks;\r\nusing Authing.CSharp.SDK.Models;\r\nusing Authing.CSharp.SDK.Models.Authentication;\r\nusing Authing.CSharp.SDK.Services;\r\n\r\nnamespace ConsoleApplication\r\n{\r\n    public class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            MainAsync().GetAwaiter().GetResult();\r\n        }\r\n\r\n        private static async Task MainAsync()\r\n        {\r\n            // 设置初始化参数\r\n            AuthenticationClientInitOptions clientOptions = new AuthenticationClientInitOptions\r\n            {\r\n                AppId = \"AUTHING_APP_ID\",// Authing 应用 ID\r\n                AppSecret = \"AUTHING_APP_SECRET\",// Authing 应用密钥\r\n                AppHost = \"AUTHING_APP_DOMAIN\", // Authing 应用域名，如 https://example.authing.cn\r\n                RedirectUri = \"AUTHING_APP_REDIRECT_URI\",// Authing 应用配置的登录回调地址\r\n            };\r\n\r\n            // 初始化 AuthenticationClient\r\n            AuthenticationClient authenticationClient = new AuthenticationClient(clientOptions);\r\n\r\n            //登录临时用户\r\n            LoginTokenRespDto loginTokenRespDto = await authenticationClient.SignInByAccountPassword(\"AUTHING_USERNAME\", \"AUTHING_USER_PASSWORD\");\r\n            authenticationClient.setAccessToken(loginTokenRespDto.Data.Access_token);\r\n            \r\n            var res = await authenticationClient.GetCountryList();\r\n        }\r\n    }\r\n}"}}},"/api/v2/upload":{"post":{"operationId":"ApiV3UploadController_upload","x-authing-hidden-from-sdk":true,"summary":"文件上传","description":"","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadRespDto"}}}}},"tags":["文件上传/API 列表"]}}},"x-tagGroups":[{"name":"开发准备","tags":["开发准备/介绍","开发准备/基本概念","开发准备/HTTP 请求","开发准备/分页请求","开发准备/配置安全域","开发准备/密码安全传输","开发准备/接口限流","开发准备/服务对外 IP","开发准备/错误处理","开发准备/使用管理 API"]},{"name":"登录","tags":["登录/概述","登录/Authing 支持的登录方式","登录/我应该选择哪种登录方式","登录/实现单点登录","登录/对登录流程进行扩展","登录/使用托管登录页登录","登录/外部身份源（社会化）登录","登录/使用用户凭证登录","登录/移动端社会化登录","登录/扫码登录","登录/事件","登录/常见问题"]},{"name":"管理 Token","tags":["管理 Token/概述","管理 Token/基本概念","管理 Token/选择合适的授权模式","管理 Token/如何自定义 Scope","管理 Token/对签发 Token 流程进行扩展","管理 Token/后端服务如何为接口添加鉴权","管理 Token/API 列表","管理 Token/常见问题"]},{"name":"登出","tags":["登出/概述","登出/基本概念","登出/如何实现单点登出","登出/前端登出","登出/后端登出","登出/强制下线","登出/事件","登出/常见问题"]},{"name":"注册","tags":["注册/概述","注册/对注册流程进行扩展","注册/API 列表","注册/事件","注册/常见问题"]},{"name":"用户资料","tags":["用户资料/概述","用户资料/管理用户资料","用户资料/绑定邮箱","用户资料/绑定手机号","用户资料/修改邮箱","用户资料/修改手机号","用户资料/修改密码","用户资料/忘记密码","用户资料/注销账号","用户资料/事件","用户资料/常见问题"]},{"name":"账号绑定","tags":["账号绑定/概述","账号绑定/API 列表","账号绑定/事件","账号绑定/常见问题"]},{"name":"MFA 要素管理","tags":["MFA 要素管理/概述","MFA 要素管理/API 列表","MFA 要素管理/事件","MFA 要素管理/常见问题"]},{"name":"用户相关资源","tags":["用户相关资源/概述","用户相关资源/API 列表","用户相关资源/常见问题"]},{"name":"消息服务","tags":["消息服务/概述","消息服务/发送短信","消息服务/发送邮件","消息服务/常见问题"]},{"name":"微信相关接口","tags":["微信相关接口/概述","微信相关接口/API 列表","微信相关接口/常见问题"]},{"name":"文件上传","tags":["文件上传/概述","文件上传/API 列表","文件上传/常见问题"]},{"name":"其他","tags":["其他/公开信息端点"]},{"name":"最佳实践","tags":["最佳实践/最佳实践"]},{"name":"常见问题","tags":["常见问题/常见问题"]},{"name":"工具与资源","tags":["工具与资源/Authing 管理 API","工具与资源/Quick Start","工具与资源/SDK 列表","工具与资源/使用文档"]},{"name":"获取帮助","tags":["获取帮助/获取帮助"]}]}